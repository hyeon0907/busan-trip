/*! For license information please see main.ec315465.js.LICENSE.txt */
(()=>{var t={4(t,e,n){"use strict";var i=n(853),r=n(43),o=n(950);function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function u(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function c(t){if(31===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function h(t){if(l(t)!==t)throw Error(s(188))}function d(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t;for(t=t.child;null!==t;){if(null!==(e=d(t)))return e;t=t.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var L=Symbol.iterator;function I(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=L&&t[L]||t["@@iterator"])?t:null}var A=Symbol.for("react.client.reference");function N(t){if(null==t)return null;if("function"===typeof t)return t.$$typeof===A?null:t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case y:return"Fragment";case _:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case x:return"SuspenseList";case C:return"Activity"}if("object"===typeof t)switch(t.$$typeof){case g:return"Portal";case w:return t.displayName||"Context";case b:return(t._context.displayName||"Context")+".Consumer";case S:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(e=t.displayName||null)?e:N(t.type)||"Memo";case k:e=t._payload,t=t._init;try{return N(t(e))}catch(n){}}return null}var D=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},z=[],F=-1;function B(t){return{current:t}}function V(t){0>F||(t.current=z[F],z[F]=null,F--)}function j(t,e){F++,z[F]=t.current,t.current=e}var U,q,H=B(null),Z=B(null),W=B(null),G=B(null);function K(t,e){switch(j(W,e),j(Z,t),j(H,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?yh(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)t=vh(e=yh(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(H),j(H,t)}function Q(){V(H),V(Z),V(W)}function Y(t){null!==t.memoizedState&&j(G,t);var e=H.current,n=vh(e,t.type);e!==n&&(j(Z,t),j(H,n))}function X(t){Z.current===t&&(V(H),V(Z)),G.current===t&&(V(G),cd._currentValue=R)}function $(t){if(void 0===U)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);U=e&&e[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+t+q}var J=!1;function tt(t,e){if(!t||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(t,[],n)}else{try{n.call()}catch(o){i=o}t.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=t())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==u[r]){var c="\n"+l[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}}while(1<=i&&0<=r);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?$(n):""}function et(t,e){switch(t.tag){case 26:case 27:case 5:return $(t.type);case 16:return $("Lazy");case 13:return t.child!==e&&null!==e?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return tt(t.type,!1);case 11:return tt(t.type.render,!1);case 1:return tt(t.type,!0);case 31:return $("Activity");default:return""}}function nt(t){try{var e="",n=null;do{e+=et(t,n),n=t,t=t.return}while(t);return e}catch(i){return"\nError generating stack: "+i.message+"\n"+i.stack}}var it=Object.prototype.hasOwnProperty,rt=i.unstable_scheduleCallback,ot=i.unstable_cancelCallback,st=i.unstable_shouldYield,at=i.unstable_requestPaint,lt=i.unstable_now,ut=i.unstable_getCurrentPriorityLevel,ct=i.unstable_ImmediatePriority,ht=i.unstable_UserBlockingPriority,dt=i.unstable_NormalPriority,ft=i.unstable_LowPriority,pt=i.unstable_IdlePriority,mt=i.log,gt=i.unstable_setDisableYieldValue,yt=null,vt=null;function _t(t){if("function"===typeof mt&&gt(t),vt&&"function"===typeof vt.setStrictMode)try{vt.setStrictMode(yt,t)}catch(e){}}var bt=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(wt(t)/St|0)|0},wt=Math.log,St=Math.LN2;var Et=256,xt=262144,Tt=4194304;function kt(t){var e=42&t;if(0!==e)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&t;case 262144:case 524288:case 1048576:case 2097152:return 3932160&t;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&t;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ct(t,e,n){var i=t.pendingLanes;if(0===i)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~o)?r=kt(i):0!==(s&=a)?r=kt(s):n||0!==(n=a&~t)&&(r=kt(n)):0!==(a=i&~o)?r=kt(a):0!==s?r=kt(s):n||0!==(n=i&~t)&&(r=kt(n)),0===r?0:0!==e&&e!==r&&0===(e&o)&&((o=r&-r)>=(n=e&-e)||32===o&&0!==(4194048&n))?e:r}function Pt(t,e){return 0===(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)}function Lt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function It(){var t=Tt;return 0===(62914560&(Tt<<=1))&&(Tt=4194304),t}function At(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nt(t,e){t.pendingLanes|=e,268435456!==e&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dt(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-bt(e);t.entangledLanes|=e,t.entanglements[i]=1073741824|t.entanglements[i]|261930&n}function Mt(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-bt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function Ot(t,e){var n=e&-e;return 0!==((n=0!==(42&n)?1:Rt(n))&(t.suspendedLanes|e))?0:n}function Rt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zt(t){return 2<(t&=-t)?8<t?0!==(134217727&t)?32:268435456:8:2}function Ft(){var t=O.p;return 0!==t?t:void 0===(t=window.event)?32:kd(t.type)}function Bt(t,e){var n=O.p;try{return O.p=t,e()}finally{O.p=n}}var Vt=Math.random().toString(36).slice(2),jt="__reactFiber$"+Vt,Ut="__reactProps$"+Vt,qt="__reactContainer$"+Vt,Ht="__reactEvents$"+Vt,Zt="__reactListeners$"+Vt,Wt="__reactHandles$"+Vt,Gt="__reactResources$"+Vt,Kt="__reactMarker$"+Vt;function Qt(t){delete t[jt],delete t[Ut],delete t[Ht],delete t[Zt],delete t[Wt]}function Yt(t){var e=t[jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[jt]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Rh(t);null!==t;){if(n=t[jt])return n;t=Rh(t)}return e}n=(t=n).parentNode}return null}function Xt(t){if(t=t[jt]||t[qt]){var e=t.tag;if(5===e||6===e||13===e||31===e||26===e||27===e||3===e)return t}return null}function $t(t){var e=t.tag;if(5===e||26===e||27===e||6===e)return t.stateNode;throw Error(s(33))}function Jt(t){var e=t[Gt];return e||(e=t[Gt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function te(t){t[Kt]=!0}var ee=new Set,ne={};function ie(t,e){re(t,e),re(t+"Capture",e)}function re(t,e){for(ne[t]=e,t=0;t<e.length;t++)ee.add(e[t])}var oe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),se={},ae={};function le(t,e,n){if(r=e,it.call(ae,r)||!it.call(se,r)&&(oe.test(r)?ae[r]=!0:(se[r]=!0,0)))if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":return void t.removeAttribute(e);case"boolean":var i=e.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void t.removeAttribute(e)}t.setAttribute(e,""+n)}var r}function ue(t,e,n){if(null===n)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(e)}t.setAttribute(e,""+n)}}function ce(t,e,n,i){if(null===i)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void t.removeAttribute(n)}t.setAttributeNS(e,n,""+i)}}function he(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function de(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function fe(t){if(!t._valueTracker){var e=de(t)?"checked":"value";t._valueTracker=function(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t,e,""+t[e])}}function pe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=de(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function me(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}var ge=/[\n"\\]/g;function ye(t){return t.replace(ge,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ve(t,e,n,i,r,o,s,a){t.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?t.type=s:t.removeAttribute("type"),null!=e?"number"===s?(0===e&&""===t.value||t.value!=e)&&(t.value=""+he(e)):t.value!==""+he(e)&&(t.value=""+he(e)):"submit"!==s&&"reset"!==s||t.removeAttribute("value"),null!=e?be(t,s,he(e)):null!=n?be(t,s,he(n)):null!=i&&t.removeAttribute("value"),null==r&&null!=o&&(t.defaultChecked=!!o),null!=r&&(t.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?t.name=""+he(a):t.removeAttribute("name")}function _e(t,e,n,i,r,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(t.type=o),null!=e||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==e&&null!==e))return void fe(t);n=null!=n?""+he(n):"",e=null!=e?""+he(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,t.checked=a?t.checked:!!i,t.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(t.name=s),fe(t)}function be(t,e,n){"number"===e&&me(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function we(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+he(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Se(t,e,n){null==e||((e=""+he(e))!==t.value&&(t.value=e),null!=n)?t.defaultValue=null!=n?""+he(n):"":t.defaultValue!==e&&(t.defaultValue=e)}function Ee(t,e,n,i){if(null==e){if(null!=i){if(null!=n)throw Error(s(92));if(D(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),e=n}n=he(e),t.defaultValue=n,(i=t.textContent)===n&&""!==i&&null!==i&&(t.value=i),fe(t)}function xe(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var Te=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ke(t,e,n){var i=0===e.indexOf("--");null==n||"boolean"===typeof n||""===n?i?t.setProperty(e,""):"float"===e?t.cssFloat="":t[e]="":i?t.setProperty(e,n):"number"!==typeof n||0===n||Te.has(e)?"float"===e?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Ce(t,e,n){if(null!=e&&"object"!==typeof e)throw Error(s(62));if(t=t.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=e&&e.hasOwnProperty(i)||(0===i.indexOf("--")?t.setProperty(i,""):"float"===i?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&ke(t,r,i)}else for(var o in e)e.hasOwnProperty(o)&&ke(t,o,e[o])}function Pe(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Le=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ie=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ae(t){return Ie.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ne(){}var De=null;function Me(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Oe=null,Re=null;function ze(t){var e=Xt(t);if(e&&(t=e.stateNode)){var n=t[Ut]||null;t:switch(t=e.stateNode,e.type){case"input":if(ve(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ye(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Ut]||null;if(!r)throw Error(s(90));ve(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)(i=n[e]).form===t.form&&pe(i)}break t;case"textarea":Se(t,n.value,n.defaultValue);break t;case"select":null!=(e=n.value)&&we(t,!!n.multiple,e,!1)}}}var Fe=!1;function Be(t,e,n){if(Fe)return t(e,n);Fe=!0;try{return t(e)}finally{if(Fe=!1,(null!==Oe||null!==Re)&&(Ju(),Oe&&(e=Oe,t=Re,Re=Oe=null,ze(e),t)))for(e=0;e<t.length;e++)ze(t[e])}}function Ve(t,e){var n=t.stateNode;if(null===n)return null;var i=n[Ut]||null;if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var je=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ue=!1;if(je)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(Xd){Ue=!1}var He=null,Ze=null,We=null;function Ge(){if(We)return We;var t,e,n=Ze,i=n.length,r="value"in He?He.value:He.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return We=r.slice(t,1<e?1-e:void 0)}function Ke(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Qe(){return!0}function Ye(){return!1}function Xe(t){function e(e,n,i,r,o){for(var s in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Qe:Ye,this.isPropagationStopped=Ye,this}return f(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Qe)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Qe)},persist:function(){},isPersistent:Qe}),e}var $e,Je,tn,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xe(en),rn=f({},en,{view:0,detail:0}),on=Xe(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tn&&(tn&&"mousemove"===t.type?($e=t.screenX-tn.screenX,Je=t.screenY-tn.screenY):Je=$e=0,tn=t),$e)},movementY:function(t){return"movementY"in t?t.movementY:Je}}),an=Xe(sn),ln=Xe(f({},sn,{dataTransfer:0})),un=Xe(f({},rn,{relatedTarget:0})),cn=Xe(f({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Xe(f({},en,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),dn=Xe(f({},en,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=mn[t])&&!!e[t]}function yn(){return gn}var vn=Xe(f({},rn,{key:function(t){if(t.key){var e=fn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ke(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(t){return"keypress"===t.type?Ke(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ke(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),_n=Xe(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Xe(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Xe(f({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Xe(f({},sn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),En=Xe(f({},en,{newState:0,oldState:0})),xn=[9,13,27,32],Tn=je&&"CompositionEvent"in window,kn=null;je&&"documentMode"in document&&(kn=document.documentMode);var Cn=je&&"TextEvent"in window&&!kn,Pn=je&&(!Tn||kn&&8<kn&&11>=kn),Ln=String.fromCharCode(32),In=!1;function An(t,e){switch(t){case"keyup":return-1!==xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Dn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Mn[t.type]:"textarea"===e}function Rn(t,e,n,i){Oe?Re?Re.push(i):Re=[i]:Oe=i,0<(e=ih(e,"onChange")).length&&(n=new nn("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var zn=null,Fn=null;function Bn(t){Qc(t,0)}function Vn(t){if(pe($t(t)))return t}function jn(t,e){if("change"===t)return e}var Un=!1;if(je){var qn;if(je){var Hn="oninput"in document;if(!Hn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Hn="function"===typeof Zn.oninput}qn=Hn}else qn=!1;Un=qn&&(!document.documentMode||9<document.documentMode)}function Wn(){zn&&(zn.detachEvent("onpropertychange",Gn),Fn=zn=null)}function Gn(t){if("value"===t.propertyName&&Vn(Fn)){var e=[];Rn(e,Fn,t,Me(t)),Be(Bn,e)}}function Kn(t,e,n){"focusin"===t?(Wn(),Fn=n,(zn=e).attachEvent("onpropertychange",Gn)):"focusout"===t&&Wn()}function Qn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Vn(Fn)}function Yn(t,e){if("click"===t)return Vn(e)}function Xn(t,e){if("input"===t||"change"===t)return Vn(e)}var $n="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function Jn(t,e){if($n(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!it.call(e,r)||!$n(t[r],e[r]))return!1}return!0}function ti(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ei(t,e){var n,i=ti(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ti(i)}}function ni(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ni(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ii(t){for(var e=me((t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window).document);e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=me((t=e.contentWindow).document)}return e}function ri(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var oi=je&&"documentMode"in document&&11>=document.documentMode,si=null,ai=null,li=null,ui=!1;function ci(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ui||null==si||si!==me(i)||("selectionStart"in(i=si)&&ri(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},li&&Jn(li,i)||(li=i,0<(i=ih(ai,"onSelect")).length&&(e=new nn("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=si)))}function hi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var di={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},fi={},pi={};function mi(t){if(fi[t])return fi[t];if(!di[t])return t;var e,n=di[t];for(e in n)if(n.hasOwnProperty(e)&&e in pi)return fi[t]=n[e];return t}je&&(pi=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);var gi=mi("animationend"),yi=mi("animationiteration"),vi=mi("animationstart"),_i=mi("transitionrun"),bi=mi("transitionstart"),wi=mi("transitioncancel"),Si=mi("transitionend"),Ei=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){Ei.set(t,e),ie(e,[t])}xi.push("scrollEnd");var ki="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)},Ci=[],Pi=0,Li=0;function Ii(){for(var t=Pi,e=Li=Pi=0;e<t;){var n=Ci[e];Ci[e++]=null;var i=Ci[e];Ci[e++]=null;var r=Ci[e];Ci[e++]=null;var o=Ci[e];if(Ci[e++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==o&&Mi(n,r,o)}}function Ai(t,e,n,i){Ci[Pi++]=t,Ci[Pi++]=e,Ci[Pi++]=n,Ci[Pi++]=i,Li|=i,t.lanes|=i,null!==(t=t.alternate)&&(t.lanes|=i)}function Ni(t,e,n,i){return Ai(t,e,n,i),Oi(t)}function Di(t,e){return Ai(t,null,null,e),Oi(t)}function Mi(t,e,n){t.lanes|=n;var i=t.alternate;null!==i&&(i.lanes|=n);for(var r=!1,o=t.return;null!==o;)o.childLanes|=n,null!==(i=o.alternate)&&(i.childLanes|=n),22===o.tag&&(null===(t=o.stateNode)||1&t._visibility||(r=!0)),t=o,o=o.return;return 3===t.tag?(o=t.stateNode,r&&null!==e&&(r=31-bt(n),null===(i=(t=o.hiddenUpdates)[r])?t[r]=[e]:i.push(e),e.lane=536870912|n),o):null}function Oi(t){if(50<Hu)throw Hu=0,Zu=null,Error(s(185));for(var e=t.return;null!==e;)e=(t=e).return;return 3===t.tag?t.stateNode:null}var Ri={};function zi(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,i){return new zi(t,e,n,i)}function Bi(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Vi(t,e){var n=t.alternate;return null===n?((n=Fi(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ji(t,e){t.flags&=65011714;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ui(t,e,n,i,r,o){var a=0;if(i=t,"function"===typeof t)Bi(t)&&(a=1);else if("string"===typeof t)a=function(t,e,n){if(1===n||null!=e.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!==typeof e.precedence||"string"!==typeof e.href||""===e.href)break;return!0;case"link":if("string"!==typeof e.rel||"string"!==typeof e.href||""===e.href||e.onLoad||e.onError)break;return"stylesheet"!==e.rel||(t=e.disabled,"string"===typeof e.precedence&&null==t);case"script":if(e.async&&"function"!==typeof e.async&&"symbol"!==typeof e.async&&!e.onLoad&&!e.onError&&e.src&&"string"===typeof e.src)return!0}return!1}(t,n,H.current)?26:"html"===t||"head"===t||"body"===t?27:5;else t:switch(t){case C:return(t=Fi(31,n,e,r)).elementType=C,t.lanes=o,t;case y:return qi(n.children,r,o,e);case v:a=8,r|=24;break;case _:return(t=Fi(12,n,e,2|r)).elementType=_,t.lanes=o,t;case E:return(t=Fi(13,n,e,r)).elementType=E,t.lanes=o,t;case x:return(t=Fi(19,n,e,r)).elementType=x,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case w:a=10;break t;case b:a=9;break t;case S:a=11;break t;case T:a=14;break t;case k:a=16,i=null;break t}a=29,n=Error(s(130,null===t?"null":typeof t,"")),i=null}return(e=Fi(a,n,e,r)).elementType=t,e.type=i,e.lanes=o,e}function qi(t,e,n,i){return(t=Fi(7,t,i,e)).lanes=n,t}function Hi(t,e,n){return(t=Fi(6,t,null,e)).lanes=n,t}function Zi(t){var e=Fi(18,null,null,0);return e.stateNode=t,e}function Wi(t,e,n){return(e=Fi(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Gi=new WeakMap;function Ki(t,e){if("object"===typeof t&&null!==t){var n=Gi.get(t);return void 0!==n?n:(e={value:t,source:e,stack:nt(e)},Gi.set(t,e),e)}return{value:t,source:e,stack:nt(e)}}var Qi=[],Yi=0,Xi=null,$i=0,Ji=[],tr=0,er=null,nr=1,ir="";function rr(t,e){Qi[Yi++]=$i,Qi[Yi++]=Xi,Xi=t,$i=e}function or(t,e,n){Ji[tr++]=nr,Ji[tr++]=ir,Ji[tr++]=er,er=t;var i=nr;t=ir;var r=32-bt(i)-1;i&=~(1<<r),n+=1;var o=32-bt(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,nr=1<<32-bt(e)+r|n<<r|i,ir=o+t}else nr=1<<o|n<<r|i,ir=t}function sr(t){null!==t.return&&(rr(t,1),or(t,1,0))}function ar(t){for(;t===Xi;)Xi=Qi[--Yi],Qi[Yi]=null,$i=Qi[--Yi],Qi[Yi]=null;for(;t===er;)er=Ji[--tr],Ji[tr]=null,ir=Ji[--tr],Ji[tr]=null,nr=Ji[--tr],Ji[tr]=null}function lr(t,e){Ji[tr++]=nr,Ji[tr++]=ir,Ji[tr++]=er,nr=e.id,ir=e.overflow,er=t}var ur=null,cr=null,hr=!1,dr=null,fr=!1,pr=Error(s(519));function mr(t){throw wr(Ki(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),t)),pr}function gr(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[jt]=t,e[Ut]=i,n){case"dialog":Yc("cancel",e),Yc("close",e);break;case"iframe":case"object":case"embed":Yc("load",e);break;case"video":case"audio":for(n=0;n<Gc.length;n++)Yc(Gc[n],e);break;case"source":Yc("error",e);break;case"img":case"image":case"link":Yc("error",e),Yc("load",e);break;case"details":Yc("toggle",e);break;case"input":Yc("invalid",e),_e(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Yc("invalid",e);break;case"textarea":Yc("invalid",e),Ee(e,i.value,i.defaultValue,i.children)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||e.textContent===""+n||!0===i.suppressHydrationWarning||uh(e.textContent,n)?(null!=i.popover&&(Yc("beforetoggle",e),Yc("toggle",e)),null!=i.onScroll&&Yc("scroll",e),null!=i.onScrollEnd&&Yc("scrollend",e),null!=i.onClick&&(e.onclick=Ne),e=!0):e=!1,e||mr(t,!0)}function yr(t){for(ur=t.return;ur;)switch(ur.tag){case 5:case 31:case 13:return void(fr=!1);case 27:case 3:return void(fr=!0);default:ur=ur.return}}function vr(t){if(t!==ur)return!1;if(!hr)return yr(t),hr=!0,!1;var e,n=t.tag;if((e=3!==n&&27!==n)&&((e=5===n)&&(e=!("form"!==(e=t.type)&&"button"!==e)||_h(t.type,t.memoizedProps)),e=!e),e&&cr&&mr(t),yr(t),13===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));cr=Oh(t)}else if(31===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));cr=Oh(t)}else 27===n?(n=cr,kh(t.type)?(t=Mh,Mh=null,cr=t):cr=n):cr=ur?Dh(t.stateNode.nextSibling):null;return!0}function _r(){cr=ur=null,hr=!1}function br(){var t=dr;return null!==t&&(null===Iu?Iu=t:Iu.push.apply(Iu,t),dr=null),t}function wr(t){null===dr?dr=[t]:dr.push(t)}var Sr=B(null),Er=null,xr=null;function Tr(t,e,n){j(Sr,e._currentValue),e._currentValue=n}function kr(t){t._currentValue=Sr.current,V(Sr)}function Cr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Pr(t,e,n,i){var r=t.child;for(null!==r&&(r.return=t);null!==r;){var o=r.dependencies;if(null!==o){var a=r.child;o=o.firstContext;t:for(;null!==o;){var l=o;o=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cr(o.return,n,t),i||(a=null);break t}o=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Cr(a,n,t),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===t){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function Lr(t,e,n,i){t=null;for(var r=e,o=!1;null!==r;){if(!o)if(0!==(524288&r.flags))o=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=r.type;$n(r.pendingProps.value,a.value)||(null!==t?t.push(l):t=[l])}}else if(r===G.current){if(null===(a=r.alternate))throw Error(s(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==t?t.push(cd):t=[cd])}r=r.return}null!==t&&Pr(e,t,n,i),e.flags|=262144}function Ir(t){for(t=t.firstContext;null!==t;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ar(t){Er=t,xr=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function Nr(t){return Mr(Er,t)}function Dr(t,e){return null===Er&&Ar(t),Mr(t,e)}function Mr(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},null===xr){if(null===t)throw Error(s(308));xr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else xr=xr.next=e;return n}var Or="undefined"!==typeof AbortController?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(e,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(t){return t()})}},Rr=i.unstable_scheduleCallback,zr=i.unstable_NormalPriority,Fr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new Or,data:new Map,refCount:0}}function Vr(t){t.refCount--,0===t.refCount&&Rr(zr,function(){t.controller.abort()})}var jr=null,Ur=0,qr=0,Hr=null;function Zr(){if(0===--Ur&&null!==jr){null!==Hr&&(Hr.status="fulfilled");var t=jr;jr=null,qr=0,Hr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}var Wr=M.S;M.S=function(t,e){Du=lt(),"object"===typeof e&&null!==e&&"function"===typeof e.then&&function(t,e){if(null===jr){var n=jr=[];Ur=0,qr=Uc(),Hr={status:"pending",value:void 0,then:function(t){n.push(t)}}}Ur++,e.then(Zr,Zr)}(0,e),null!==Wr&&Wr(t,e)};var Gr=B(null);function Kr(){var t=Gr.current;return null!==t?t:pu.pooledCache}function Qr(t,e){j(Gr,null===e?Gr.current:e.pool)}function Yr(){var t=Kr();return null===t?null:{parent:Fr._currentValue,pool:t}}var Xr=Error(s(460)),$r=Error(s(474)),Jr=Error(s(542)),to={then:function(){}};function eo(t){return"fulfilled"===(t=t.status)||"rejected"===t}function no(t,e,n){switch(void 0===(n=t[n])?t.push(e):n!==e&&(e.then(Ne,Ne),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw so(t=e.reason),t;default:if("string"===typeof e.status)e.then(Ne,Ne);else{if(null!==(t=pu)&&100<t.shellSuspendCounter)throw Error(s(482));(t=e).status="pending",t.then(function(t){if("pending"===e.status){var n=e;n.status="fulfilled",n.value=t}},function(t){if("pending"===e.status){var n=e;n.status="rejected",n.reason=t}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw so(t=e.reason),t}throw ro=e,Xr}}function io(t){try{return(0,t._init)(t._payload)}catch(e){if(null!==e&&"object"===typeof e&&"function"===typeof e.then)throw ro=e,Xr;throw e}}var ro=null;function oo(){if(null===ro)throw Error(s(459));var t=ro;return ro=null,t}function so(t){if(t===Xr||t===Jr)throw Error(s(483))}var ao=null,lo=0;function uo(t){var e=lo;return lo+=1,null===ao&&(ao=[]),no(ao,t,e)}function co(t,e){e=e.props.ref,t.ref=void 0!==e?e:null}function ho(t,e){if(e.$$typeof===p)throw Error(s(525));throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fo(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t){for(var e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(t,e){return(t=Vi(t,e)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=67108866,n):i:(e.flags|=67108866,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=67108866),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Hi(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,i){var o=n.type;return o===y?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===k&&io(o)===e.type)?(co(e=r(e,n.props),n),e.return=t,e):(co(e=Ui(n.type,n.key,n.props,null,t.mode,i),n),e.return=t,e)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Wi(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=qi(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e||"bigint"===typeof e)return(e=Hi(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case m:return co(n=Ui(e.type,e.key,e.props,null,t.mode,n),e),n.return=t,n;case g:return(e=Wi(e,t.mode,n)).return=t,e;case k:return d(t,e=io(e),n)}if(D(e)||I(e))return(e=qi(e,t.mode,n,null)).return=t,e;if("function"===typeof e.then)return d(t,uo(e),n);if(e.$$typeof===w)return d(t,Dr(t,e),n);ho(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?u(t,e,n,i):null;case g:return n.key===r?c(t,e,n,i):null;case k:return f(t,e,n=io(n),i)}if(D(n)||I(n))return null!==r?null:h(t,e,n,i,null);if("function"===typeof n.then)return f(t,e,uo(n),i);if(n.$$typeof===w)return f(t,e,Dr(t,n),i);ho(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case m:return u(e,t=t.get(null===i.key?n:i.key)||null,i,r);case g:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case k:return p(t,e,n,i=io(i),r)}if(D(i)||I(i))return h(e,t=t.get(n)||null,i,r,null);if("function"===typeof i.then)return p(t,e,n,uo(i),r);if(i.$$typeof===w)return p(t,e,n,Dr(e,i),r);ho(e,i)}return null}function v(l,u,c,h){if("object"===typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:t:{for(var _=c.key;null!==u;){if(u.key===_){if((_=c.type)===y){if(7===u.tag){n(l,u.sibling),(h=r(u,c.props.children)).return=l,l=h;break t}}else if(u.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===k&&io(_)===u.type){n(l,u.sibling),co(h=r(u,c.props),c),h.return=l,l=h;break t}n(l,u);break}e(l,u),u=u.sibling}c.type===y?((h=qi(c.props.children,l.mode,h,c.key)).return=l,l=h):(co(h=Ui(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return a(l);case g:t:{for(_=c.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=r(u,c.children||[])).return=l,l=h;break t}n(l,u);break}e(l,u),u=u.sibling}(h=Wi(c,l.mode,h)).return=l,l=h}return a(l);case k:return v(l,u,c=io(c),h)}if(D(c))return function(r,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(r,h,a[m],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(r,h),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(r,h),hr&&rr(r,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return hr&&rr(r,m),u}for(h=i(h);m<a.length;m++)null!==(g=p(h,r,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach(function(t){return e(r,t)}),hr&&rr(r,m),u}(l,u,c,h);if(I(c)){if("function"!==typeof(_=I(c)))throw Error(s(150));return function(r,a,l,u){if(null==l)throw Error(s(151));for(var c=null,h=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=f(r,m,v.value,u);if(null===_){null===m&&(m=y);break}t&&m&&null===_.alternate&&e(r,m),a=o(_,a,g),null===h?c=_:h.sibling=_,h=_,m=y}if(v.done)return n(r,m),hr&&rr(r,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,u))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return hr&&rr(r,g),c}for(m=i(m);!v.done;g++,v=l.next())null!==(v=p(m,r,g,v.value,u))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return t&&m.forEach(function(t){return e(r,t)}),hr&&rr(r,g),c}(l,u,c=_.call(c),h)}if("function"===typeof c.then)return v(l,u,uo(c),h);if(c.$$typeof===w)return v(l,u,Dr(l,c),h);ho(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=r(u,c)).return=l,l=h):(n(l,u),(h=Hi(c,l.mode,h)).return=l,l=h),a(l)):n(l,u)}return function(t,e,n,i){try{lo=0;var r=v(t,e,n,i);return ao=null,r}catch(s){if(s===Xr||s===Jr)throw s;var o=Fi(29,s,null,t.mode);return o.lanes=i,o.return=t,o}}}var po=fo(!0),mo=fo(!1),go=!1;function yo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _o(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bo(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&fu)){var r=i.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Oi(t),Mi(t,null,n),e}return Ai(t,i,e,n),Oi(t)}function wo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194048&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Mt(t,n)}}function So(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Eo=!1;function xo(){if(Eo){if(null!==Hr)throw Hr}}function To(t,e,n,i){Eo=!1;var r=t.updateQueue;go=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(s=0,c=u=l=null,a=o;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(gu&d)===d:(i&d)===d){0!==d&&d===qr&&(Eo=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});t:{var m=t,g=a;d=e;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break t}h=m;break t;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break t;h=f({},h,d);break t;case 2:go=!0}}null!==(d=a.callback)&&(t.flags|=64,p&&(t.flags|=8192),null===(p=r.callbacks)?r.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,s|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null===o&&(r.shared.lanes=0),xu|=s,t.lanes=s,t.memoizedState=h}}function ko(t,e){if("function"!==typeof t)throw Error(s(191,t));t.call(e)}function Co(t,e){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)ko(n[t],e)}var Po=B(null),Lo=B(0);function Io(t,e){j(Lo,t=Su),j(Po,e),Su=t|e.baseLanes}function Ao(){j(Lo,Su),j(Po,Po.current)}function No(){Su=Lo.current,V(Po),V(Lo)}var Do=B(null),Mo=null;function Oo(t){var e=t.alternate;j(Vo,1&Vo.current),j(Do,t),null===Mo&&(null===e||null!==Po.current||null!==e.memoizedState)&&(Mo=t)}function Ro(t){j(Vo,Vo.current),j(Do,t),null===Mo&&(Mo=t)}function zo(t){22===t.tag?(j(Vo,Vo.current),j(Do,t),null===Mo&&(Mo=t)):Fo()}function Fo(){j(Vo,Vo.current),j(Do,Do.current)}function Bo(t){V(Do),Mo===t&&(Mo=null),V(Vo)}var Vo=B(0);function jo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ah(n)||Nh(n)))return e}else if(19!==e.tag||"forwards"!==e.memoizedProps.revealOrder&&"backwards"!==e.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==e.memoizedProps.revealOrder&&"together"!==e.memoizedProps.revealOrder){if(null!==e.child){e.child.return=e,e=e.child;continue}}else if(0!==(128&e.flags))return e;if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uo=0,qo=null,Ho=null,Zo=null,Wo=!1,Go=!1,Ko=!1,Qo=0,Yo=0,Xo=null,$o=0;function Jo(){throw Error(s(321))}function ts(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function es(t,e,n,i,r,o){return Uo=o,qo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,M.H=null===t||null===t.memoizedState?ga:ya,Ko=!1,o=n(i,r),Ko=!1,Go&&(o=is(e,n,i,r)),ns(t),o}function ns(t){M.H=ma;var e=null!==Ho&&null!==Ho.next;if(Uo=0,Zo=Ho=qo=null,Wo=!1,Yo=0,Xo=null,e)throw Error(s(300));null===t||Da||null!==(t=t.dependencies)&&Ir(t)&&(Da=!0)}function is(t,e,n,i){qo=t;var r=0;do{if(Go&&(Xo=null),Yo=0,Go=!1,25<=r)throw Error(s(301));if(r+=1,Zo=Ho=null,null!=t.updateQueue){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}M.H=va,o=e(n,i)}while(Go);return o}function rs(){var t=M.H,e=t.useState()[0];return e="function"===typeof e.then?cs(e):e,t=t.useState()[0],(null!==Ho?Ho.memoizedState:null)!==t&&(qo.flags|=1024),e}function os(){var t=0!==Qo;return Qo=0,t}function ss(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function as(t){if(Wo){for(t=t.memoizedState;null!==t;){var e=t.queue;null!==e&&(e.pending=null),t=t.next}Wo=!1}Uo=0,Zo=Ho=qo=null,Go=!1,Yo=Qo=0,Xo=null}function ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?qo.memoizedState=Zo=t:Zo=Zo.next=t,Zo}function us(){if(null===Ho){var t=qo.alternate;t=null!==t?t.memoizedState:null}else t=Ho.next;var e=null===Zo?qo.memoizedState:Zo.next;if(null!==e)Zo=e,Ho=t;else{if(null===t){if(null===qo.alternate)throw Error(s(467));throw Error(s(310))}t={memoizedState:(Ho=t).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Zo?qo.memoizedState=Zo=t:Zo=Zo.next=t}return Zo}function cs(t){var e=Yo;return Yo+=1,null===Xo&&(Xo=[]),t=no(Xo,t,e),e=qo,null===(null===Zo?e.memoizedState:Zo.next)&&(e=e.alternate,M.H=null===e||null===e.memoizedState?ga:ya),t}function hs(t){if(null!==t&&"object"===typeof t){if("function"===typeof t.then)return cs(t);if(t.$$typeof===w)return Nr(t)}throw Error(s(438,String(t)))}function ds(t){var e=null,n=qo.updateQueue;if(null!==n&&(e=n.memoCache),null==e){var i=qo.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(e={data:i.data.map(function(t){return t.slice()}),index:0})))}if(null==e&&(e={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=n),n.memoCache=e,void 0===(n=e.data[e.index]))for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=P;return e.index++,n}function fs(t,e){return"function"===typeof e?e(t):e}function ps(t){return ms(us(),Ho,t)}function ms(t,e,n){var i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=t.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}e.baseQueue=r=o,i.pending=null}if(o=t.baseState,null===r)t.memoizedState=o;else{var l=a=null,u=null,c=e=r.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(gu&d)===d:(Uo&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===qr&&(h=!0);else{if((Uo&f)===f){c=c.next,f===qr&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=o):u=u.next=d,qo.lanes|=f,xu|=f}d=c.action,Ko&&n(o,d),o=c.hasEagerState?c.eagerState:n(o,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=o):u=u.next=f,qo.lanes|=d,xu|=d;c=c.next}while(null!==c&&c!==e);if(null===u?a=o:u.next=l,!$n(o,t.memoizedState)&&(Da=!0,h&&null!==(n=Hr)))throw n;t.memoizedState=o,t.baseState=a,t.baseQueue=u,i.lastRenderedState=o}return null===r&&(i.lanes=0),[t.memoizedState,i.dispatch]}function gs(t){var e=us(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=t(o,a.action),a=a.next}while(a!==r);$n(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function ys(t,e,n){var i=qo,r=us(),o=hr;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=e();var a=!$n((Ho||r).memoizedState,n);if(a&&(r.memoizedState=n,Da=!0),r=r.queue,Us(bs.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||null!==Zo&&1&Zo.memoizedState.tag){if(i.flags|=2048,zs(9,{destroy:void 0},_s.bind(null,i,r,n,e),null),null===pu)throw Error(s(349));o||0!==(127&Uo)||vs(i,e,n)}return n}function vs(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=qo.updateQueue)?(e={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function _s(t,e,n,i){e.value=n,e.getSnapshot=i,ws(e)&&Ss(t)}function bs(t,e,n){return n(function(){ws(e)&&Ss(t)})}function ws(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch(i){return!0}}function Ss(t){var e=Di(t,2);null!==e&&Ku(e,t,2)}function Es(t){var e=ls();if("function"===typeof t){var n=t;if(t=n(),Ko){_t(!0);try{n()}finally{_t(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},e}function xs(t,e,n,i){return t.baseState=n,ms(t,Ho,"function"===typeof i?i:fs)}function Ts(t,e,n,i,r){if(da(t))throw Error(s(485));if(null!==(t=e.action)){var o={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){o.listeners.push(t)}};null!==M.T?n(!0):o.isTransition=!1,i(o),null===(n=e.pending)?(o.next=e.pending=o,ks(e,o)):(o.next=n.next,e.pending=n.next=o)}}function ks(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var o=M.T,s={};M.T=s;try{var a=n(r,i),l=M.S;null!==l&&l(s,a),Cs(t,e,a)}catch(u){Ls(t,e,u)}finally{null!==o&&null!==s.types&&(o.types=s.types),M.T=o}}else try{Cs(t,e,o=n(r,i))}catch(c){Ls(t,e,c)}}function Cs(t,e,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ps(t,e,n)},function(n){return Ls(t,e,n)}):Ps(t,e,n)}function Ps(t,e,n){e.status="fulfilled",e.value=n,Is(e),t.state=n,null!==(e=t.pending)&&((n=e.next)===e?t.pending=null:(n=n.next,e.next=n,ks(t,n)))}function Ls(t,e,n){var i=t.pending;if(t.pending=null,null!==i){i=i.next;do{e.status="rejected",e.reason=n,Is(e),e=e.next}while(e!==i)}t.action=null}function Is(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function As(t,e){return e}function Ns(t,e){if(hr){var n=pu.formState;if(null!==n){t:{var i=qo;if(hr){if(cr){e:{for(var r=cr,o=fr;8!==r.nodeType;){if(!o){r=null;break e}if(null===(r=Dh(r.nextSibling))){r=null;break e}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){cr=Dh(r.nextSibling),i="F!"===r.data;break t}}mr(i)}i=!1}i&&(e=n[0])}}return(n=ls()).memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},n.queue=i,n=ua.bind(null,qo,i),i.dispatch=n,i=Es(!1),o=ha.bind(null,qo,!1,i.queue),r={state:e,dispatch:null,action:t,pending:null},(i=ls()).queue=r,n=Ts.bind(null,qo,r,o,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Ds(t){return Ms(us(),Ho,t)}function Ms(t,e,n){if(e=ms(t,e,As)[0],t=ps(fs)[0],"object"===typeof e&&null!==e&&"function"===typeof e.then)try{var i=cs(e)}catch(s){if(s===Xr)throw Jr;throw s}else i=e;var r=(e=us()).queue,o=r.dispatch;return n!==e.memoizedState&&(qo.flags|=2048,zs(9,{destroy:void 0},Os.bind(null,r,n),null)),[i,o,t]}function Os(t,e){t.action=e}function Rs(t){var e=us(),n=Ho;if(null!==n)return Ms(e,n,t);us(),e=e.memoizedState;var i=(n=us()).queue.dispatch;return n.memoizedState=t,[e,i,!1]}function zs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},null===(e=qo.updateQueue)&&(e={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=e),null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Fs(){return us().memoizedState}function Bs(t,e,n,i){var r=ls();qo.flags|=t,r.memoizedState=zs(1|e,{destroy:void 0},n,void 0===i?null:i)}function Vs(t,e,n,i){var r=us();i=void 0===i?null:i;var o=r.memoizedState.inst;null!==Ho&&null!==i&&ts(i,Ho.memoizedState.deps)?r.memoizedState=zs(e,o,n,i):(qo.flags|=t,r.memoizedState=zs(1|e,o,n,i))}function js(t,e){Bs(8390656,8,t,e)}function Us(t,e){Vs(2048,8,t,e)}function qs(t){var e=us().memoizedState;return function(t){qo.flags|=4;var e=qo.updateQueue;if(null===e)e={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=e,e.events=[t];else{var n=e.events;null===n?e.events=[t]:n.push(t)}}({ref:e,nextImpl:t}),function(){if(0!==(2&fu))throw Error(s(440));return e.impl.apply(void 0,arguments)}}function Hs(t,e){return Vs(4,2,t,e)}function Zs(t,e){return Vs(4,4,t,e)}function Ws(t,e){if("function"===typeof e){t=t();var n=e(t);return function(){"function"===typeof n?n():e(null)}}if(null!==e&&void 0!==e)return t=t(),e.current=t,function(){e.current=null}}function Gs(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Vs(4,4,Ws.bind(null,e,t),n)}function Ks(){}function Qs(t,e){var n=us();e=void 0===e?null:e;var i=n.memoizedState;return null!==e&&ts(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ys(t,e){var n=us();e=void 0===e?null:e;var i=n.memoizedState;if(null!==e&&ts(e,i[1]))return i[0];if(i=t(),Ko){_t(!0);try{t()}finally{_t(!1)}}return n.memoizedState=[i,e],i}function Xs(t,e,n){return void 0===n||0!==(1073741824&Uo)&&0===(261930&gu)?t.memoizedState=e:(t.memoizedState=n,t=Gu(),qo.lanes|=t,xu|=t,n)}function $s(t,e,n,i){return $n(n,e)?n:null!==Po.current?(t=Xs(t,n,i),$n(t,e)||(Da=!0),t):0===(42&Uo)||0!==(1073741824&Uo)&&0===(261930&gu)?(Da=!0,t.memoizedState=n):(t=Gu(),qo.lanes|=t,xu|=t,e)}function Js(t,e,n,i,r){var o=O.p;O.p=0!==o&&8>o?o:8;var s=M.T,a={};M.T=a,ha(t,!1,e,n);try{var l=r(),u=M.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ca(t,e,function(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(t){n.push(t)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var t=0;t<n.length;t++)(0,n[t])(e)},function(t){for(i.status="rejected",i.reason=t,t=0;t<n.length;t++)(0,n[t])(void 0)}),i}(l,i),Wu());else ca(t,e,i,Wu())}catch(c){ca(t,e,{then:function(){},status:"rejected",reason:c},Wu())}finally{O.p=o,null!==s&&null!==a.types&&(s.types=a.types),M.T=s}}function ta(){}function ea(t,e,n,i){if(5!==t.tag)throw Error(s(476));var r=na(t).queue;Js(t,r,e,R,null===n?ta:function(){return ia(t),n(i)})}function na(t){var e=t.memoizedState;if(null!==e)return e;var n={};return(e={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},t.memoizedState=e,null!==(t=t.alternate)&&(t.memoizedState=e),e}function ia(t){var e=na(t);null===e.next&&(e=t.alternate.memoizedState),ca(t,e.next.queue,{},Wu())}function ra(){return Nr(cd)}function oa(){return us().memoizedState}function sa(){return us().memoizedState}function aa(t){for(var e=t.return;null!==e;){switch(e.tag){case 24:case 3:var n=Wu(),i=bo(e,t=_o(n),n);return null!==i&&(Ku(i,e,n),wo(i,e,n)),e={cache:Br()},void(t.payload=e)}e=e.return}}function la(t,e,n){var i=Wu();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},da(t)?fa(e,n):null!==(n=Ni(t,e,n,i))&&(Ku(n,t,i),pa(n,e,i))}function ua(t,e,n){ca(t,e,n,Wu())}function ca(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(da(t))fa(e,r);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,$n(a,s))return Ai(t,e,r,0),null===pu&&Ii(),!1}catch(l){}if(null!==(n=Ni(t,e,r,i)))return Ku(n,t,i),pa(n,e,i),!0}return!1}function ha(t,e,n,i){if(i={lane:2,revertLane:Uc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},da(t)){if(e)throw Error(s(479))}else null!==(e=Ni(t,n,i,2))&&Ku(e,t,2)}function da(t){var e=t.alternate;return t===qo||null!==e&&e===qo}function fa(t,e){Go=Wo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pa(t,e,n){if(0!==(4194048&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,Mt(t,n)}}var ma={readContext:Nr,use:hs,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useInsertionEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useDeferredValue:Jo,useTransition:Jo,useSyncExternalStore:Jo,useId:Jo,useHostTransitionStatus:Jo,useFormState:Jo,useActionState:Jo,useOptimistic:Jo,useMemoCache:Jo,useCacheRefresh:Jo};ma.useEffectEvent=Jo;var ga={readContext:Nr,use:hs,useCallback:function(t,e){return ls().memoizedState=[t,void 0===e?null:e],t},useContext:Nr,useEffect:js,useImperativeHandle:function(t,e,n){n=null!==n&&void 0!==n?n.concat([t]):null,Bs(4194308,4,Ws.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bs(4194308,4,t,e)},useInsertionEffect:function(t,e){Bs(4,2,t,e)},useMemo:function(t,e){var n=ls();e=void 0===e?null:e;var i=t();if(Ko){_t(!0);try{t()}finally{_t(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=ls();if(void 0!==n){var r=n(e);if(Ko){_t(!0);try{n(e)}finally{_t(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=la.bind(null,qo,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ls().memoizedState=t},useState:function(t){var e=(t=Es(t)).queue,n=ua.bind(null,qo,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ks,useDeferredValue:function(t,e){return Xs(ls(),t,e)},useTransition:function(){var t=Es(!1);return t=Js.bind(null,qo,t.queue,!0,!1),ls().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=qo,r=ls();if(hr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===pu)throw Error(s(349));0!==(127&gu)||vs(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,js(bs.bind(null,i,o,t),[t]),i.flags|=2048,zs(9,{destroy:void 0},_s.bind(null,i,o,n,e),null),n},useId:function(){var t=ls(),e=pu.identifierPrefix;if(hr){var n=ir;e="_"+e+"R_"+(n=(nr&~(1<<32-bt(nr)-1)).toString(32)+n),0<(n=Qo++)&&(e+="H"+n.toString(32)),e+="_"}else e="_"+e+"r_"+(n=$o++).toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ra,useFormState:Ns,useActionState:Ns,useOptimistic:function(t){var e=ls();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ha.bind(null,qo,!0,n),n.dispatch=e,[t,e]},useMemoCache:ds,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,qo)},useEffectEvent:function(t){var e=ls(),n={impl:t};return e.memoizedState=n,function(){if(0!==(2&fu))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Nr,use:hs,useCallback:Qs,useContext:Nr,useEffect:Us,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Zs,useMemo:Ys,useReducer:ps,useRef:Fs,useState:function(){return ps(fs)},useDebugValue:Ks,useDeferredValue:function(t,e){return $s(us(),Ho.memoizedState,t,e)},useTransition:function(){var t=ps(fs)[0],e=us().memoizedState;return["boolean"===typeof t?t:cs(t),e]},useSyncExternalStore:ys,useId:oa,useHostTransitionStatus:ra,useFormState:Ds,useActionState:Ds,useOptimistic:function(t,e){return xs(us(),0,t,e)},useMemoCache:ds,useCacheRefresh:sa};ya.useEffectEvent=qs;var va={readContext:Nr,use:hs,useCallback:Qs,useContext:Nr,useEffect:Us,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Zs,useMemo:Ys,useReducer:gs,useRef:Fs,useState:function(){return gs(fs)},useDebugValue:Ks,useDeferredValue:function(t,e){var n=us();return null===Ho?Xs(n,t,e):$s(n,Ho.memoizedState,t,e)},useTransition:function(){var t=gs(fs)[0],e=us().memoizedState;return["boolean"===typeof t?t:cs(t),e]},useSyncExternalStore:ys,useId:oa,useHostTransitionStatus:ra,useFormState:Rs,useActionState:Rs,useOptimistic:function(t,e){var n=us();return null!==Ho?xs(n,0,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ds,useCacheRefresh:sa};function _a(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:f({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}va.useEffectEvent=qs;var ba={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Wu(),r=_o(i);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=bo(t,r,i))&&(Ku(e,t,i),wo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Wu(),r=_o(i);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=bo(t,r,i))&&(Ku(e,t,i),wo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wu(),i=_o(n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=bo(t,i,n))&&(Ku(e,t,n),wo(e,t,n))}};function wa(t,e,n,i,r,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!Jn(n,i)||!Jn(r,o))}function Sa(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ba.enqueueReplaceState(e,e.state,null)}function Ea(t,e){var n=e;if("ref"in e)for(var i in n={},e)"ref"!==i&&(n[i]=e[i]);if(t=t.defaultProps)for(var r in n===e&&(n=f({},n)),t)void 0===n[r]&&(n[r]=t[r]);return n}function xa(t){ki(t)}function Ta(t){console.error(t)}function ka(t){ki(t)}function Ca(t,e){try{(0,t.onUncaughtError)(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function Pa(t,e,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===e.tag?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function La(t,e,n){return(n=_o(n)).tag=3,n.payload={element:null},n.callback=function(){Ca(t,e)},n}function Ia(t){return(t=_o(t)).tag=3,t}function Aa(t,e,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var o=i.value;t.payload=function(){return r(o)},t.callback=function(){Pa(e,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(t.callback=function(){Pa(e,n,i),"function"!==typeof r&&(null===Ru?Ru=new Set([this]):Ru.add(this));var t=i.stack;this.componentDidCatch(i.value,{componentStack:null!==t?t:""})})}var Na=Error(s(461)),Da=!1;function Ma(t,e,n,i){e.child=null===t?mo(e,null,n,i):po(e,t.child,n,i)}function Oa(t,e,n,i,r){n=n.render;var o=e.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Ar(e),i=es(t,e,n,s,o,r),a=os(),null===t||Da?(hr&&a&&sr(e),e.flags|=1,Ma(t,e,i,r),e.child):(ss(t,e,r),rl(t,e,r))}function Ra(t,e,n,i,r){if(null===t){var o=n.type;return"function"!==typeof o||Bi(o)||void 0!==o.defaultProps||null!==n.compare?((t=Ui(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,za(t,e,o,i,r))}if(o=t.child,!ol(t,r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(s,i)&&t.ref===e.ref)return rl(t,e,r)}return e.flags|=1,(t=Vi(o,i)).ref=e.ref,t.return=e,e.child=t}function za(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(Jn(o,i)&&t.ref===e.ref){if(Da=!1,e.pendingProps=i=o,!ol(t,r))return e.lanes=t.lanes,rl(t,e,r);0!==(131072&t.flags)&&(Da=!0)}}return Ha(t,e,n,i,r)}function Fa(t,e,n,i){var r=i.children,o=null!==t?t.memoizedState:null;if(null===t&&null===e.stateNode&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(0!==(128&e.flags)){if(o=null!==o?o.baseLanes|n:n,null!==t){for(i=e.child=t.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~o}else i=0,e.child=null;return Va(t,e,o,n,i)}if(0===(536870912&n))return i=e.lanes=536870912,Va(t,e,null!==o?o.baseLanes|n:n,n,i);e.memoizedState={baseLanes:0,cachePool:null},null!==t&&Qr(0,null!==o?o.cachePool:null),null!==o?Io(e,o):Ao(),zo(e)}else null!==o?(Qr(0,o.cachePool),Io(e,o),Fo(),e.memoizedState=null):(null!==t&&Qr(0,null),Ao(),Fo());return Ma(t,e,r,n),e.child}function Ba(t,e){return null!==t&&22===t.tag||null!==e.stateNode||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Va(t,e,n,i,r){var o=Kr();return o=null===o?null:{parent:Fr._currentValue,pool:o},e.memoizedState={baseLanes:n,cachePool:o},null!==t&&Qr(0,null),Ao(),zo(e),null!==t&&Lr(t,e,i,!0),e.childLanes=r,null}function ja(t,e){return(e=Ja({mode:e.mode,children:e.children},t.mode)).ref=t.ref,t.child=e,e.return=t,e}function Ua(t,e,n){return po(e,t.child,null,n),(t=ja(e,e.pendingProps)).flags|=2,Bo(e),e.memoizedState=null,t}function qa(t,e){var n=e.ref;if(null===n)null!==t&&null!==t.ref&&(e.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==t&&t.ref===n||(e.flags|=4194816)}}function Ha(t,e,n,i,r){return Ar(e),n=es(t,e,n,i,void 0,r),i=os(),null===t||Da?(hr&&i&&sr(e),e.flags|=1,Ma(t,e,n,r),e.child):(ss(t,e,r),rl(t,e,r))}function Za(t,e,n,i,r,o){return Ar(e),e.updateQueue=null,n=is(e,i,n,r),ns(t),i=os(),null===t||Da?(hr&&i&&sr(e),e.flags|=1,Ma(t,e,n,o),e.child):(ss(t,e,o),rl(t,e,o))}function Wa(t,e,n,i,r){if(Ar(e),null===e.stateNode){var o=Ri,s=n.contextType;"object"===typeof s&&null!==s&&(o=Nr(s)),o=new n(i,o),e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ba,e.stateNode=o,o._reactInternals=e,(o=e.stateNode).props=i,o.state=e.memoizedState,o.refs={},yo(e),s=n.contextType,o.context="object"===typeof s&&null!==s?Nr(s):Ri,o.state=e.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(_a(e,n,s,i),o.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&ba.enqueueReplaceState(o,o.state,null),To(e,i,o,r),xo(),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!0}else if(null===t){o=e.stateNode;var a=e.memoizedProps,l=Ea(n,a);o.props=l;var u=o.context,c=n.contextType;s=Ri,"object"===typeof c&&null!==c&&(s=Nr(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,a=e.pendingProps!==a,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||u!==s)&&Sa(e,o,i,s),go=!1;var d=e.memoizedState;o.state=d,To(e,i,o,r),xo(),u=e.memoizedState,a||d!==u||go?("function"===typeof h&&(_a(e,n,h,i),u=e.memoizedState),(l=go||wa(e,n,l,i,d,u,s))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=s,i=l):("function"===typeof o.componentDidMount&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,vo(t,e),c=Ea(n,s=e.memoizedProps),o.props=c,h=e.pendingProps,d=o.context,u=n.contextType,l=Ri,"object"===typeof u&&null!==u&&(l=Nr(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&Sa(e,o,i,l),go=!1,d=e.memoizedState,o.state=d,To(e,i,o,r),xo();var f=e.memoizedState;s!==h||d!==f||go||null!==t&&null!==t.dependencies&&Ir(t.dependencies)?("function"===typeof a&&(_a(e,n,a,i),f=e.memoizedState),(c=go||wa(e,n,c,i,d,f,l)||null!==t&&null!==t.dependencies&&Ir(t.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,qa(t,e),i=0!==(128&e.flags),o||i?(o=e.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),e.flags|=1,null!==t&&i?(e.child=po(e,t.child,null,r),e.child=po(e,null,n,r)):Ma(t,e,n,r),e.memoizedState=o.state,t=e.child):t=rl(t,e,r),t}function Ga(t,e,n,i){return _r(),e.flags|=256,Ma(t,e,n,i),e.child}var Ka={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qa(t){return{baseLanes:t,cachePool:Yr()}}function Ya(t,e,n){return t=null!==t?t.childLanes&~n:0,e&&(t|=Cu),t}function Xa(t,e,n){var i,r=e.pendingProps,o=!1,a=0!==(128&e.flags);if((i=a)||(i=(null===t||null!==t.memoizedState)&&0!==(2&Vo.current)),i&&(o=!0,e.flags&=-129),i=0!==(32&e.flags),e.flags&=-33,null===t){if(hr){if(o?Oo(e):Fo(),(t=cr)?null!==(t=null!==(t=Ih(t,fr))&&"&"!==t.data?t:null)&&(e.memoizedState={dehydrated:t,treeContext:null!==er?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Zi(t)).return=e,e.child=n,ur=e,cr=null):t=null,null===t)throw mr(e);return Nh(t)?e.lanes=32:e.lanes=536870912,null}var l=r.children;return r=r.fallback,o?(Fo(),l=Ja({mode:"hidden",children:l},o=e.mode),r=qi(r,o,n,null),l.return=e,r.return=e,l.sibling=r,e.child=l,(r=e.child).memoizedState=Qa(n),r.childLanes=Ya(t,i,n),e.memoizedState=Ka,Ba(null,r)):(Oo(e),$a(e,l))}var u=t.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(a)256&e.flags?(Oo(e),e.flags&=-257,e=tl(t,e,n)):null!==e.memoizedState?(Fo(),e.child=t.child,e.flags|=128,e=null):(Fo(),l=r.fallback,o=e.mode,r=Ja({mode:"visible",children:r.children},o),(l=qi(l,o,n,null)).flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,po(e,t.child,null,n),(r=e.child).memoizedState=Qa(n),r.childLanes=Ya(t,i,n),e.memoizedState=Ka,e=Ba(null,r));else if(Oo(e),Nh(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var c=i.dgst;i=c,(r=Error(s(419))).stack="",r.digest=i,wr({value:r,source:null,stack:null}),e=tl(t,e,n)}else if(Da||Lr(t,e,n,!1),i=0!==(n&t.childLanes),Da||i){if(null!==(i=pu)&&(0!==(r=Ot(i,n))&&r!==u.retryLane))throw u.retryLane=r,Di(t,r),Ku(i,t,r),Na;Ah(l)||sc(),e=tl(t,e,n)}else Ah(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,cr=Dh(l.nextSibling),ur=e,hr=!0,dr=null,fr=!1,null!==t&&lr(e,t),(e=$a(e,r.children)).flags|=4096);return e}return o?(Fo(),l=r.fallback,o=e.mode,c=(u=t.child).sibling,(r=Vi(u,{mode:"hidden",children:r.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Vi(c,l):(l=qi(l,o,n,null)).flags|=2,l.return=e,r.return=e,r.sibling=l,e.child=r,Ba(null,r),r=e.child,null===(l=t.child.memoizedState)?l=Qa(n):(null!==(o=l.cachePool)?(u=Fr._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Yr(),l={baseLanes:l.baseLanes|n,cachePool:o}),r.memoizedState=l,r.childLanes=Ya(t,i,n),e.memoizedState=Ka,Ba(t.child,r)):(Oo(e),t=(n=t.child).sibling,(n=Vi(n,{mode:"visible",children:r.children})).return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function $a(t,e){return(e=Ja({mode:"visible",children:e},t.mode)).return=t,t.child=e}function Ja(t,e){return(t=Fi(22,t,null,e)).lanes=0,t}function tl(t,e,n){return po(e,t.child,null,n),(t=$a(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function el(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Cr(t.return,e,n)}function nl(t,e,n,i,r,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.treeForkCount=o)}function il(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;i=i.children;var s=Vo.current,a=0!==(2&s);if(a?(s=1&s|2,e.flags|=128):s&=1,j(Vo,s),Ma(t,e,i,n),i=hr?$i:0,!a&&null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&el(t,n,e);else if(19===t.tag)el(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===jo(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),nl(e,!1,r,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===jo(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}nl(e,!0,n,null,o,i);break;case"together":nl(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function rl(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),xu|=e.lanes,0===(n&e.childLanes)){if(null===t)return null;if(Lr(t,e,n,!1),0===(n&e.childLanes))return null}if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Vi(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Vi(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function ol(t,e){return 0!==(t.lanes&e)||!(null===(t=t.dependencies)||!Ir(t))}function sl(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps)Da=!0;else{if(!ol(t,n)&&0===(128&e.flags))return Da=!1,function(t,e,n){switch(e.tag){case 3:K(e,e.stateNode.containerInfo),Tr(0,Fr,t.memoizedState.cache),_r();break;case 27:case 5:Y(e);break;case 4:K(e,e.stateNode.containerInfo);break;case 10:Tr(0,e.type,e.memoizedProps.value);break;case 31:if(null!==e.memoizedState)return e.flags|=128,Ro(e),null;break;case 13:var i=e.memoizedState;if(null!==i)return null!==i.dehydrated?(Oo(e),e.flags|=128,null):0!==(n&e.child.childLanes)?Xa(t,e,n):(Oo(e),null!==(t=rl(t,e,n))?t.sibling:null);Oo(e);break;case 19:var r=0!==(128&t.flags);if((i=0!==(n&e.childLanes))||(Lr(t,e,n,!1),i=0!==(n&e.childLanes)),r){if(i)return il(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),j(Vo,Vo.current),i)break;return null;case 22:return e.lanes=0,Fa(t,e,n,e.pendingProps);case 24:Tr(0,Fr,t.memoizedState.cache)}return rl(t,e,n)}(t,e,n);Da=0!==(131072&t.flags)}else Da=!1,hr&&0!==(1048576&e.flags)&&or(e,$i,e.index);switch(e.lanes=0,e.tag){case 16:t:{var i=e.pendingProps;if(t=io(e.elementType),e.type=t,"function"!==typeof t){if(void 0!==t&&null!==t){var r=t.$$typeof;if(r===S){e.tag=11,e=Oa(null,e,t,i,n);break t}if(r===T){e.tag=14,e=Ra(null,e,t,i,n);break t}}throw e=N(t)||t,Error(s(306,e,""))}Bi(t)?(i=Ea(t,i),e.tag=1,e=Wa(null,e,t,i,n)):(e.tag=0,e=Ha(null,e,t,i,n))}return e;case 0:return Ha(t,e,e.type,e.pendingProps,n);case 1:return Wa(t,e,i=e.type,r=Ea(i,e.pendingProps),n);case 3:t:{if(K(e,e.stateNode.containerInfo),null===t)throw Error(s(387));i=e.pendingProps;var o=e.memoizedState;r=o.element,vo(t,e),To(e,i,null,n);var a=e.memoizedState;if(i=a.cache,Tr(0,Fr,i),i!==o.cache&&Pr(e,[Fr],n,!0),xo(),i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ga(t,e,i,n);break t}if(i!==r){wr(r=Ki(Error(s(424)),e)),e=Ga(t,e,i,n);break t}if(9===(t=e.stateNode.containerInfo).nodeType)t=t.body;else t="HTML"===t.nodeName?t.ownerDocument.body:t;for(cr=Dh(t.firstChild),ur=e,hr=!0,dr=null,fr=!0,n=mo(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(_r(),i===r){e=rl(t,e,n);break t}Ma(t,e,i,n)}e=e.child}return e;case 26:return qa(t,e),null===t?(n=Zh(e.type,null,e.pendingProps,null))?e.memoizedState=n:hr||(n=e.type,t=e.pendingProps,(i=gh(W.current).createElement(n))[jt]=e,i[Ut]=t,dh(i,n,t),te(i),e.stateNode=i):e.memoizedState=Zh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Y(e),null===t&&hr&&(i=e.stateNode=zh(e.type,e.pendingProps,W.current),ur=e,fr=!0,r=cr,kh(e.type)?(Mh=r,cr=Dh(i.firstChild)):cr=r),Ma(t,e,e.pendingProps.children,n),qa(t,e),null===t&&(e.flags|=4194304),e.child;case 5:return null===t&&hr&&((r=i=cr)&&(null!==(i=function(t,e,n,i){for(;1===t.nodeType;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(i){if(!t[Kt])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(o=t.getAttribute("rel"))&&t.hasAttribute("data-precedence"))break;if(o!==r.rel||t.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||t.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||t.getAttribute("title")!==(null==r.title?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((o=t.getAttribute("src"))!==(null==r.src?null:r.src)||t.getAttribute("type")!==(null==r.type?null:r.type)||t.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==e||"hidden"!==t.type)return t;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&t.getAttribute("name")===o)return t}if(null===(t=Dh(t.nextSibling)))break}return null}(i,e.type,e.pendingProps,fr))?(e.stateNode=i,ur=e,cr=Dh(i.firstChild),fr=!1,r=!0):r=!1),r||mr(e)),Y(e),r=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,i=o.children,_h(r,o)?i=null:null!==a&&_h(r,a)&&(e.flags|=32),null!==e.memoizedState&&(r=es(t,e,rs,null,null,n),cd._currentValue=r),qa(t,e),Ma(t,e,i,n),e.child;case 6:return null===t&&hr&&((t=n=cr)&&(null!==(n=function(t,e,n){if(""===e)return null;for(;3!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n)return null;if(null===(t=Dh(t.nextSibling)))return null}return t}(n,e.pendingProps,fr))?(e.stateNode=n,ur=e,cr=null,t=!0):t=!1),t||mr(e)),null;case 13:return Xa(t,e,n);case 4:return K(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=po(e,null,i,n):Ma(t,e,i,n),e.child;case 11:return Oa(t,e,e.type,e.pendingProps,n);case 7:return Ma(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ma(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Tr(0,e.type,i.value),Ma(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Ar(e),i=i(r=Nr(r)),e.flags|=1,Ma(t,e,i,n),e.child;case 14:return Ra(t,e,e.type,e.pendingProps,n);case 15:return za(t,e,e.type,e.pendingProps,n);case 19:return il(t,e,n);case 31:return function(t,e,n){var i=e.pendingProps,r=0!==(128&e.flags);if(e.flags&=-129,null===t){if(hr){if("hidden"===i.mode)return t=ja(e,i),e.lanes=536870912,Ba(null,t);if(Ro(e),(t=cr)?null!==(t=null!==(t=Ih(t,fr))&&"&"===t.data?t:null)&&(e.memoizedState={dehydrated:t,treeContext:null!==er?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},(n=Zi(t)).return=e,e.child=n,ur=e,cr=null):t=null,null===t)throw mr(e);return e.lanes=536870912,null}return ja(e,i)}var o=t.memoizedState;if(null!==o){var a=o.dehydrated;if(Ro(e),r)if(256&e.flags)e.flags&=-257,e=Ua(t,e,n);else{if(null===e.memoizedState)throw Error(s(558));e.child=t.child,e.flags|=128,e=null}else if(Da||Lr(t,e,n,!1),r=0!==(n&t.childLanes),Da||r){if(null!==(i=pu)&&0!==(a=Ot(i,n))&&a!==o.retryLane)throw o.retryLane=a,Di(t,a),Ku(i,t,a),Na;sc(),e=Ua(t,e,n)}else t=o.treeContext,cr=Dh(a.nextSibling),ur=e,hr=!0,dr=null,fr=!1,null!==t&&lr(e,t),(e=ja(e,i)).flags|=4096;return e}return(t=Vi(t.child,{mode:i.mode,children:i.children})).ref=e.ref,e.child=t,t.return=e,t}(t,e,n);case 22:return Fa(t,e,n,e.pendingProps);case 24:return Ar(e),i=Nr(Fr),null===t?(null===(r=Kr())&&(r=pu,o=Br(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=n),r=o),e.memoizedState={parent:i,cache:r},yo(e),Tr(0,Fr,r)):(0!==(t.lanes&n)&&(vo(t,e),To(e,null,null,n),xo()),r=t.memoizedState,o=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,0===e.lanes&&(e.memoizedState=e.updateQueue.baseState=r),Tr(0,Fr,i)):(i=o.cache,Tr(0,Fr,i),i!==r.cache&&Pr(e,[Fr],n,!0))),Ma(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function al(t){t.flags|=4}function ll(t,e,n,i,r){if((e=0!==(32&t.mode))&&(e=!1),e){if(t.flags|=16777216,(335544128&r)===r)if(t.stateNode.complete)t.flags|=8192;else{if(!ic())throw ro=to,$r;t.flags|=8192}}else t.flags&=-16777217}function ul(t,e){if("stylesheet"!==e.type||0!==(4&e.state.loading))t.flags&=-16777217;else if(t.flags|=16777216,!rd(e)){if(!ic())throw ro=to,$r;t.flags|=8192}}function cl(t,e){null!==e&&(t.flags|=4),16384&t.flags&&(e=22!==t.tag?It():536870912,t.lanes|=e,Pu|=e)}function hl(t,e){if(!hr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function dl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function fl(t,e,n){var i=e.pendingProps;switch(ar(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(e),null;case 3:return n=e.stateNode,i=null,null!==t&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),kr(Fr),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(vr(e)?al(e):null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,br())),dl(e),null;case 26:var r=e.type,o=e.memoizedState;return null===t?(al(e),null!==o?(dl(e),ul(e,o)):(dl(e),ll(e,r,0,0,n))):o?o!==t.memoizedState?(al(e),dl(e),ul(e,o)):(dl(e),e.flags&=-16777217):((t=t.memoizedProps)!==i&&al(e),dl(e),ll(e,r,0,0,n)),null;case 27:if(X(e),n=W.current,r=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==i&&al(e);else{if(!i){if(null===e.stateNode)throw Error(s(166));return dl(e),null}t=H.current,vr(e)?gr(e):(t=zh(r,i,n),e.stateNode=t,al(e))}return dl(e),null;case 5:if(X(e),r=e.type,null!==t&&null!=e.stateNode)t.memoizedProps!==i&&al(e);else{if(!i){if(null===e.stateNode)throw Error(s(166));return dl(e),null}if(o=H.current,vr(e))gr(e);else{var a=gh(W.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof i.is?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o="string"===typeof i.is?a.createElement(r,{is:i.is}):a.createElement(r)}}o[jt]=e,o[Ut]=i;t:for(a=e.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break t;for(;null===a.sibling;){if(null===a.return||a.return===e)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=o;t:switch(dh(o,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&al(e)}}return dl(e),ll(e,e.type,null===t||t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&null!=e.stateNode)t.memoizedProps!==i&&al(e);else{if("string"!==typeof i&&null===e.stateNode)throw Error(s(166));if(t=W.current,vr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,null!==(r=ur))switch(r.tag){case 27:case 5:i=r.memoizedProps}t[jt]=e,(t=!!(t.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||uh(t.nodeValue,n)))||mr(e,!0)}else(t=gh(t).createTextNode(i))[jt]=e,e.stateNode=t}return dl(e),null;case 31:if(n=e.memoizedState,null===t||null!==t.memoizedState){if(i=vr(e),null!==n){if(null===t){if(!i)throw Error(s(318));if(!(t=null!==(t=e.memoizedState)?t.dehydrated:null))throw Error(s(557));t[jt]=e}else _r(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;dl(e),t=!1}else n=br(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return 256&e.flags?(Bo(e),e):(Bo(e),null);if(0!==(128&e.flags))throw Error(s(558))}return dl(e),null;case 13:if(i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(r=vr(e),null!==i&&null!==i.dehydrated){if(null===t){if(!r)throw Error(s(318));if(!(r=null!==(r=e.memoizedState)?r.dehydrated:null))throw Error(s(317));r[jt]=e}else _r(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;dl(e),r=!1}else r=br(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&e.flags?(Bo(e),e):(Bo(e),null)}return Bo(e),0!==(128&e.flags)?(e.lanes=n,e):(n=null!==i,t=null!==t&&null!==t.memoizedState,n&&(r=null,null!==(i=e.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),o=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),cl(e,e.updateQueue),dl(e),null);case 4:return Q(),null===t&&Jc(e.stateNode.containerInfo),dl(e),null;case 10:return kr(e.type),dl(e),null;case 19:if(V(Vo),null===(i=e.memoizedState))return dl(e),null;if(r=0!==(128&e.flags),null===(o=i.rendering))if(r)hl(i,!1);else{if(0!==Eu||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(o=jo(t))){for(e.flags|=128,hl(i,!1),t=o.updateQueue,e.updateQueue=t,cl(e,t),e.subtreeFlags=0,t=n,n=e.child;null!==n;)ji(n,t),n=n.sibling;return j(Vo,1&Vo.current|2),hr&&rr(e,i.treeForkCount),e.child}t=t.sibling}null!==i.tail&&lt()>Mu&&(e.flags|=128,r=!0,hl(i,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=jo(o))){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,cl(e,t),hl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!hr)return dl(e),null}else 2*lt()-i.renderingStartTime>Mu&&536870912!==n&&(e.flags|=128,r=!0,hl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=i.last)?t.sibling=o:e.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,n=Vo.current,j(Vo,r?1&n|2:1&n),hr&&rr(e,i.treeForkCount),t):(dl(e),null);case 22:case 23:return Bo(e),No(),i=null!==e.memoizedState,null!==t?null!==t.memoizedState!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?0!==(536870912&n)&&0===(128&e.flags)&&(dl(e),6&e.subtreeFlags&&(e.flags|=8192)):dl(e),null!==(n=e.updateQueue)&&cl(e,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),i=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),null!==t&&V(Gr),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),kr(Fr),dl(e),null;case 25:case 30:return null}throw Error(s(156,e.tag))}function pl(t,e){switch(ar(e),e.tag){case 1:return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return kr(Fr),Q(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 26:case 27:case 5:return X(e),null;case 31:if(null!==e.memoizedState){if(Bo(e),null===e.alternate)throw Error(s(340));_r()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 13:if(Bo(e),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));_r()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return V(Vo),null;case 4:return Q(),null;case 10:return kr(e.type),null;case 22:case 23:return Bo(e),No(),null!==t&&V(Gr),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 24:return kr(Fr),null;default:return null}}function ml(t,e){switch(ar(e),e.tag){case 3:kr(Fr),Q();break;case 26:case 27:case 5:X(e);break;case 4:Q();break;case 31:null!==e.memoizedState&&Bo(e);break;case 13:Bo(e);break;case 19:V(Vo);break;case 10:kr(e.type);break;case 22:case 23:Bo(e),No(),null!==t&&V(Gr);break;case 24:kr(Fr)}}function gl(t,e){try{var n=e.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(a){Ec(e,e.return,a)}}function yl(t,e,n){try{var i=e.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var o=r.next;i=o;do{if((i.tag&t)===t){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,r=e;var l=n,u=a;try{u()}catch(c){Ec(r,l,c)}}}i=i.next}while(i!==o)}}catch(c){Ec(e,e.return,c)}}function vl(t){var e=t.updateQueue;if(null!==e){var n=t.stateNode;try{Co(e,n)}catch(i){Ec(t,t.return,i)}}}function _l(t,e,n){n.props=Ea(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Ec(t,e,i)}}function bl(t,e){try{var n=t.ref;if(null!==n){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;default:i=t.stateNode}"function"===typeof n?t.refCleanup=n(i):n.current=i}}catch(r){Ec(t,e,r)}}function wl(t,e){var n=t.ref,i=t.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){Ec(t,e,r)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){Ec(t,e,o)}else n.current=null}function Sl(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Ec(t,t.return,r)}}function El(t,e,n){try{var i=t.stateNode;!function(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,a=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(p)||ch(t,e,p,null,i,d)}}for(var f in i){var p=i[f];if(d=n[f],i.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":o=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,e));break;default:p!==d&&ch(t,e,f,p,i,d)}}return void ve(t,a,l,u,c,h,o,r);case"select":for(o in p=a=l=f=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(o)||ch(t,e,o,null,i,u)}for(r in i)if(o=i[r],u=n[r],i.hasOwnProperty(r)&&(null!=o||null!=u))switch(r){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&ch(t,e,r,o,i,u)}return e=l,n=a,i=p,void(null!=f?we(t,!!n,f,!1):!!i!==!!n&&(null!=e?we(t,!!n,e,!0):we(t,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ch(t,e,l,null,i,r)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(null!=r||null!=o))switch(a){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==o&&ch(t,e,a,r,i,o)}return void Se(t,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)t.selected=!1;else ch(t,e,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)t.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ch(t,e,u,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&ch(t,e,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,e));break;default:ch(t,e,c,f,i,p)}return;default:if(Pe(e)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&hh(t,e,y,void 0,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||hh(t,e,h,f,i,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&ch(t,e,v,null,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||null==f&&null==p||ch(t,e,d,f,i,p)}(i,t.type,n,e),i[Ut]=e}catch(r){Ec(t,t.return,r)}}function xl(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag&&kh(t.type)||4===t.tag}function Tl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||xl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(27===t.tag&&kh(t.type))continue t;if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function kl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(t,e):((e=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ne));else if(4!==i&&(27===i&&kh(t.type)&&(n=t.stateNode,e=null),null!==(t=t.child)))for(kl(t,e,n),t=t.sibling;null!==t;)kl(t,e,n),t=t.sibling}function Cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&(27===i&&kh(t.type)&&(n=t.stateNode),null!==(t=t.child)))for(Cl(t,e,n),t=t.sibling;null!==t;)Cl(t,e,n),t=t.sibling}function Pl(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);dh(e,i,n),e[jt]=t,e[Ut]=n}catch(o){Ec(t,t.return,o)}}var Ll=!1,Il=!1,Al=!1,Nl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ml(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(t,n),4&i&&gl(5,n);break;case 1:if(Kl(t,n),4&i)if(t=n.stateNode,null===e)try{t.componentDidMount()}catch(s){Ec(n,n.return,s)}else{var r=Ea(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ec(n,n.return,a)}}64&i&&vl(n),512&i&&bl(n,n.return);break;case 3:if(Kl(t,n),64&i&&null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Co(t,e)}catch(s){Ec(n,n.return,s)}}break;case 27:null===e&&4&i&&Pl(n);case 26:case 5:Kl(t,n),null===e&&4&i&&Sl(n),512&i&&bl(n,n.return);break;case 12:Kl(t,n);break;case 31:Kl(t,n),4&i&&Vl(t,n);break;case 13:Kl(t,n),4&i&&jl(t,n),64&i&&(null!==(t=n.memoizedState)&&(null!==(t=t.dehydrated)&&function(t,e){var n=t.ownerDocument;if("$~"===t.data)t._reactRetry=e;else if("$?"!==t.data||"loading"!==n.readyState)e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}(t,n=Cc.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Ll)){e=null!==e&&null!==e.memoizedState||Il,r=Ll;var o=Il;Ll=i,(Il=e)&&!o?Yl(t,n,0!==(8772&n.subtreeFlags)):Kl(t,n),Ll=r,Il=o}break;case 30:break;default:Kl(t,n)}}function Ol(t){var e=t.alternate;null!==e&&(t.alternate=null,Ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&Qt(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rl=null,zl=!1;function Fl(t,e,n){for(n=n.child;null!==n;)Bl(t,e,n),n=n.sibling}function Bl(t,e,n){if(vt&&"function"===typeof vt.onCommitFiberUnmount)try{vt.onCommitFiberUnmount(yt,n)}catch(o){}switch(n.tag){case 26:Il||wl(n,e),Fl(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Il||wl(n,e);var i=Rl,r=zl;kh(n.type)&&(Rl=n.stateNode,zl=!1),Fl(t,e,n),Fh(n.stateNode),Rl=i,zl=r;break;case 5:Il||wl(n,e);case 6:if(i=Rl,r=zl,Rl=null,Fl(t,e,n),zl=r,null!==(Rl=i))if(zl)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(s){Ec(n,e,s)}else try{Rl.removeChild(n.stateNode)}catch(s){Ec(n,e,s)}break;case 18:null!==Rl&&(zl?(Ch(9===(t=Rl).nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t,n.stateNode),Hd(t)):Ch(Rl,n.stateNode));break;case 4:i=Rl,r=zl,Rl=n.stateNode.containerInfo,zl=!0,Fl(t,e,n),Rl=i,zl=r;break;case 0:case 11:case 14:case 15:yl(2,n,e),Il||yl(4,n,e),Fl(t,e,n);break;case 1:Il||(wl(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount&&_l(n,e,i)),Fl(t,e,n);break;case 21:Fl(t,e,n);break;case 22:Il=(i=Il)||null!==n.memoizedState,Fl(t,e,n),Il=i;break;default:Fl(t,e,n)}}function Vl(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&null!==(t=t.memoizedState))){t=t.dehydrated;try{Hd(t)}catch(n){Ec(e,e.return,n)}}}function jl(t,e){if(null===e.memoizedState&&(null!==(t=e.alternate)&&(null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))))try{Hd(t)}catch(n){Ec(e,e.return,n)}}function Ul(t,e){var n=function(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return null===e&&(e=t.stateNode=new Nl),e;case 22:return null===(e=(t=t.stateNode)._retryCache)&&(e=t._retryCache=new Nl),e;default:throw Error(s(435,t.tag))}}(t);e.forEach(function(e){if(!n.has(e)){n.add(e);var i=Pc.bind(null,t,e);e.then(i,i)}})}function ql(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 27:if(kh(l.type)){Rl=l.stateNode,zl=!1;break t}break;case 5:Rl=l.stateNode,zl=!1;break t;case 3:case 4:Rl=l.stateNode.containerInfo,zl=!0;break t}l=l.return}if(null===Rl)throw Error(s(160));Bl(o,a,r),Rl=null,zl=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13886&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e,t),e=e.sibling}var Hl=null;function Zl(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ql(e,t),Wl(t),4&i&&(yl(3,t,t.return),gl(3,t),yl(5,t,t.return));break;case 1:ql(e,t),Wl(t),512&i&&(Il||null===n||wl(n,n.return)),64&i&&Ll&&(null!==(t=t.updateQueue)&&(null!==(i=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Hl;if(ql(e,t),Wl(t),512&i&&(Il||null===n||wl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=t.memoizedState,null===n)if(null===i)if(null===t.stateNode){t:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":(!(o=r.getElementsByTagName("title")[0])||o[Kt]||o[jt]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),dh(o,i,n),o[jt]=t,te(o),i=o;break t;case"link":var a=nd("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break e}dh(o=r.createElement(i),i,n),r.head.appendChild(o);break;case"meta":if(a=nd("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break e}dh(o=r.createElement(i),i,n),r.head.appendChild(o);break;default:throw Error(s(468,i))}o[jt]=t,te(o),i=o}t.stateNode=i}else id(r,t.type,t.stateNode);else t.stateNode=Xh(r,i,t.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?id(r,t.type,t.stateNode):Xh(r,i,t.memoizedProps)):null===i&&null!==t.stateNode&&El(t,t.memoizedProps,n.memoizedProps)}break;case 27:ql(e,t),Wl(t),512&i&&(Il||null===n||wl(n,n.return)),null!==n&&4&i&&El(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ql(e,t),Wl(t),512&i&&(Il||null===n||wl(n,n.return)),32&t.flags){r=t.stateNode;try{xe(r,"")}catch(m){Ec(t,t.return,m)}}4&i&&null!=t.stateNode&&El(t,r=t.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Al=!0);break;case 6:if(ql(e,t),Wl(t),4&i){if(null===t.stateNode)throw Error(s(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(m){Ec(t,t.return,m)}}break;case 3:if(ed=null,r=Hl,Hl=jh(e.containerInfo),ql(e,t),Hl=r,Wl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Hd(e.containerInfo)}catch(m){Ec(t,t.return,m)}Al&&(Al=!1,Gl(t));break;case 4:i=Hl,Hl=jh(t.stateNode.containerInfo),ql(e,t),Wl(t),Hl=i;break;case 12:default:ql(e,t),Wl(t);break;case 31:case 19:ql(e,t),Wl(t),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Ul(t,i)));break;case 13:ql(e,t),Wl(t),8192&t.child.flags&&null!==t.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Nu=lt()),4&i&&(null!==(i=t.updateQueue)&&(t.updateQueue=null,Ul(t,i)));break;case 22:r=null!==t.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Ll,h=Il;if(Ll=c||r,Il=h||u,ql(e,t),Il=h,Ll=c,Wl(t),8192&i)t:for(e=t.stateNode,e._visibility=r?-2&e._visibility:1|e._visibility,r&&(null===n||u||Ll||Il||Ql(t)),n=null,e=t;;){if(5===e.tag||26===e.tag){if(null===n){u=n=e;try{if(o=u.stateNode,r)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Ec(u,u.return,m)}}}else if(6===e.tag){if(null===n){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(m){Ec(u,u.return,m)}}}else if(18===e.tag){if(null===n){u=e;try{var p=u.stateNode;r?Ph(p,!0):Ph(u.stateNode,!1)}catch(m){Ec(u,u.return,m)}}}else if((22!==e.tag&&23!==e.tag||null===e.memoizedState||e===t)&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}4&i&&(null!==(i=t.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Ul(t,n))));case 30:case 21:}}function Wl(t){var e=t.flags;if(2&e){try{for(var n,i=t.return;null!==i;){if(xl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;Cl(t,Tl(t),r);break;case 5:var o=n.stateNode;32&n.flags&&(xe(o,""),n.flags&=-33),Cl(t,Tl(t),o);break;case 3:case 4:var a=n.stateNode.containerInfo;kl(t,Tl(t),a);break;default:throw Error(s(161))}}catch(l){Ec(t,t.return,l)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Gl(t){if(1024&t.subtreeFlags)for(t=t.child;null!==t;){var e=t;Gl(e),5===e.tag&&1024&e.flags&&e.stateNode.reset(),t=t.sibling}}function Kl(t,e){if(8772&e.subtreeFlags)for(e=e.child;null!==e;)Ml(t,e.alternate,e),e=e.sibling}function Ql(t){for(t=t.child;null!==t;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:yl(4,e,e.return),Ql(e);break;case 1:wl(e,e.return);var n=e.stateNode;"function"===typeof n.componentWillUnmount&&_l(e,e.return,n),Ql(e);break;case 27:Fh(e.stateNode);case 26:case 5:wl(e,e.return),Ql(e);break;case 22:null===e.memoizedState&&Ql(e);break;default:Ql(e)}t=t.sibling}}function Yl(t,e,n){for(n=n&&0!==(8772&e.subtreeFlags),e=e.child;null!==e;){var i=e.alternate,r=t,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:Yl(r,o,n),gl(4,o);break;case 1:if(Yl(r,o,n),"function"===typeof(r=(i=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(u){Ec(i,i.return,u)}if(null!==(r=(i=o).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ko(l[r],a)}catch(u){Ec(i,i.return,u)}}n&&64&s&&vl(o),bl(o,o.return);break;case 27:Pl(o);case 26:case 5:Yl(r,o,n),n&&null===i&&4&s&&Sl(o),bl(o,o.return);break;case 12:Yl(r,o,n);break;case 31:Yl(r,o,n),n&&4&s&&Vl(r,o);break;case 13:Yl(r,o,n),n&&4&s&&jl(r,o);break;case 22:null===o.memoizedState&&Yl(r,o,n),bl(o,o.return);break;case 30:break;default:Yl(r,o,n)}e=e.sibling}}function Xl(t,e){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&Vr(n))}function $l(t,e){t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Vr(t))}function Jl(t,e,n,i){if(10256&e.subtreeFlags)for(e=e.child;null!==e;)tu(t,e,n,i),e=e.sibling}function tu(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Jl(t,e,n,i),2048&r&&gl(9,e);break;case 1:case 31:case 13:default:Jl(t,e,n,i);break;case 3:Jl(t,e,n,i),2048&r&&(t=null,null!==e.alternate&&(t=e.alternate.memoizedState.cache),(e=e.memoizedState.cache)!==t&&(e.refCount++,null!=t&&Vr(t)));break;case 12:if(2048&r){Jl(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===e.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Ec(e,e.return,l)}}else Jl(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,s=e.alternate,null!==e.memoizedState?2&o._visibility?Jl(t,e,n,i):nu(t,e):2&o._visibility?Jl(t,e,n,i):(o._visibility|=2,eu(t,e,n,i,0!==(10256&e.subtreeFlags)||!1)),2048&r&&Xl(s,e);break;case 24:Jl(t,e,n,i),2048&r&&$l(e.alternate,e)}}function eu(t,e,n,i,r){for(r=r&&(0!==(10256&e.subtreeFlags)||!1),e=e.child;null!==e;){var o=t,s=e,a=n,l=i,u=s.flags;switch(s.tag){case 0:case 11:case 15:eu(o,s,a,l,r),gl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?eu(o,s,a,l,r):nu(o,s):(c._visibility|=2,eu(o,s,a,l,r)),r&&2048&u&&Xl(s.alternate,s);break;case 24:eu(o,s,a,l,r),r&&2048&u&&$l(s.alternate,s);break;default:eu(o,s,a,l,r)}e=e.sibling}}function nu(t,e){if(10256&e.subtreeFlags)for(e=e.child;null!==e;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:nu(n,i),2048&r&&Xl(i.alternate,i);break;case 24:nu(n,i),2048&r&&$l(i.alternate,i);break;default:nu(n,i)}e=e.sibling}}var iu=8192;function ru(t,e,n){if(t.subtreeFlags&iu)for(t=t.child;null!==t;)ou(t,e,n),t=t.sibling}function ou(t,e,n){switch(t.tag){case 26:ru(t,e,n),t.flags&iu&&null!==t.memoizedState&&function(t,e,n,i){if("stylesheet"===n.type&&("string"!==typeof i.media||!1!==matchMedia(i.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Wh(i.href),o=e.querySelector(Gh(r));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(t.count++,t=sd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=o,void te(o);o=e.ownerDocument||e,i=Kh(i),(r=Bh.get(r))&&Jh(i,r),te(o=o.createElement("link"));var s=o;s._p=new Promise(function(t,e){s.onload=t,s.onerror=e}),dh(o,"link",i),n.instance=o}null===t.stylesheets&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&0===(3&n.state.loading)&&(t.count++,n=sd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}(n,Hl,t.memoizedState,t.memoizedProps);break;case 5:default:ru(t,e,n);break;case 3:case 4:var i=Hl;Hl=jh(t.stateNode.containerInfo),ru(t,e,n),Hl=i;break;case 22:null===t.memoizedState&&(null!==(i=t.alternate)&&null!==i.memoizedState?(i=iu,iu=16777216,ru(t,e,n),iu=i):ru(t,e,n))}}function su(t){var e=t.alternate;if(null!==e&&null!==(t=e.child)){e.child=null;do{e=t.sibling,t.sibling=null,t=e}while(null!==t)}}function au(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];Dl=i,cu(i,t)}su(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)lu(t),t=t.sibling}function lu(t){switch(t.tag){case 0:case 11:case 15:au(t),2048&t.flags&&yl(9,t,t.return);break;case 3:case 12:default:au(t);break;case 22:var e=t.stateNode;null!==t.memoizedState&&2&e._visibility&&(null===t.return||13!==t.return.tag)?(e._visibility&=-3,uu(t)):au(t)}}function uu(t){var e=t.deletions;if(0!==(16&t.flags)){if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];Dl=i,cu(i,t)}su(t)}for(t=t.child;null!==t;){switch((e=t).tag){case 0:case 11:case 15:yl(8,e,e.return),uu(e);break;case 22:2&(n=e.stateNode)._visibility&&(n._visibility&=-3,uu(e));break;default:uu(e)}t=t.sibling}}function cu(t,e){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,e);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Vr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Dl=i;else t:for(n=t;null!==Dl;){var r=(i=Dl).sibling,o=i.return;if(Ol(i),i===n){Dl=null;break t}if(null!==r){r.return=o,Dl=r;break t}Dl=o}}}var hu={getCacheForType:function(t){var e=Nr(Fr),n=e.data.get(t);return void 0===n&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Nr(Fr).controller.signal}},du="function"===typeof WeakMap?WeakMap:Map,fu=0,pu=null,mu=null,gu=0,yu=0,vu=null,_u=!1,bu=!1,wu=!1,Su=0,Eu=0,xu=0,Tu=0,ku=0,Cu=0,Pu=0,Lu=null,Iu=null,Au=!1,Nu=0,Du=0,Mu=1/0,Ou=null,Ru=null,zu=0,Fu=null,Bu=null,Vu=0,ju=0,Uu=null,qu=null,Hu=0,Zu=null;function Wu(){return 0!==(2&fu)&&0!==gu?gu&-gu:null!==M.T?Uc():Ft()}function Gu(){if(0===Cu)if(0===(536870912&gu)||hr){var t=xt;0===(3932160&(xt<<=1))&&(xt=262144),Cu=t}else Cu=536870912;return null!==(t=Do.current)&&(t.flags|=32),Cu}function Ku(t,e,n){(t!==pu||2!==yu&&9!==yu)&&null===t.cancelPendingCommit||(ec(t,0),$u(t,gu,Cu,!1)),Nt(t,n),0!==(2&fu)&&t===pu||(t===pu&&(0===(2&fu)&&(Tu|=n),4===Eu&&$u(t,gu,Cu,!1)),Oc(t))}function Qu(t,e,n){if(0!==(6&fu))throw Error(s(327));for(var i=!n&&0===(127&e)&&0===(e&t.expiredLanes)||Pt(t,e),r=i?function(t,e){var n=fu;fu|=2;var i=rc(),r=oc();pu!==t||gu!==e?(Ou=null,Mu=lt()+500,ec(t,e)):bu=Pt(t,e);t:for(;;)try{if(0!==yu&&null!==mu){e=mu;var o=vu;e:switch(yu){case 1:yu=0,vu=null,dc(t,e,o,1);break;case 2:case 9:if(eo(o)){yu=0,vu=null,hc(e);break}e=function(){2!==yu&&9!==yu||pu!==t||(yu=7),Oc(t)},o.then(e,e);break t;case 3:yu=7;break t;case 4:yu=5;break t;case 7:eo(o)?(yu=0,vu=null,hc(e)):(yu=0,vu=null,dc(t,e,o,7));break;case 5:var a=null;switch(mu.tag){case 26:a=mu.memoizedState;case 5:case 27:var l=mu;if(a?rd(a):l.stateNode.complete){yu=0,vu=null;var u=l.sibling;if(null!==u)mu=u;else{var c=l.return;null!==c?(mu=c,fc(c)):mu=null}break e}}yu=0,vu=null,dc(t,e,o,5);break;case 6:yu=0,vu=null,dc(t,e,o,6);break;case 8:tc(),Eu=6;break t;default:throw Error(s(462))}}uc();break}catch(h){nc(t,h)}return xr=Er=null,M.H=i,M.A=r,fu=n,null!==mu?0:(pu=null,gu=0,Ii(),Eu)}(t,e):ac(t,e,!0),o=i;;){if(0===r){bu&&!i&&$u(t,e,0,!1);break}if(n=t.current.alternate,!o||Xu(n)){if(2===r){if(o=e,t.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&t.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){e=a;t:{var l=t;r=Lu;var u=l.current.memoizedState.isDehydrated;if(u&&(ec(l,a).flags|=256),2!==(a=ac(l,a,!1))){if(wu&&!u){l.errorRecoveryDisabledLanes|=o,Tu|=o,r=4;break t}o=Iu,Iu=r,null!==o&&(null===Iu?Iu=o:Iu.push.apply(Iu,o))}r=a}if(o=!1,2!==r)continue}}if(1===r){ec(t,0),$u(t,e,0,!0);break}t:{switch(i=t,o=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&e)!==e)break;case 6:$u(i,e,Cu,!_u);break t;case 2:Iu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&e)===e&&10<(r=Nu+300-lt())){if($u(i,e,Cu,!_u),0!==Ct(i,0,!0))break t;Vu=e,i.timeoutHandle=wh(Yu.bind(null,i,n,Iu,Ou,Au,e,Cu,Tu,Pu,_u,o,"Throttled",-0,0),r)}else Yu(i,n,Iu,Ou,Au,e,Cu,Tu,Pu,_u,o,null,-0,0)}break}r=ac(t,e,!1),o=!1}Oc(t)}function Yu(t,e,n,i,r,o,s,a,l,u,c,h,d,f){if(t.timeoutHandle=-1,8192&(h=e.subtreeFlags)||16785408===(16785408&h)){ou(e,o,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ne});var p=(62914560&o)===o?Nu-lt():(4194048&o)===o?Du-lt():0;if(null!==(p=function(t,e){return t.stylesheets&&0===t.count&&ld(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var e=t.unsuspend;t.unsuspend=null,e()}},6e4+e);0<t.imgBytes&&0===od&&(od=62500*function(){if("function"===typeof performance.getEntriesByType){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],o=r.transferSize,s=r.initiatorType,a=r.duration;if(o&&a&&fh(s)){for(s=0,a=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],u=l.startTime;if(u>a)break;var c=l.transferSize,h=l.initiatorType;c&&fh(h)&&(s+=c*((l=l.responseEnd)<a?1:(a-u)/(l-u)))}if(--i,e+=8*(o+s)/(r.duration/1e3),10<++t)break}}if(0<t)return e/t/1e6}return navigator.connection&&"number"===typeof(t=navigator.connection.downlink)?t:5}());var r=setTimeout(function(){if(t.waitingForImages=!1,0===t.count&&(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend)){var e=t.unsuspend;t.unsuspend=null,e()}},(t.imgBytes>od?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(h,p)))return Vu=o,t.cancelPendingCommit=p(mc.bind(null,t,e,o,n,i,r,s,a,l,c,h,null,d,f)),void $u(t,o,s,!u)}mc(t,e,o,n,i,r,s,a,l)}function Xu(t){for(var e=t;;){var n=e.tag;if((0===n||11===n||15===n)&&16384&e.flags&&(null!==(n=e.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!$n(o(),r))return!1}catch(s){return!1}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $u(t,e,n,i){e&=~ku,e&=~Tu,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var o=31-bt(r),s=1<<o;i[o]=-1,r&=~s}0!==n&&Dt(t,n,e)}function Ju(){return 0!==(6&fu)||(Rc(0,!1),!1)}function tc(){if(null!==mu){if(0===yu)var t=mu.return;else xr=Er=null,as(t=mu),ao=null,lo=0,t=mu;for(;null!==t;)ml(t.alternate,t),t=t.return;mu=null}}function ec(t,e){var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,Sh(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),Vu=0,tc(),pu=t,mu=n=Vi(t.current,null),gu=e,yu=0,vu=null,_u=!1,bu=Pt(t,e),wu=!1,Pu=Cu=ku=Tu=xu=Eu=0,Iu=Lu=null,Au=!1,0!==(8&e)&&(e|=32&e);var i=t.entangledLanes;if(0!==i)for(t=t.entanglements,i&=e;0<i;){var r=31-bt(i),o=1<<r;e|=t[r],i&=~o}return Su=e,Ii(),n}function nc(t,e){qo=null,M.H=ma,e===Xr||e===Jr?(e=oo(),yu=3):e===$r?(e=oo(),yu=4):yu=e===Na?8:null!==e&&"object"===typeof e&&"function"===typeof e.then?6:1,vu=e,null===mu&&(Eu=1,Ca(t,Ki(e,t.current)))}function ic(){var t=Do.current;return null===t||((4194048&gu)===gu?null===Mo:((62914560&gu)===gu||0!==(536870912&gu))&&t===Mo)}function rc(){var t=M.H;return M.H=ma,null===t?ma:t}function oc(){var t=M.A;return M.A=hu,t}function sc(){Eu=4,_u||(4194048&gu)!==gu&&null!==Do.current||(bu=!0),0===(134217727&xu)&&0===(134217727&Tu)||null===pu||$u(pu,gu,Cu,!1)}function ac(t,e,n){var i=fu;fu|=2;var r=rc(),o=oc();pu===t&&gu===e||(Ou=null,ec(t,e)),e=!1;var s=Eu;t:for(;;)try{if(0!==yu&&null!==mu){var a=mu,l=vu;switch(yu){case 8:tc(),s=6;break t;case 3:case 2:case 9:case 6:null===Do.current&&(e=!0);var u=yu;if(yu=0,vu=null,dc(t,a,l,u),n&&bu){s=0;break t}break;default:u=yu,yu=0,vu=null,dc(t,a,l,u)}}lc(),s=Eu;break}catch(c){nc(t,c)}return e&&t.shellSuspendCounter++,xr=Er=null,fu=i,M.H=r,M.A=o,null===mu&&(pu=null,gu=0,Ii()),s}function lc(){for(;null!==mu;)cc(mu)}function uc(){for(;null!==mu&&!st();)cc(mu)}function cc(t){var e=sl(t.alternate,t,Su);t.memoizedProps=t.pendingProps,null===e?fc(t):mu=e}function hc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Za(n,e,e.pendingProps,e.type,void 0,gu);break;case 11:e=Za(n,e,e.pendingProps,e.type.render,e.ref,gu);break;case 5:as(e);default:ml(n,e),e=sl(n,e=mu=ji(e,Su),Su)}t.memoizedProps=t.pendingProps,null===e?fc(t):mu=e}function dc(t,e,n,i){xr=Er=null,as(e),ao=null,lo=0;var r=e.return;try{if(function(t,e,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(e=n.alternate)&&Lr(e,n,r,!0),null!==(n=Do.current)){switch(n.tag){case 31:case 13:return null===Mo?sc():null===n.alternate&&0===Eu&&(Eu=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===to?n.flags|=16384:(null===(e=n.updateQueue)?n.updateQueue=new Set([i]):e.add(i),xc(t,i,r)),!1;case 22:return n.flags|=65536,i===to?n.flags|=16384:(null===(e=n.updateQueue)?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):null===(n=e.retryQueue)?e.retryQueue=new Set([i]):n.add(i),xc(t,i,r)),!1}throw Error(s(435,n.tag))}return xc(t,i,r),sc(),!1}if(hr)return null!==(e=Do.current)?(0===(65536&e.flags)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==pr&&wr(Ki(t=Error(s(422),{cause:i}),n))):(i!==pr&&wr(Ki(e=Error(s(423),{cause:i}),n)),(t=t.current.alternate).flags|=65536,r&=-r,t.lanes|=r,i=Ki(i,n),So(t,r=La(t.stateNode,i,r)),4!==Eu&&(Eu=2)),!1;var o=Error(s(520),{cause:i});if(o=Ki(o,n),null===Lu?Lu=[o]:Lu.push(o),4!==Eu&&(Eu=2),null===e)return!0;i=Ki(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,So(n,t=La(n.stateNode,i,t)),!1;case 1:if(e=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof e.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Ru||!Ru.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,Aa(r=Ia(r),t,n,i),So(n,r),!1}n=n.return}while(null!==n);return!1}(t,r,e,n,gu))return Eu=1,Ca(t,Ki(n,t.current)),void(mu=null)}catch(o){if(null!==r)throw mu=r,o;return Eu=1,Ca(t,Ki(n,t.current)),void(mu=null)}32768&e.flags?(hr||1===i?t=!0:bu||0!==(536870912&gu)?t=!1:(_u=t=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Do.current)&&13===i.tag&&(i.flags|=16384))),pc(e,t)):fc(e)}function fc(t){var e=t;do{if(0!==(32768&e.flags))return void pc(e,_u);t=e.return;var n=fl(e.alternate,e,Su);if(null!==n)return void(mu=n);if(null!==(e=e.sibling))return void(mu=e);mu=e=t}while(null!==e);0===Eu&&(Eu=5)}function pc(t,e){do{var n=pl(t.alternate,t);if(null!==n)return n.flags&=32767,void(mu=n);if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&null!==(t=t.sibling))return void(mu=t);mu=t=n}while(null!==t);Eu=6,mu=null}function mc(t,e,n,i,r,o,a,l,u){t.cancelPendingCommit=null;do{bc()}while(0!==zu);if(0!==(6&fu))throw Error(s(327));if(null!==e){if(e===t.current)throw Error(s(177));if(o=e.lanes|e.childLanes,function(t,e,n,i,r,o){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var c=31-bt(n),h=1<<c;a[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==i&&Dt(t,i,0),0!==o&&0===r&&0!==t.tag&&(t.suspendedLanes|=o&~(s&~e))}(t,n,o|=Li,a,l,u),t===pu&&(mu=pu=null,gu=0),Bu=e,Fu=t,Vu=n,ju=o,Uu=r,qu=i,0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?(t.callbackNode=null,t.callbackPriority=0,rt(dt,function(){return wc(),null})):(t.callbackNode=null,t.callbackPriority=0),i=0!==(13878&e.flags),0!==(13878&e.subtreeFlags)||i){i=M.T,M.T=null,r=O.p,O.p=2,a=fu,fu|=4;try{!function(t,e){if(t=t.containerInfo,ph=_d,ri(t=ii(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break t}var a=0,l=-1,u=-1,c=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(u=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++c===r&&(l=a),f===o&&++h===i&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:t,selectionRange:n},_d=!1,Dl=e;null!==Dl;)if(t=(e=Dl).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Dl=t;else for(;null!==Dl;){switch(o=(e=Dl).alternate,t=e.flags,e.tag){case 0:if(0!==(4&t)&&null!==(t=null!==(t=e.updateQueue)?t.events:null))for(n=0;n<t.length;n++)(r=t[n]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&t)&&null!==o){t=void 0,n=e,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=Ea(n.type,r);t=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(y){Ec(n,n.return,y)}}break;case 3:if(0!==(1024&t))if(9===(n=(t=e.stateNode.containerInfo).nodeType))Lh(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lh(t);break;default:t.textContent=""}break;default:if(0!==(1024&t))throw Error(s(163))}if(null!==(t=e.sibling)){t.return=e.return,Dl=t;break}Dl=e.return}}(t,e)}finally{fu=a,O.p=r,M.T=i}}zu=1,gc(),yc(),vc()}}function gc(){if(1===zu){zu=0;var t=Fu,e=Bu,n=0!==(13878&e.flags);if(0!==(13878&e.subtreeFlags)||n){n=M.T,M.T=null;var i=O.p;O.p=2;var r=fu;fu|=4;try{Zl(e,t);var o=mh,s=ii(t.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&ni(a.ownerDocument.documentElement,a)){if(null!==l&&ri(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=ei(a,m),v=ei(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var _=h.createRange();_.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(_),f.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),f.addRange(_))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}_d=!!ph,mh=ph=null}finally{fu=r,O.p=i,M.T=n}}t.current=e,zu=2}}function yc(){if(2===zu){zu=0;var t=Fu,e=Bu,n=0!==(8772&e.flags);if(0!==(8772&e.subtreeFlags)||n){n=M.T,M.T=null;var i=O.p;O.p=2;var r=fu;fu|=4;try{Ml(t,e.alternate,e)}finally{fu=r,O.p=i,M.T=n}}zu=3}}function vc(){if(4===zu||3===zu){zu=0,at();var t=Fu,e=Bu,n=Vu,i=qu;0!==(10256&e.subtreeFlags)||0!==(10256&e.flags)?zu=5:(zu=0,Bu=Fu=null,_c(t,t.pendingLanes));var r=t.pendingLanes;if(0===r&&(Ru=null),zt(n),e=e.stateNode,vt&&"function"===typeof vt.onCommitFiberRoot)try{vt.onCommitFiberRoot(yt,e,void 0,128===(128&e.current.flags))}catch(l){}if(null!==i){e=M.T,r=O.p,O.p=2,M.T=null;try{for(var o=t.onRecoverableError,s=0;s<i.length;s++){var a=i[s];o(a.value,{componentStack:a.stack})}}finally{M.T=e,O.p=r}}0!==(3&Vu)&&bc(),Oc(t),r=t.pendingLanes,0!==(261930&n)&&0!==(42&r)?t===Zu?Hu++:(Hu=0,Zu=t):Hu=0,Rc(0,!1)}}function _c(t,e){0===(t.pooledCacheLanes&=e)&&(null!=(e=t.pooledCache)&&(t.pooledCache=null,Vr(e)))}function bc(){return gc(),yc(),vc(),wc()}function wc(){if(5!==zu)return!1;var t=Fu,e=ju;ju=0;var n=zt(Vu),i=M.T,r=O.p;try{O.p=32>n?32:n,M.T=null,n=Uu,Uu=null;var o=Fu,a=Vu;if(zu=0,Bu=Fu=null,Vu=0,0!==(6&fu))throw Error(s(331));var l=fu;if(fu|=4,lu(o.current),tu(o,o.current,a,n),fu=l,Rc(0,!1),vt&&"function"===typeof vt.onPostCommitFiberRoot)try{vt.onPostCommitFiberRoot(yt,o)}catch(u){}return!0}finally{O.p=r,M.T=i,_c(t,e)}}function Sc(t,e,n){e=Ki(n,e),null!==(t=bo(t,e=La(t.stateNode,e,2),2))&&(Nt(t,2),Oc(t))}function Ec(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ru||!Ru.has(i))){t=Ki(n,t),null!==(i=bo(e,n=Ia(2),2))&&(Aa(n,i,e,t),Nt(i,2),Oc(i));break}}e=e.return}}function xc(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new du;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(wu=!0,r.add(n),t=Tc.bind(null,t,e,n),e.then(t,t))}function Tc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,pu===t&&(gu&n)===n&&(4===Eu||3===Eu&&(62914560&gu)===gu&&300>lt()-Nu?0===(2&fu)&&ec(t,0):ku|=n,Pu===gu&&(Pu=0)),Oc(t)}function kc(t,e){0===e&&(e=It()),null!==(t=Di(t,e))&&(Nt(t,e),Oc(t))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),kc(t,n)}function Pc(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(e),kc(t,n)}var Lc=null,Ic=null,Ac=!1,Nc=!1,Dc=!1,Mc=0;function Oc(t){t!==Ic&&null===t.next&&(null===Ic?Lc=Ic=t:Ic=Ic.next=t),Nc=!0,Ac||(Ac=!0,xh(function(){0!==(6&fu)?rt(ct,zc):Fc()}))}function Rc(t,e){if(!Dc&&Nc){Dc=!0;do{for(var n=!1,i=Lc;null!==i;){if(!e)if(0!==t){var r=i.pendingLanes;if(0===r)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-bt(42|t)+1)-1,o=201326741&(o&=r&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,jc(i,o))}else o=gu,0===(3&(o=Ct(i,i===pu?o:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||Pt(i,o)||(n=!0,jc(i,o));i=i.next}}while(n);Dc=!1}}function zc(){Fc()}function Fc(){Nc=Ac=!1;var t=0;0!==Mc&&function(){var t=window.event;if(t&&"popstate"===t.type)return t!==bh&&(bh=t,!0);return bh=null,!1}()&&(t=Mc);for(var e=lt(),n=null,i=Lc;null!==i;){var r=i.next,o=Bc(i,e);0===o?(i.next=null,null===n?Lc=r:n.next=r,null===r&&(Ic=n)):(n=i,(0!==t||0!==(3&o))&&(Nc=!0)),i=r}0!==zu&&5!==zu||Rc(t,!1),0!==Mc&&(Mc=0)}function Bc(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=-62914561&t.pendingLanes;0<o;){var s=31-bt(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=Lt(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}if(n=gu,n=Ct(t,t===(e=pu)?n:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle),i=t.callbackNode,0===n||t===e&&(2===yu||9===yu)||null!==t.cancelPendingCommit)return null!==i&&null!==i&&ot(i),t.callbackNode=null,t.callbackPriority=0;if(0===(3&n)||Pt(t,n)){if((e=n&-n)===t.callbackPriority)return e;switch(null!==i&&ot(i),zt(n)){case 2:case 8:n=ht;break;case 32:default:n=dt;break;case 268435456:n=pt}return i=Vc.bind(null,t),n=rt(n,i),t.callbackPriority=e,t.callbackNode=n,e}return null!==i&&null!==i&&ot(i),t.callbackPriority=2,t.callbackNode=null,2}function Vc(t,e){if(0!==zu&&5!==zu)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var i=gu;return 0===(i=Ct(t,t===pu?i:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle))?null:(Qu(t,i,e),Bc(t,lt()),null!=t.callbackNode&&t.callbackNode===n?Vc.bind(null,t):null)}function jc(t,e){if(bc())return null;Qu(t,e,!0)}function Uc(){if(0===Mc){var t=qr;0===t&&(t=Et,0===(261888&(Et<<=1))&&(Et=256)),Mc=t}return Mc}function qc(t){return null==t||"symbol"===typeof t||"boolean"===typeof t?null:"function"===typeof t?t:Ae(""+t)}function Hc(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}for(var Zc=0;Zc<xi.length;Zc++){var Wc=xi[Zc];Ti(Wc.toLowerCase(),"on"+(Wc[0].toUpperCase()+Wc.slice(1)))}Ti(gi,"onAnimationEnd"),Ti(yi,"onAnimationIteration"),Ti(vi,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(_i,"onTransitionRun"),Ti(bi,"onTransitionStart"),Ti(wi,"onTransitionCancel"),Ti(Si,"onTransitionEnd"),re("onMouseEnter",["mouseout","mouseover"]),re("onMouseLeave",["mouseout","mouseover"]),re("onPointerEnter",["pointerout","pointerover"]),re("onPointerLeave",["pointerout","pointerover"]),ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function Qc(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break t;o=a,r.currentTarget=u;try{o(r)}catch(c){ki(c)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break t;o=a,r.currentTarget=u;try{o(r)}catch(c){ki(c)}r.currentTarget=null,o=l}}}}function Yc(t,e){var n=e[Ht];void 0===n&&(n=e[Ht]=new Set);var i=t+"__bubble";n.has(i)||(th(e,t,2,!1),n.add(i))}function Xc(t,e,n){var i=0;e&&(i|=4),th(n,t,i,e)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[$c]){t[$c]=!0,ee.forEach(function(e){"selectionchange"!==e&&(Kc.has(e)||Xc(e,!1,t),Xc(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[$c]||(e[$c]=!0,Xc("selectionchange",!1,e))}}function th(t,e,n,i){switch(kd(e)){case 2:var r=bd;break;case 8:r=wd;break;default:r=Sd}n=r.bind(null,e,n,t),r=void 0,!Ue||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function eh(t,e,n,i,r){var o=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r)break;if(4===s)for(s=i.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==a;){if(null===(s=Yt(a)))return;if(5===(u=s.tag)||6===u||26===u||27===u){i=o=s;continue t}a=a.parentNode}}i=i.return}Be(function(){var i=o,r=Me(n),s=[];t:{var a=Ei.get(t);if(void 0!==a){var u=nn,c=t;switch(t){case"keypress":if(0===Ke(n))break t;case"keydown":case"keyup":u=vn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=bn;break;case gi:case yi:case vi:u=cn;break;case Si:u=wn;break;case"scroll":case"scrollend":u=on;break;case"wheel":u=Sn;break;case"copy":case"cut":case"paste":u=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=_n;break;case"toggle":case"beforetoggle":u=En}var h=0!==(4&e),d=!h&&("scroll"===t||"scrollend"===t),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=i;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ve(m,f))&&h.push(nh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new u(a,c,null,n,r),s.push({event:a,listeners:h}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===De||!(c=n.relatedTarget||n.fromElement)||!Yt(c)&&!c[qt])&&(u||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=i,null!==(c=(c=n.relatedTarget||n.toElement)?Yt(c):null)&&(d=l(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=i),u!==c)){if(h=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==t&&"pointerover"!==t||(h=_n,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?a:$t(u),p=null==c?a:$t(c),(a=new h(g,m+"leave",u,n,r)).target=d,a.relatedTarget=p,g=null,Yt(r)===i&&((h=new h(f,m+"enter",c,n,r)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)t:{for(h=rh,m=c,p=0,g=f=u;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break t}f=h(f),m=h(m)}h=null}else h=null;null!==u&&oh(s,a,u,h,!1),null!==c&&null!==d&&oh(s,d,c,h,!0)}if("select"===(u=(a=i?$t(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=jn;else if(On(a))if(Un)v=Xn;else{v=Qn;var _=Kn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Pe(i.elementType)&&(v=jn):v=Yn;switch(v&&(v=v(t,i))?Rn(s,v,n,r):(_&&_(t,a,i),"focusout"===t&&i&&"number"===a.type&&null!=i.memoizedProps.value&&be(a,"number",a.value)),_=i?$t(i):window,t){case"focusin":(On(_)||"true"===_.contentEditable)&&(si=_,ai=i,li=null);break;case"focusout":li=ai=si=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":ui=!1,ci(s,n,r);break;case"selectionchange":if(oi)break;case"keydown":case"keyup":ci(s,n,r)}var b;if(Tn)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Dn?An(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(Pn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Dn&&(b=Ge()):(Ze="value"in(He=r)?He.value:He.textContent,Dn=!0)),0<(_=ih(i,w)).length&&(w=new dn(w,t,null,n,r),s.push({event:w,listeners:_}),b?w.data=b:null!==(b=Nn(n))&&(w.data=b))),(b=Cn?function(t,e){switch(t){case"compositionend":return Nn(e);case"keypress":return 32!==e.which?null:(In=!0,Ln);case"textInput":return(t=e.data)===Ln&&In?null:t;default:return null}}(t,n):function(t,e){if(Dn)return"compositionend"===t||!Tn&&An(t,e)?(t=Ge(),We=Ze=He=null,Dn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(w=ih(i,"onBeforeInput")).length&&(_=new dn("onBeforeInput","beforeinput",null,n,r),s.push({event:_,listeners:w}),_.data=b)),function(t,e,n,i,r){if("submit"===e&&n&&n.stateNode===r){var o=qc((r[Ut]||null).action),s=i.submitter;s&&null!==(e=(e=s[Ut]||null)?qc(e.formAction):s.getAttribute("formAction"))&&(o=e,s=null);var a=new nn("action","action",null,i,r);t.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Mc){var t=s?Hc(r,s):new FormData(r);ea(n,{pending:!0,data:t,method:r.method,action:o},null,t)}}else"function"===typeof o&&(a.preventDefault(),t=s?Hc(r,s):new FormData(r),ea(n,{pending:!0,data:t,method:r.method,action:o},o,t))},currentTarget:r}]})}}(s,t,i,n,r)}Qc(s,e)})}function nh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ih(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Ve(t,n))&&i.unshift(nh(t,r,o)),null!=(r=Ve(t,e))&&i.push(nh(t,r,o))),3===t.tag)return i;t=t.return}return[]}function rh(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag&&27!==t.tag);return t||null}function oh(t,e,n,i,r){for(var o=e._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===u||(l=u,r?null!=(u=Ve(n,o))&&s.unshift(nh(n,u,l)):r||null!=(u=Ve(n,o))&&s.push(nh(n,u,l))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var sh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function lh(t){return("string"===typeof t?t:""+t).replace(sh,"\n").replace(ah,"")}function uh(t,e){return e=lh(e),lh(t)===e}function ch(t,e,n,i,r,o){switch(n){case"children":"string"===typeof i?"body"===e||"textarea"===e&&""===i||xe(t,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==e&&xe(t,""+i);break;case"className":ue(t,"class",i);break;case"tabIndex":ue(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ue(t,n,i);break;case"style":Ce(t,i,o);break;case"data":if("object"!==e){ue(t,"data",i);break}case"src":case"href":if(""===i&&("a"!==e||"href"!==n)){t.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Ae(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==e&&ch(t,e,"name",r.name,r,null),ch(t,e,"formEncType",r.formEncType,r,null),ch(t,e,"formMethod",r.formMethod,r,null),ch(t,e,"formTarget",r.formTarget,r,null)):(ch(t,e,"encType",r.encType,r,null),ch(t,e,"method",r.method,r,null),ch(t,e,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){t.removeAttribute(n);break}i=Ae(""+i),t.setAttribute(n,i);break;case"onClick":null!=i&&(t.onclick=Ne);break;case"onScroll":null!=i&&Yc("scroll",t);break;case"onScrollEnd":null!=i&&Yc("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":t.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){t.removeAttribute("xlink:href");break}n=Ae(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===i?t.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Yc("beforetoggle",t),Yc("toggle",t),le(t,"popover",i);break;case"xlinkActuate":ce(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ce(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ce(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ce(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ce(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ce(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ce(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ce(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ce(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":le(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&le(t,n=Le.get(n)||n,i)}}function hh(t,e,n,i,r,o){switch(n){case"style":Ce(t,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));t.innerHTML=n}}break;case"children":"string"===typeof i?xe(t,i):("number"===typeof i||"bigint"===typeof i)&&xe(t,""+i);break;case"onScroll":null!=i&&Yc("scroll",t);break;case"onScrollEnd":null!=i&&Yc("scrollend",t);break;case"onClick":null!=i&&(t.onclick=Ne);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:ne.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),"function"===typeof(o=null!=(o=t[Ut]||null)?o[n]:null)&&t.removeEventListener(e,o,r),"function"!==typeof i)?n in t?t[n]=i:!0===i?t.setAttribute(n,""):le(t,n,i):("function"!==typeof o&&null!==o&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r)))}}function dh(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yc("error",t),Yc("load",t);var i,r=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:ch(t,e,i,a,n,null)}}return o&&ch(t,e,"srcSet",n.srcSet,n,null),void(r&&ch(t,e,"src",n.src,n,null));case"input":Yc("invalid",t);var l=i=a=o=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(null!=h)switch(r){case"name":o=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,e));break;default:ch(t,e,r,h,n,null)}}return void _e(t,i,l,u,c,a,o,!1);case"select":for(o in Yc("invalid",t),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:ch(t,e,o,l,n,null)}return e=i,n=a,t.multiple=!!r,void(null!=e?we(t,!!r,e,!1):null!=n&&we(t,!!r,n,!0));case"textarea":for(a in Yc("invalid",t),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ch(t,e,a,l,n,null)}return void Ee(t,r,o,i);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))if("selected"===u)t.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else ch(t,e,u,r,n,null);return;case"dialog":Yc("beforetoggle",t),Yc("toggle",t),Yc("cancel",t),Yc("close",t);break;case"iframe":case"object":Yc("load",t);break;case"video":case"audio":for(r=0;r<Gc.length;r++)Yc(Gc[r],t);break;case"image":Yc("error",t),Yc("load",t);break;case"details":Yc("toggle",t);break;case"embed":case"source":case"link":Yc("error",t),Yc("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:ch(t,e,c,r,n,null)}return;default:if(Pe(e)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(r=n[h])&&hh(t,e,h,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&ch(t,e,l,r,n,null))}function fh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ph=null,mh=null;function gh(t){return 9===t.nodeType?t:t.ownerDocument}function yh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vh(t,e){if(0===t)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===e?0:t}function _h(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"bigint"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bh=null;var wh="function"===typeof setTimeout?setTimeout:void 0,Sh="function"===typeof clearTimeout?clearTimeout:void 0,Eh="function"===typeof Promise?Promise:void 0,xh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Eh?function(t){return Eh.resolve(null).then(t).catch(Th)}:wh;function Th(t){setTimeout(function(){throw t})}function kh(t){return"head"===t}function Ch(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return t.removeChild(r),void Hd(e);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Fh(t.ownerDocument.documentElement);else if("head"===n){Fh(n=t.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Kt]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&Fh(t.ownerDocument.body);n=r}while(n);Hd(e)}function Ph(t,e){var n=t;t=0;do{var i=n.nextSibling;if(1===n.nodeType?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===t)break;t--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||t++;n=i}while(n)}function Lh(t){var e=t.firstChild;for(e&&10===e.nodeType&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lh(n),Qt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function Ih(t,e){for(;8!==t.nodeType;){if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!e)return null;if(null===(t=Dh(t.nextSibling)))return null}return t}function Ah(t){return"$?"===t.data||"$~"===t.data}function Nh(t){return"$!"===t.data||"$?"===t.data&&"loading"!==t.ownerDocument.readyState}function Dh(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e||"$~"===e||"&"===e||"F!"===e||"F"===e)break;if("/$"===e||"/&"===e)return null}}return t}var Mh=null;function Oh(t){t=t.nextSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n||"/&"===n){if(0===e)return Dh(t.nextSibling);e--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||e++}t=t.nextSibling}return null}function Rh(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===e)return t;e--}else"/$"!==n&&"/&"!==n||e++}t=t.previousSibling}return null}function zh(t,e,n){switch(e=gh(n),t){case"html":if(!(t=e.documentElement))throw Error(s(452));return t;case"head":if(!(t=e.head))throw Error(s(453));return t;case"body":if(!(t=e.body))throw Error(s(454));return t;default:throw Error(s(451))}}function Fh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Qt(t)}var Bh=new Map,Vh=new Set;function jh(t){return"function"===typeof t.getRootNode?t.getRootNode():9===t.nodeType?t:t.ownerDocument}var Uh=O.d;O.d={f:function(){var t=Uh.f(),e=Ju();return t||e},r:function(t){var e=Xt(t);null!==e&&5===e.tag&&"form"===e.type?ia(e):Uh.r(t)},D:function(t){Uh.D(t),Hh("dns-prefetch",t,null)},C:function(t,e){Uh.C(t,e),Hh("preconnect",t,e)},L:function(t,e,n){Uh.L(t,e,n);var i=qh;if(i&&t&&e){var r='link[rel="preload"][as="'+ye(e)+'"]';"image"===e&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ye(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ye(n.imageSizes)+'"]')):r+='[href="'+ye(t)+'"]';var o=r;switch(e){case"style":o=Wh(t);break;case"script":o=Qh(t)}Bh.has(o)||(t=f({rel:"preload",href:"image"===e&&n&&n.imageSrcSet?void 0:t,as:e},n),Bh.set(o,t),null!==i.querySelector(r)||"style"===e&&i.querySelector(Gh(o))||"script"===e&&i.querySelector(Yh(o))||(dh(e=i.createElement("link"),"link",t),te(e),i.head.appendChild(e)))}},m:function(t,e){Uh.m(t,e);var n=qh;if(n&&t){var i=e&&"string"===typeof e.as?e.as:"script",r='link[rel="modulepreload"][as="'+ye(i)+'"][href="'+ye(t)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Qh(t)}if(!Bh.has(o)&&(t=f({rel:"modulepreload",href:t},e),Bh.set(o,t),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yh(o)))return}dh(i=n.createElement("link"),"link",t),te(i),n.head.appendChild(i)}}},X:function(t,e){Uh.X(t,e);var n=qh;if(n&&t){var i=Jt(n).hoistableScripts,r=Qh(t),o=i.get(r);o||((o=n.querySelector(Yh(r)))||(t=f({src:t,async:!0},e),(e=Bh.get(r))&&td(t,e),te(o=n.createElement("script")),dh(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}},S:function(t,e,n){Uh.S(t,e,n);var i=qh;if(i&&t){var r=Jt(i).hoistableStyles,o=Wh(t);e=e||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Gh(o)))a.loading=5;else{t=f({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Bh.get(o))&&Jh(t,n);var l=s=i.createElement("link");te(l),dh(l,"link",t),l._p=new Promise(function(t,e){l.onload=t,l.onerror=e}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,$h(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}},M:function(t,e){Uh.M(t,e);var n=qh;if(n&&t){var i=Jt(n).hoistableScripts,r=Qh(t),o=i.get(r);o||((o=n.querySelector(Yh(r)))||(t=f({src:t,async:!0,type:"module"},e),(e=Bh.get(r))&&td(t,e),te(o=n.createElement("script")),dh(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}};var qh="undefined"===typeof document?null:document;function Hh(t,e,n){var i=qh;if(i&&"string"===typeof e&&e){var r=ye(e);r='link[rel="'+t+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Vh.has(r)||(Vh.add(r),t={rel:t,crossOrigin:n,href:e},null===i.querySelector(r)&&(dh(e=i.createElement("link"),"link",t),te(e),i.head.appendChild(e)))}}function Zh(t,e,n,i){var r,o,a,l,u=(u=W.current)?jh(u):null;if(!u)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(e=Wh(n.href),(i=(n=Jt(u).hoistableStyles).get(e))||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){t=Wh(n.href);var c=Jt(u).hoistableStyles,h=c.get(t);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,h),(c=u.querySelector(Gh(t)))&&!c._p&&(h.instance=c,h.state.loading=5),Bh.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bh.set(t,n),c||(r=u,o=t,a=n,l=h.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=r.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),dh(o,"link",a),te(o),r.head.appendChild(o))))),e&&null===i)throw Error(s(528,""));return h}if(e&&null!==i)throw Error(s(529,""));return null;case"script":return e=n.async,"string"===typeof(n=n.src)&&e&&"function"!==typeof e&&"symbol"!==typeof e?(e=Qh(n),(i=(n=Jt(u).hoistableScripts).get(e))||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wh(t){return'href="'+ye(t)+'"'}function Gh(t){return'link[rel="stylesheet"]['+t+"]"}function Kh(t){return f({},t,{"data-precedence":t.precedence,precedence:null})}function Qh(t){return'[src="'+ye(t)+'"]'}function Yh(t){return"script[async]"+t}function Xh(t,e,n){if(e.count++,null===e.instance)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ye(n.href)+'"]');if(i)return e.instance=i,te(i),i;var r=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return te(i=(t.ownerDocument||t).createElement("style")),dh(i,"style",r),$h(i,n.precedence,t),e.instance=i;case"stylesheet":r=Wh(n.href);var o=t.querySelector(Gh(r));if(o)return e.state.loading|=4,e.instance=o,te(o),o;i=Kh(n),(r=Bh.get(r))&&Jh(i,r),te(o=(t.ownerDocument||t).createElement("link"));var a=o;return a._p=new Promise(function(t,e){a.onload=t,a.onerror=e}),dh(o,"link",i),e.state.loading|=4,$h(o,n.precedence,t),e.instance=o;case"script":return o=Qh(n.src),(r=t.querySelector(Yh(o)))?(e.instance=r,te(r),r):(i=n,(r=Bh.get(o))&&td(i=f({},n),r),te(r=(t=t.ownerDocument||t).createElement("script")),dh(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(s(443,e.type))}else"stylesheet"===e.type&&0===(4&e.state.loading)&&(i=e.instance,e.state.loading|=4,$h(i,n.precedence,t));return e.instance}function $h(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===e)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=9===n.nodeType?n.head:n).insertBefore(t,e.firstChild)}function Jh(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.title&&(t.title=e.title)}function td(t,e){null==t.crossOrigin&&(t.crossOrigin=e.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),null==t.integrity&&(t.integrity=e.integrity)}var ed=null;function nd(t,e,n){if(null===ed){var i=new Map,r=ed=new Map;r.set(n,i)}else(i=(r=ed).get(n))||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var o=n[r];if(!(o[Kt]||o[jt]||"link"===t&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(e)||"";s=t+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function id(t,e,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===e?t.querySelector("head > title"):null)}function rd(t){return"stylesheet"!==t.type||0!==(3&t.state.loading)}var od=0;function sd(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}var ad=null;function ld(t,e){t.stylesheets=null,null!==t.unsuspend&&(t.count++,ad=new Map,e.forEach(ud,t),ad=null,sd.call(t))}function ud(t,e){if(!(4&e.state.loading)){var n=ad.get(t);if(n)var i=n.get(null);else{n=new Map,ad.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=e.instance).getAttribute("data-precedence"),(o=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=sd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(r,t.firstChild),e.state.loading|=4}}var cd={$$typeof:w,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function hd(t,e,n,i,r,o,s,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function dd(t,e,n,i,r,o,s,a,l,u,c,h){return t=new hd(t,e,n,s,l,u,c,h,a),e=1,!0===o&&(e|=24),o=Fi(3,null,null,e),t.current=o,o.stateNode=t,(e=Br()).refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},yo(o),t}function fd(t){return t?t=Ri:Ri}function pd(t,e,n,i,r,o){r=fd(r),null===i.context?i.context=r:i.pendingContext=r,(i=_o(e)).payload={element:n},null!==(o=void 0===o?null:o)&&(i.callback=o),null!==(n=bo(t,i,e))&&(Ku(n,0,e),wo(n,t,e))}function md(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function gd(t,e){md(t,e),(t=t.alternate)&&md(t,e)}function yd(t){if(13===t.tag||31===t.tag){var e=Di(t,67108864);null!==e&&Ku(e,0,67108864),gd(t,67108864)}}function vd(t){if(13===t.tag||31===t.tag){var e=Wu(),n=Di(t,e=Rt(e));null!==n&&Ku(n,0,e),gd(t,e)}}var _d=!0;function bd(t,e,n,i){var r=M.T;M.T=null;var o=O.p;try{O.p=2,Sd(t,e,n,i)}finally{O.p=o,M.T=r}}function wd(t,e,n,i){var r=M.T;M.T=null;var o=O.p;try{O.p=8,Sd(t,e,n,i)}finally{O.p=o,M.T=r}}function Sd(t,e,n,i){if(_d){var r=Ed(i);if(null===r)eh(t,e,i,xd,n),Od(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Pd=Rd(Pd,t,e,n,i,r),!0;case"dragenter":return Ld=Rd(Ld,t,e,n,i,r),!0;case"mouseover":return Id=Rd(Id,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ad.set(o,Rd(Ad.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Nd.set(o,Rd(Nd.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Od(t,i),4&e&&-1<Md.indexOf(t)){for(;null!==r;){var o=Xt(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=kt(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-bt(s);a.entanglements[1]|=l,s&=~l}Oc(o),0===(6&fu)&&(Mu=lt()+500,Rc(0,!1))}}break;case 31:case 13:null!==(a=Di(o,2))&&Ku(a,0,2),Ju(),gd(o,2)}if(null===(o=Ed(i))&&eh(t,e,i,xd,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else eh(t,e,i,null,n)}}function Ed(t){return Td(t=Me(t))}var xd=null;function Td(t){if(xd=null,null!==(t=Yt(t))){var e=l(t);if(null===e)t=null;else{var n=e.tag;if(13===n){if(null!==(t=u(e)))return t;t=null}else if(31===n){if(null!==(t=c(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xd=t,null}function kd(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case ct:return 2;case ht:return 8;case dt:case ft:return 32;case pt:return 268435456;default:return 32}default:return 32}}var Cd=!1,Pd=null,Ld=null,Id=null,Ad=new Map,Nd=new Map,Dd=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Od(t,e){switch(t){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Ld=null;break;case"mouseover":case"mouseout":Id=null;break;case"pointerover":case"pointerout":Ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(e.pointerId)}}function Rd(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&(null!==(e=Xt(e))&&yd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function zd(t){var e=Yt(t.target);if(null!==e){var n=l(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=u(n)))return t.blockedOn=e,void Bt(t.priority,function(){vd(n)})}else if(31===e){if(null!==(e=c(n)))return t.blockedOn=e,void Bt(t.priority,function(){vd(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fd(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ed(t.nativeEvent);if(null!==n)return null!==(e=Xt(n))&&yd(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);De=i,n.target.dispatchEvent(i),De=null,e.shift()}return!0}function Bd(t,e,n){Fd(t)&&n.delete(e)}function Vd(){Cd=!1,null!==Pd&&Fd(Pd)&&(Pd=null),null!==Ld&&Fd(Ld)&&(Ld=null),null!==Id&&Fd(Id)&&(Id=null),Ad.forEach(Bd),Nd.forEach(Bd)}function jd(t,e){t.blockedOn===e&&(t.blockedOn=null,Cd||(Cd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vd)))}var Ud=null;function qd(t){Ud!==t&&(Ud=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ud===t&&(Ud=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if("function"!==typeof i){if(null===Td(i||n))continue;break}var o=Xt(n);null!==o&&(t.splice(e,3),e-=3,ea(o,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Hd(t){function e(e){return jd(e,t)}null!==Pd&&jd(Pd,t),null!==Ld&&jd(Ld,t),null!==Id&&jd(Id,t),Ad.forEach(e),Nd.forEach(e);for(var n=0;n<Dd.length;n++){var i=Dd[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Dd.length&&null===(n=Dd[0]).blockedOn;)zd(n),null===n.blockedOn&&Dd.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[Ut]||null;if("function"===typeof o)s||qd(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[Ut]||null)a=s.formAction;else if(null!==Td(r))continue}else a=s.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),qd(n)}}}function Zd(){function t(t){t.canIntercept&&"react-transition"===t.info&&t.intercept({handler:function(){return new Promise(function(t){return r=t})},focusReset:"manual",scroll:"manual"})}function e(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var t=navigation.currentEntry;t&&null!=t.url&&navigation.navigate(t.url,{state:t.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),null!==r&&(r(),r=null)}}}function Wd(t){this._internalRoot=t}function Gd(t){this._internalRoot=t}Gd.prototype.render=Wd.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));pd(e.current,Wu(),t,e,null,null)},Gd.prototype.unmount=Wd.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;pd(t.current,2,null,t,null,null),Ju(),e[qt]=null}},Gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ft();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dd.length&&0!==e&&e<Dd[n].priority;n++);Dd.splice(n,0,t),0===n&&zd(t)}};var Kd=r.version;if("19.2.3"!==Kd)throw Error(s(527,Kd,"19.2.3"));O.findDOMNode=function(t){var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=function(t){var e=t.alternate;if(!e){if(null===(e=l(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return h(r),t;if(o===i)return h(r),e;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(e),t=null===(t=null!==t?d(t):null)?null:t.stateNode};var Qd={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{yt=Yd.inject(Qd),vt=Yd}catch($d){}}e.createRoot=function(t,e){if(!a(t))throw Error(s(299));var n=!1,i="",r=xa,o=Ta,l=ka;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onUncaughtError&&(r=e.onUncaughtError),void 0!==e.onCaughtError&&(o=e.onCaughtError),void 0!==e.onRecoverableError&&(l=e.onRecoverableError)),e=dd(t,1,!1,null,0,n,i,null,r,o,l,Zd),t[qt]=e.current,Jc(t),new Wd(e)},e.hydrateRoot=function(t,e,n){if(!a(t))throw Error(s(299));var i=!1,r="",o=xa,l=Ta,u=ka,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(e=dd(t,1,!0,e,0,i,r,c,o,l,u,Zd)).context=fd(null),n=e.current,(r=_o(i=Rt(i=Wu()))).callback=null,bo(n,r,i),n=i,e.current.lanes=n,Nt(e,n),Oc(e),t[qt]=e.current,Jc(t),new Gd(e)},e.version="19.2.3"},43(t,e,n){"use strict";t.exports=n(288)},228(t,e){!function(t){"use strict";var e="1.9.4";function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function s(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function a(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)},o}function l(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function u(){return!1}function c(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function f(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(t,e){return t.replace(m,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i})}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function S(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||b("RequestAnimationFrame")||S,x=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||E!==S)return E.call(window,r(t,e));t.call(e)}function k(t){t&&x.call(window,t)}var C={__proto__:null,extend:n,create:i,bind:r,get lastId(){return o},stamp:s,throttle:a,wrapNum:l,falseFn:u,formatNum:c,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:y,indexOf:v,emptyImageUrl:_,requestFn:E,cancelFn:x,requestAnimFrame:T,cancelAnimFrame:k};function P(){}function I(t){if("undefined"!==typeof L&&L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(t){var e=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var s in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(I(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=r.options?i(r.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},P.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},P.mergeOptions=function(t){return n(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,o=(t=d(t)).length;r<o;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=d(t);for(var r=1===arguments.length,o=0,s=t.length;o<s;o++)r?this._off(t[o]):this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var r={fn:e,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if("function"===typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=i[s];this._firingCount&&(a.fn=u,this._events[t]=i=i.slice()),i.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,o=i.length;r<o;r++)i[r].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s],u=l.fn;l.once&&this.off(t,u,l.ctx),u.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e,n,i){"string"!==typeof t&&console.warn('"string" type argument expected');var r=e;"function"!==typeof e&&(i=!!e,r=void 0,n=void 0);var o=this._events&&this._events[t];if(o&&o.length&&!1!==this._listens(t,r,n))return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var r=0,o=i.length;r<o;r++)if(i[r].fn===e&&i[r].ctx===n)return r;return!1},once:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e,!0);else for(var r=0,o=(t=d(t)).length;r<o;r++)this._on(t[r],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var N=P.extend(A);function D(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var M=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function O(t,e,n){return t instanceof D?t:y(t)?new D(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new D(t.x,t.y):new D(t,e,n)}function R(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(t,e){return!t||t instanceof R?t:new R(t,e)}function F(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function B(t,e){return t instanceof F?t:new F(t,e)}function V(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof V?t:y(t)&&"object"!==typeof t[0]?3===t.length?new V(t[0],t[1],t[2]):2===t.length?new V(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new V(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new V(t,e,n)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new D(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new D(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},R.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof D||"number"===typeof t[0]||"x"in t)e=n=O(t);else if(e=(t=z(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof D?O(t):z(t))instanceof R?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=z(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=z(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,r=Math.abs(e.y-n.y)*t;return z(O(e.x-i,e.y-r),O(n.x+i,n.y+r))},equals:function(t){return!!t&&(t=z(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},F.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof V)e=t,n=t;else{if(!(t instanceof F))return t?this.extend(j(t)||B(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new V(e.lat,e.lng),this._northEast=new V(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new F(new V(e.lat-i,e.lng-r),new V(n.lat+i,n.lng+r))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof V||"lat"in t?j(t):B(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof F?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,j(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var U={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new R(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new V(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new F(new V(o.lat-i,o.lng-r),new V(s.lat-i,s.lng-r))}},q=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),H=6378137,Z={R:H,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new D(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=H*Math.PI;return new R([-t,-t],[t,t])}()};function W(t,e,n,i){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function G(t,e,n,i){return new W(t,e,n,i)}W.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new D((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var K=n({},q,{code:"EPSG:3857",projection:Z,transformation:function(){var t=.5/(Math.PI*Z.R);return G(t,.5,-t,.5)}()}),Q=n({},K,{code:"EPSG:900913"});function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n,i,r,o,s,a,l="";for(n=0,r=t.length;n<r;n++){for(i=0,o=(s=t[n]).length;i<o;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=e?Rt.svg?"z":"x":""}return l||"M0 0"}var $=document.documentElement.style,J="ActiveXObject"in window,tt=J&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Ot("webkit"),it=Ot("android"),rt=Ot("android 2")||Ot("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=it&&Ot("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,lt=!et&&Ot("chrome"),ut=Ot("gecko")&&!nt&&!at&&!J,ct=!lt&&Ot("safari"),ht=Ot("phantom"),dt="OTransition"in $,ft=0===navigator.platform.indexOf("Win"),pt=J&&"transition"in $,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,gt="MozPerspective"in $,yt=!window.L_DISABLE_3D&&(pt||mt||gt)&&!dt&&!ht,vt="undefined"!==typeof orientation||Ot("mobile"),_t=vt&&nt,bt=vt&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,St=!(!window.PointerEvent&&!wt),Et="ontouchstart"in window||!!window.TouchEvent,xt=!window.L_NO_TOUCH&&(Et||St),Tt=vt&&at,kt=vt&&ut,Ct=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(n){}return t}(),Lt=!!document.createElement("canvas").getContext,It=!(!document.createElementNS||!Y("svg").createSVGRect),At=!!It&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),Nt=!It&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),Dt=0===navigator.platform.indexOf("Mac"),Mt=0===navigator.platform.indexOf("Linux");function Ot(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Rt={ie:J,ielt9:tt,edge:et,webkit:nt,android:it,android23:rt,androidStock:st,opera:at,chrome:lt,gecko:ut,safari:ct,phantom:ht,opera12:dt,win:ft,ie3d:pt,webkit3d:mt,gecko3d:gt,any3d:yt,mobile:vt,mobileWebkit:_t,mobileWebkit3d:bt,msPointer:wt,pointer:St,touch:xt,touchNative:Et,mobileOpera:Tt,mobileGecko:kt,retina:Ct,passiveEvents:Pt,canvas:Lt,svg:It,vml:Nt,inlineSvg:At,mac:Dt,linux:Mt},zt=Rt.msPointer?"MSPointerDown":"pointerdown",Ft=Rt.msPointer?"MSPointerMove":"pointermove",Bt=Rt.msPointer?"MSPointerUp":"pointerup",Vt=Rt.msPointer?"MSPointerCancel":"pointercancel",jt={touchstart:zt,touchmove:Ft,touchend:Bt,touchcancel:Vt},Ut={touchstart:$t,touchmove:Xt,touchend:Xt,touchcancel:Xt},qt={},Ht=!1;function Zt(t,e,n){return"touchstart"===e&&Yt(),Ut[e]?(n=Ut[e].bind(this,n),t.addEventListener(jt[e],n,!1),n):(console.warn("wrong event specified:",e),u)}function Wt(t,e,n){jt[e]?t.removeEventListener(jt[e],n,!1):console.warn("wrong event specified:",e)}function Gt(t){qt[t.pointerId]=t}function Kt(t){qt[t.pointerId]&&(qt[t.pointerId]=t)}function Qt(t){delete qt[t.pointerId]}function Yt(){Ht||(document.addEventListener(zt,Gt,!0),document.addEventListener(Ft,Kt,!0),document.addEventListener(Bt,Qt,!0),document.addEventListener(Vt,Qt,!0),Ht=!0)}function Xt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],qt)e.touches.push(qt[n]);e.changedTouches=[e],t(e)}}function $t(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ge(e),Xt(t,e)}function Jt(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,i=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=Qe(t);if(!r.some(function(t){return t instanceof HTMLLabelElement&&t.attributes.for})||r.some(function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement})){var o=Date.now();o-i<=te?2===++n&&e(Jt(t)):n=1,i=o}}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ie,re,oe,se,ae,le=Te(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ue=Te(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ce="webkitTransition"===ue||"OTransition"===ue?ue+"End":"transitionend";function he(t){return"string"===typeof t?document.getElementById(t):t}function de(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function fe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function pe(t){var e=t.parentNode;e&&e.removeChild(t)}function me(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ge(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ye(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ve(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Se(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function _e(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ve(t,e)){var o=Se(t);we(t,(o?o+" ":"")+e)}}function be(t,e){void 0!==t.classList?t.classList.remove(e):we(t,h((" "+Se(t)+" ").replace(" "+e+" "," ")))}function we(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Se(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Ee(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&xe(t,e)}function xe(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Te(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ke(t,e,n){var i=e||new D(0,0);t.style[le]=(Rt.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Ce(t,e){t._leaflet_pos=e,Rt.any3d?ke(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Pe(t){return t._leaflet_pos||new D(0,0)}if("onselectstart"in document)ie=function(){ze(window,"selectstart",Ge)},re=function(){Be(window,"selectstart",Ge)};else{var Le=Te(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ie=function(){if(Le){var t=document.documentElement.style;oe=t[Le],t[Le]="none"}},re=function(){Le&&(document.documentElement.style[Le]=oe,oe=void 0)}}function Ie(){ze(window,"dragstart",Ge)}function Ae(){Be(window,"dragstart",Ge)}function Ne(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(De(),se=t,ae=t.style.outlineStyle,t.style.outlineStyle="none",ze(window,"keydown",De))}function De(){se&&(se.style.outlineStyle=ae,se=void 0,ae=void 0,Be(window,"keydown",De))}function Me(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Oe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Re={__proto__:null,TRANSFORM:le,TRANSITION:ue,TRANSITION_END:ce,get:he,getStyle:de,create:fe,remove:pe,empty:me,toFront:ge,toBack:ye,hasClass:ve,addClass:_e,removeClass:be,setClass:we,getClass:Se,setOpacity:Ee,testProp:Te,setTransform:ke,setPosition:Ce,getPosition:Pe,get disableTextSelection(){return ie},get enableTextSelection(){return re},disableImageDrag:Ie,enableImageDrag:Ae,preventOutline:Ne,restoreOutline:De,getSizedParentNode:Me,getScale:Oe};function ze(t,e,n,i){if(e&&"object"===typeof e)for(var r in e)Ue(t,r,e[r],n);else for(var o=0,s=(e=d(e)).length;o<s;o++)Ue(t,e[o],n,i);return this}var Fe="_leaflet_events";function Be(t,e,n,i){if(1===arguments.length)Ve(t),delete t[Fe];else if(e&&"object"===typeof e)for(var r in e)qe(t,r,e[r],n);else if(e=d(e),2===arguments.length)Ve(t,function(t){return-1!==v(e,t)});else for(var o=0,s=e.length;o<s;o++)qe(t,e[o],n,i);return this}function Ve(t,e){for(var n in t[Fe]){var i=n.split(/\d/)[0];e&&!e(i)||qe(t,i,null,null,n)}}var je={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ue(t,e,n,i){var r=e+s(n)+(i?"_"+s(i):"");if(t[Fe]&&t[Fe][r])return this;var o=function(e){return n.call(i||t,e||window.event)},a=o;!Rt.touchNative&&Rt.pointer&&0===e.indexOf("touch")?o=Zt(t,e,o):Rt.touch&&"dblclick"===e?o=ee(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(je[e]||e,o,!!Rt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Je(t,e)&&a(e)},t.addEventListener(je[e],o,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,o),t[Fe]=t[Fe]||{},t[Fe][r]=o}function qe(t,e,n,i,r){r=r||e+s(n)+(i?"_"+s(i):"");var o=t[Fe]&&t[Fe][r];if(!o)return this;!Rt.touchNative&&Rt.pointer&&0===e.indexOf("touch")?Wt(t,e,o):Rt.touch&&"dblclick"===e?ne(t,o):"removeEventListener"in t?t.removeEventListener(je[e]||e,o,!1):t.detachEvent("on"+e,o),t[Fe][r]=null}function He(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ze(t){return Ue(t,"wheel",He),this}function We(t){return ze(t,"mousedown touchstart dblclick contextmenu",He),t._leaflet_disable_click=!0,this}function Ge(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ke(t){return Ge(t),He(t),this}function Qe(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Ye(t,e){if(!e)return new D(t.clientX,t.clientY);var n=Oe(e),i=n.boundingClientRect;return new D((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Xe=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $e(t){return Rt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Xe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Je(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t}var tn={__proto__:null,on:ze,off:Be,stopPropagation:He,disableScrollPropagation:Ze,disableClickPropagation:We,preventDefault:Ge,stop:Ke,getPropagationPath:Qe,getMousePosition:Ye,getWheelDelta:$e,isExternalTarget:Je,addListener:ze,removeListener:Be},en=N.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Pe(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Ce(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=N.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ue&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,ce,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof D?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(o));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=O(e.paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=O(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){_e(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Rt.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),s=this._zoom;t=j(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,e),u=r.distanceTo(i)||1,c=1.42,h=c*c;function d(t){var e=(l*l-a*a+(t?-1:1)*h*h*u*u)/(2*(t?l:a)*h*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return f(t)/p(t)}var g=d(0);function y(t){return a*(p(g)/p(g+c*t))}function v(t){return a*(p(g)*m(g+c*t)-f(g))/h}function _(t){return 1-Math.pow(1-t,1.5)}var b=Date.now(),w=(d(1)-g)/c,S=n.duration?1e3*n.duration:1e3*w*.8;function E(){var n=(Date.now()-b)/S,o=_(n)*w;n<=1?(this._flyToFrame=T(E,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(v(o)/u)),s),this.getScaleZoom(a/y(o),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=B(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,B(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(t),s=this.getPixelBounds(),a=z([s.min.add(n),s.max.subtract(i)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var u=o.subtract(a.getCenter()),c=a.extend(o).getSize().subtract(l);r.x+=u.x<0?-c.x:c.x,r.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),s=i.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new V(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"===typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)pe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=fe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new F(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=O(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),u=z(this.project(a,i),this.project(s,i)).getSize(),c=Rt.any3d?this.options.zoomSnap:1,h=l.x/u.x,d=l.y/u.y,f=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(f,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){var e=O(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Ye(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");ze(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,_e(t,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=de(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(t.markerPane,"leaflet-zoom-hide"),_e(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Ce(this._mapPane,new D(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,n)._move(t,e)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ce(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Be:ze;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;o;){if((n=this._targets[s(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!Je(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||a||r||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Ne(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var o=this._findEventTargets(t,e);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(e,!0)&&s.push(i[a]);o=s.concat(o)}if(o.length){"contextmenu"===e&&Ge(t);var l=o[0],u={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(e,u,!0),u.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Pe(this._mapPane)||new D(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return z([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new R(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new R(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new D(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Rt.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=le,n=this._proxy.style[e];ke(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ke(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(T(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new nn(t,e)}var on=P.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return _e(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),sn=function(t){return new on(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=fe("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=fe("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)pe(this._controlCorners[t]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return on.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=fe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),We(e),Ze(e);var i=this._section=fe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),ze(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=fe("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),ze(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ge(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=fe("div",t+"-base",i),this._separator=fe("div",t+"-separator",i),this._overlaysList=fe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;me(this._baseLayersList),me(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),ze(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(e),o.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ze(t,"click",Ge),this.expand();var e=this;setTimeout(function(){Be(t,"click",Ge),e._preventClick=!1})}}),ln=function(t,e,n){return new an(t,e,n)},un=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=fe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=fe("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),We(o),ze(o,"click",Ke),ze(o,"click",r,this),ze(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";be(this._zoomInButton,e),be(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(_e(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(_e(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))});var cn=function(t){return new un(t)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=fe("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=fe("div",e,n)),t.imperial&&(this._iScale=fe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(t){return new hn(t)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),We(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new pn).addTo(this)});var mn=function(t){return new pn(t)};on.Layers=an,on.Zoom=un,on.Scale=hn,on.Attribution=pn,sn.layers=ln,sn.zoom=cn,sn.scale=dn,sn.attribution=mn;var gn=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,e){return t.addHandler(e,this),this};var yn={Events:A},vn=Rt.touch?"touchstart mousedown":"mousedown",_n=N.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){f(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(ze(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),Be(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ve(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(_n._dragging=this,this._preventOutline&&Ne(this._element),Ie(),ie(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Me(this._element);this._startPoint=new D(e.clientX,e.clientY),this._startPos=Pe(this._element),this._parentScale=Oe(n);var i="mousedown"===t.type;ze(document,i?"mousemove":"touchmove",this._onMove,this),ze(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new D(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ge(t),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ce(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Be(document,"mousemove touchmove",this._onMove,this),Be(document,"mouseup touchend touchcancel",this._onUp,this),Ae(),re();var e=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function bn(t,e,n){var i,r,o,s,a,l,u,c,h,d=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=Dn(t[r],e);for(s=0;s<4;s++){for(c=d[s],i=[],r=0,o=(u=t.length)-1;r<u;o=r++)a=t[r],l=t[o],a._code&c?l._code&c||((h=Nn(l,a,c,e,n))._code=Dn(h,e),i.push(h)):(l._code&c&&((h=Nn(l,a,c,e,n))._code=Dn(h,e),i.push(h)),i.push(a));t=i}return t}function wn(t,e){var n,i,r,o,s,a,l,u,c;if(!t||0===t.length)throw new Error("latlngs not passed");Rn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=j([0,0]),d=B(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=Sn(t));var f=t.length,p=[];for(n=0;n<f;n++){var m=j(t[n]);p.push(e.project(j([m.lat-h.lat,m.lng-h.lng])))}for(a=l=u=0,n=0,i=f-1;n<f;i=n++)r=p[n],o=p[i],s=r.y*o.x-o.y*r.x,l+=(r.x+o.x)*s,u+=(r.y+o.y)*s,a+=3*s;c=0===a?p[0]:[l/a,u/a];var g=e.unproject(O(c));return j([g.lat+h.lat,g.lng+h.lng])}function Sn(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var o=j(t[r]);e+=o.lat,n+=o.lng,i++}return j([e/i,n/i])}var En,xn={__proto__:null,clipPolygon:bn,polygonCenter:wn,centroid:Sn};function Tn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Pn(t=In(t,n),n)}function kn(t,e,n){return Math.sqrt(On(t,e,n,!0))}function Cn(t,e,n){return On(t,e,n)}function Pn(t,e){var n=t.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,Ln(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}function Ln(t,e,n,i,r){var o,s,a,l=0;for(s=i+1;s<=r-1;s++)(a=On(t[s],t[i],t[r],!0))>l&&(o=s,l=a);l>n&&(e[o]=1,Ln(t,e,n,i,o),Ln(t,e,n,o,r))}function In(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)Mn(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function An(t,e,n,i,r){var o,s,a,l=i?En:Dn(t,n),u=Dn(e,n);for(En=u;;){if(!(l|u))return[t,e];if(l&u)return!1;a=Dn(s=Nn(t,e,o=l||u,n,r),n),o===l?(t=s,l=a):(e=s,u=a)}}function Nn(t,e,n,i,r){var o,s,a=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(o=t.x+a*(c.y-t.y)/l,s=c.y):4&n?(o=t.x+a*(u.y-t.y)/l,s=u.y):2&n?(o=c.x,s=t.y+l*(c.x-t.x)/a):1&n&&(o=u.x,s=t.y+l*(u.x-t.x)/a),new D(o,s,r)}function Dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Mn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function On(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,l=n.y-s,u=a*a+l*l;return u>0&&((r=((t.x-o)*a+(t.y-s)*l)/u)>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=l*r)),a=t.x-o,l=t.y-s,i?a*a+l*l:new D(o,s)}function Rn(t){return!y(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function zn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(t)}function Fn(t,e){var n,i,r,o,s,a,l,u;if(!t||0===t.length)throw new Error("latlngs not passed");Rn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var c=j([0,0]),h=B(t);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(c=Sn(t));var d=t.length,f=[];for(n=0;n<d;n++){var p=j(t[n]);f.push(e.project(j([p.lat-c.lat,p.lng-c.lng])))}for(n=0,i=0;n<d-1;n++)i+=f[n].distanceTo(f[n+1])/2;if(0===i)u=f[0];else for(n=0,o=0;n<d-1;n++)if(s=f[n],a=f[n+1],(o+=r=s.distanceTo(a))>i){l=(o-i)/r,u=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var m=e.unproject(O(u));return j([m.lat+c.lat,m.lng+c.lng])}var Bn={__proto__:null,simplify:Tn,pointToSegmentDistance:kn,closestPointOnSegment:Cn,clipSegment:An,_getEdgeIntersection:Nn,_getBitCode:Dn,_sqClosestPointOnSegment:On,isFlat:Rn,_flat:zn,polylineCenter:Fn},Vn={project:function(t){return new D(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new R([-180,-90],[180,90])},jn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new D(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=u=Math.PI/2-2*Math.atan(s*e)-a;return new V(a*n,t.x*n/i)}},Un={__proto__:null,LonLat:Vn,Mercator:jn,SphericalMercator:Z},qn=n({},q,{code:"EPSG:3395",projection:jn,transformation:function(){var t=.5/(Math.PI*jn.R);return G(t,.5,-t,.5)}()}),Hn=n({},q,{code:"EPSG:4326",projection:Vn,transformation:G(1/180,1,-1/180,.5)}),Zn=n({},U,{projection:Vn,transformation:G(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});U.Earth=q,U.EPSG3395=qn,U.EPSG3857=K,U.EPSG900913=Q,U.EPSG4326=Hn,U.Simple=Zn;var Wn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?y(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Wn.extend({initialize:function(t,e){var n,i;if(f(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Kn=function(t,e){return new Gn(t,e)},Qn=Gn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Gn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Gn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new F;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Yn=function(t,e){return new Qn(t,e)},Xn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var r=O(i),o=O("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Rt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function $n(t){return new Xn(t)}var Jn=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Xn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=fe("div","leaflet-default-icon-path",document.body),e=de(t,"background-image")||de(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ti=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new _n(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=Pe(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=z(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(o)){var u=O((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Ce(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Pe(e._icon),r=e._map.layerPointToLatLng(i);n&&Ce(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ei=Wn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),_e(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(_e(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ce(this._icon,t),this._shadow&&Ce(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ti)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ti(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ee(this._icon,t),this._shadow&&Ee(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?O(e.iconSize):O(0,0),i=e.iconAnchor?O(e.iconAnchor):O(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ni(t,e){return new ei(t,e)}var ii=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ri=ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new R(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function oi(t,e){return new ri(t,e)}var si=ri.extend({initialize:function(t,e,i){if("number"===typeof e&&(e=n({},i,{radius:e})),f(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===q.distance){var r=Math.PI/180,o=this._mRadius/q.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),l=s.add(a).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function ai(t,e,n){return new si(t,e,n)}var li=ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=On,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){var h=o(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new F,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Rn(t),i=0,r=t.length;i<r;i++)n?(e[i]=j(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new D(t,t);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof V,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,s,a,l=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(n=0,o=(a=this._rings[e]).length;n<o-1;n++)(s=An(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Tn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(s=(a=this._parts[n]).length)-1;i<s;r=i++)if((e||0!==i)&&kn(t,a[r],a[i])<=l)return!0;return!1}});function ui(t,e){return new li(t,e)}li._flat=zn;var ci=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=li.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof V&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){li.prototype._setLatLngs.call(this,t),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new D(e,e);if(t=new R(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=bn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(l=(e=this._parts[r]).length)-1;o<l;s=o++)n=e[o],i=e[s],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||li.prototype._containsPoint.call(this,t,!0)}});function hi(t,e){return new ci(t,e)}var di=Qn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=y(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=fi(t,o);return s?(s.feature=bi(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fi(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||mi;if(!a&&!s)return null;switch(s.type){case"Point":return pi(u,t,n=c(a),e);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=c(a[r]),l.push(pi(u,t,n,e));return new Qn(l);case"LineString":case"MultiLineString":return i=gi(a,"LineString"===s.type?0:1,c),new li(i,e);case"Polygon":case"MultiPolygon":return i=gi(a,"Polygon"===s.type?1:2,c),new ci(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=fi({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Qn(l);case"FeatureCollection":for(r=0,o=s.features.length;r<o;r++){var d=fi(s.features[r],e);d&&l.push(d)}return new Qn(l);default:throw new Error("Invalid GeoJSON object.")}}function pi(t,e,n,i){return t?t(e,n):new ei(n,i&&i.markersInheritOptions&&i)}function mi(t){return new V(t[1],t[0],t[2])}function gi(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?gi(t[o],e-1,n):(n||mi)(t[o]),r.push(i);return r}function yi(t,e){return void 0!==(t=j(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function vi(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?vi(t[o],Rn(t[o])?0:e-1,n,i):yi(t[o],i));return!e&&n&&r.length>0&&r.push(r[0].slice()),r}function _i(t,e){return t.feature?n({},t.feature,{geometry:e}):bi(e)}function bi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var wi={toGeoJSON:function(t){return _i(this,{type:"Point",coordinates:yi(this.getLatLng(),t)})}};function Si(t,e){return new di(t,e)}ei.include(wi),si.include(wi),ri.include(wi),li.include({toGeoJSON:function(t){var e=!Rn(this._latlngs);return _i(this,{type:(e?"Multi":"")+"LineString",coordinates:vi(this._latlngs,e?1:0,!1,t)})}}),ci.include({toGeoJSON:function(t){var e=!Rn(this._latlngs),n=e&&!Rn(this._latlngs[0]),i=vi(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),_i(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Gn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),_i(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=bi(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?_i(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Ei=Si,xi=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=B(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ge(this._image),this},bringToBack:function(){return this._map&&ye(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:fe("img");_e(e,"leaflet-image-layer"),this._zoomAnimated&&_e(e,"leaflet-zoom-animated"),this.options.className&&_e(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ke(this._image,n,e)},_reset:function(){var t=this._image,e=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Ce(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Ti=function(t,e,n){return new xi(t,e,n)},ki=xi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:fe("video");if(_e(e,"leaflet-image-layer"),this._zoomAnimated&&_e(e,"leaflet-zoom-animated"),this.options.className&&_e(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=fe("source");a.src=this._url[s],e.appendChild(a)}}}});function Ci(t,e,n){return new ki(t,e,n)}var Pi=xi.extend({_initImage:function(){var t=this._image=this._url;_e(t,"leaflet-image-layer"),this._zoomAnimated&&_e(t,"leaflet-zoom-animated"),this.options.className&&_e(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Li(t,e,n){return new Pi(t,e,n)}var Ii=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof V||y(t))?(this._latlng=j(t),f(this,e)):(f(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ee(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ee(this._container,0),this._removeTimeout=setTimeout(r(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ge(this._container),this},bringToBack:function(){return this._map&&ye(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Qn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?Ce(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,i){var r=e;return r instanceof t||(r=new t(i).setContent(e)),n&&r.setLatLng(n),r}}),Wn.include({_initOverlay:function(t,e,n,i){var r=n;return r instanceof t?(f(r,i),r._source=this):(r=e&&!i?e:new t(i,this)).setContent(n),r}});var Ai=Ii.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ii.prototype.openOn.call(this,t)},onAdd:function(t){Ii.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ii||this._source.on("preclick",He))},onRemove:function(t){Ii.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ii||this._source.off("preclick",He))},getEvents:function(){var t=Ii.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=fe("div",t+"-content-wrapper",e);if(this._contentNode=fe("div",t+"-content",n),We(e),Ze(this._contentNode),ze(e,"contextmenu",He),this._tipContainer=fe("div",t+"-tip-container",e),this._tip=fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=fe("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',ze(i,"click",function(t){Ge(t),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",_e(t,o)):be(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Ce(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(de(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new D(this._containerLeft,-n-this._containerBottom);r._add(Pe(this._container));var o=t.layerPointToContainerPoint(r),s=O(this.options.autoPanPadding),a=O(this.options.autoPanPaddingTopLeft||s),l=O(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),c=0,h=0;o.x+i+l.x>u.x&&(c=o.x+i-u.x+l.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+n+l.y>u.y&&(h=o.y+n-u.y+l.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([c,h]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ni=function(t,e){return new Ai(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(Ai,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Wn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ai,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Qn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ke(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof ii?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Di=Ii.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ii.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ii.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ii.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,l=r.offsetWidth,u=r.offsetHeight,c=O(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,n=u):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=u/2):"right"===a?(e=0,n=u/2):"left"===a?(e=l,n=u/2):s.x<o.x?(a="right",e=0,n=u/2):(a="left",e=l+2*(c.x+h.x),n=u/2),t=t.subtract(O(e,n,!0)).add(c).add(h),be(r,"leaflet-tooltip-right"),be(r,"leaflet-tooltip-left"),be(r,"leaflet-tooltip-top"),be(r,"leaflet-tooltip-bottom"),_e(r,"leaflet-tooltip-"+a),Ce(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ee(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mi=function(t,e){return new Di(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(Di,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Wn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Di,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Qn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(ze(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ze(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)})}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Oi=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(me(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=O(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Ri(t){return new Oi(t)}Xn.Default=Jn;var zi=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),pe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ge(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof D?t:new D(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt.ielt9){Ee(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);Ee(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(pe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),u(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)pe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new D(+r,+o);a.z=+s;var l=this._tileCoordsToKey(a),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new D(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Rt.any3d?ke(t.el,r,i):Ce(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new R(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new R(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new D(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var f=new D(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new F(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new D(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(pe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){_e(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,Rt.ielt9&&this.options.opacity<1&&Ee(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&T(r(this._tileReady,this,t,null,o)),Ce(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(Ee(n.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(_e(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new D(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new R(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Fi(t){return new zi(t)}var Bi=zi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Rt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return ze(n,"load",r(this._tileOnLoad,this,e,n)),ze(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Rt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return g(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Rt.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,!e.complete)){e.src=_;var n=this._tiles[t].coords;pe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",_),zi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_))return zi.prototype._tileReady.call(this,t,e,n)}});function Vi(t,e){return new Bi(t,e)}var ji=Bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var o=(e=f(this,e)).detectRetina&&Rt.retina?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Bi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=z(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===Hn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=Bi.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Ui(t,e){return new ji(t,e)}Bi.WMS=ji,Vi.wms=Ui;var qi=Wn.extend({options:{padding:.1},initialize:function(t){f(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),o=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));Rt.any3d?ke(this._container,o,n):Ce(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new R(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hi=qi.extend({options:{tolerance:0},getEvents:function(){var t=qi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ze(t,"mousemove",this._onMouseMove,this),ze(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,pe(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){qi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Rt.retina?2:1;Ce(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){qi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(be(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(_e(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Zi(t){return Rt.canvas?new Hi(t):null}var Wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gi={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Wi("shape");_e(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Wi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;pe(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Wi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=y(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Wi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ge(t._container)},_bringToBack:function(t){ye(t._container)}},Ki=Rt.vml?Wi:Y,Qi=qi.extend({_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){qi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Ce(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ki("path");t.options.className&&_e(e,t.options.className),t.options.interactive&&_e(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){pe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ge(t._path)},_bringToBack:function(t){ye(t._path)}});function Yi(t){return Rt.svg||Rt.vml?new Qi(t):null}Rt.vml&&Qi.include(Gi),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Zi(t)||Yi(t)}});var Xi=ci.extend({initialize:function(t,e){ci.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function $i(t,e){return new Xi(t,e)}Qi.create=Ki,Qi.pointsToPath=X,di.geometryToLayer=fi,di.coordsToLatLng=mi,di.coordsToLatLngs=gi,di.latLngToCoords=yi,di.latLngsToCoords=vi,di.getFeature=_i,di.asFeature=bi,nn.mergeOptions({boxZoom:!0});var Ji=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ie(),Ie(),this._startPoint=this._map.mouseEventToContainerPoint(t),ze(document,{contextmenu:Ke,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new R(this._point,this._startPoint),n=e.getSize();Ce(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pe(this._box),be(this._container,"leaflet-crosshair")),re(),Ae(),Be(document,{contextmenu:Ke,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Ji),nn.mergeOptions({doubleClickZoom:!0});var tr=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",tr),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var er=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new _n(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),l=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=a.multiplyBy(u/l),h=u/(n.inertiaDeceleration*s),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T(function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",er),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nr=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ze(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=O(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(O(e),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(r)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ke(t)}}});nn.addInitHook("addHandler","keyboard",nr),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ir=gn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$e(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ke(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});nn.addInitHook("addHandler","scrollWheelZoom",ir);var rr=600;nn.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var or=gn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new D(e.clientX,e.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Ge),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),rr),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Be(document,"touchend",Ge),Be(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new D(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",or),nn.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var sr=gn.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Ge(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(a,this,!0),Ge(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",sr),nn.BoxZoom=Ji,nn.DoubleClickZoom=tr,nn.Drag=er,nn.Keyboard=nr,nn.ScrollWheelZoom=ir,nn.TapHold=or,nn.TouchZoom=sr,t.Bounds=R,t.Browser=Rt,t.CRS=U,t.Canvas=Hi,t.Circle=si,t.CircleMarker=ri,t.Class=P,t.Control=on,t.DivIcon=Oi,t.DivOverlay=Ii,t.DomEvent=tn,t.DomUtil=Re,t.Draggable=_n,t.Evented=N,t.FeatureGroup=Qn,t.GeoJSON=di,t.GridLayer=zi,t.Handler=gn,t.Icon=Xn,t.ImageOverlay=xi,t.LatLng=V,t.LatLngBounds=F,t.Layer=Wn,t.LayerGroup=Gn,t.LineUtil=Bn,t.Map=nn,t.Marker=ei,t.Mixin=yn,t.Path=ii,t.Point=D,t.PolyUtil=xn,t.Polygon=ci,t.Polyline=li,t.Popup=Ai,t.PosAnimation=en,t.Projection=Un,t.Rectangle=Xi,t.Renderer=qi,t.SVG=Qi,t.SVGOverlay=Pi,t.TileLayer=Bi,t.Tooltip=Di,t.Transformation=W,t.Util=C,t.VideoOverlay=ki,t.bind=r,t.bounds=z,t.canvas=Zi,t.circle=ai,t.circleMarker=oi,t.control=sn,t.divIcon=Ri,t.extend=n,t.featureGroup=Yn,t.geoJSON=Si,t.geoJson=Ei,t.gridLayer=Fi,t.icon=$n,t.imageOverlay=Ti,t.latLng=j,t.latLngBounds=B,t.layerGroup=Kn,t.map=rn,t.marker=ni,t.point=O,t.polygon=hi,t.polyline=ui,t.popup=Ni,t.rectangle=$i,t.setOptions=f,t.stamp=s,t.svg=Yi,t.svgOverlay=Li,t.tileLayer=Vi,t.tooltip=Mi,t.transformation=G,t.version=e,t.videoOverlay=Ci;var ar=window.L;t.noConflict=function(){return window.L=ar,this},window.L=t}(e)},288(t,e){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||m}function _(){}function b(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=v.prototype;var w=b.prototype=new _;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray;function E(){}var x={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function k(t,e,i){var r=i.ref;return{$$typeof:n,type:t,key:e,ref:void 0!==r?r:null,props:i}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var P=/\/+/g;function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function I(t,e,r,o,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l,u,c=!1;if(null===t)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case n:case i:c=!0;break;case d:return I((c=t._init)(t._payload),e,r,o,s)}}if(c)return s=s(t),c=""===o?"."+L(t,0):o,S(s)?(r="",null!=c&&(r=c.replace(P,"$&/")+"/"),I(s,e,r,"",function(t){return t})):null!=s&&(C(s)&&(l=s,u=r+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+c,s=k(l.type,u,l.props)),e.push(s)),1;c=0;var h,f=""===o?".":o+":";if(S(t))for(var m=0;m<t.length;m++)c+=I(o=t[m],e,r,a=f+L(o,m),s);else if("function"===typeof(m=null===(h=t)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(t=m.call(t),m=0;!(o=t.next()).done;)c+=I(o=o.value,e,r,a=f+L(o,m++),s);else if("object"===a){if("function"===typeof t.then)return I(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"===typeof t.status?t.then(E,E):(t.status="pending",t.then(function(e){"pending"===t.status&&(t.status="fulfilled",t.value=e)},function(e){"pending"===t.status&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(t),e,r,o,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return c}function A(t,e,n){if(null==t)return t;var i=[],r=0;return I(t,i,"","",function(t){return e.call(n,t,r++)}),i}function N(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D="function"===typeof reportError?reportError:function(t){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof t&&null!==t&&"string"===typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)},M={map:A,forEach:function(t,e,n){A(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return A(t,function(){e++}),e},toArray:function(t){return A(t,function(t){return t})||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};e.Activity=f,e.Children=M,e.Component=v,e.Fragment=r,e.Profiler=s,e.PureComponent=b,e.StrictMode=o,e.Suspense=c,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,e.__COMPILER_RUNTIME={__proto__:null,c:function(t){return x.H.useMemoCache(t)}},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("The argument must be a React element, but you passed "+t+".");var i=g({},t.props),r=t.key;if(null!=e)for(o in void 0!==e.key&&(r=""+e.key),e)!T.call(e,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===e.ref||(i[o]=e[o]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];i.children=s}return k(t.type,r,i)},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:a,_context:t},t},e.createElement=function(t,e,n){var i,r={},o=null;if(null!=e)for(i in void 0!==e.key&&(o=""+e.key),e)T.call(e,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=e[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(t&&t.defaultProps)for(i in s=t.defaultProps)void 0===r[i]&&(r[i]=s[i]);return k(t,o,r)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=x.T,n={};x.T=n;try{var i=t(),r=x.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(E,D)}catch(o){D(o)}finally{null!==e&&null!==n.types&&(e.types=n.types),x.T=e}},e.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},e.use=function(t){return x.H.use(t)},e.useActionState=function(t,e,n){return x.H.useActionState(t,e,n)},e.useCallback=function(t,e){return x.H.useCallback(t,e)},e.useContext=function(t){return x.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,e){return x.H.useDeferredValue(t,e)},e.useEffect=function(t,e){return x.H.useEffect(t,e)},e.useEffectEvent=function(t){return x.H.useEffectEvent(t)},e.useId=function(){return x.H.useId()},e.useImperativeHandle=function(t,e,n){return x.H.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return x.H.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return x.H.useLayoutEffect(t,e)},e.useMemo=function(t,e){return x.H.useMemo(t,e)},e.useOptimistic=function(t,e){return x.H.useOptimistic(t,e)},e.useReducer=function(t,e,n){return x.H.useReducer(t,e,n)},e.useRef=function(t){return x.H.useRef(t)},e.useState=function(t){return x.H.useState(t)},e.useSyncExternalStore=function(t,e,n){return x.H.useSyncExternalStore(t,e,n)},e.useTransition=function(){return x.H.useTransition()},e.version="19.2.3"},391(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4)},579(t,e,n){"use strict";t.exports=n(799)},672(t,e,n){"use strict";var i=n(43);function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(t,e){return"font"===t?"":"string"===typeof e?"use-credentials"===e?e:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw Error(r(299));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.flushSync=function(t){var e=l.T,n=s.p;try{if(l.T=null,s.p=2,t)return t()}finally{l.T=e,s.p=n,s.d.f()}},e.preconnect=function(t,e){"string"===typeof t&&(e?e="string"===typeof(e=e.crossOrigin)?"use-credentials"===e?e:"":void 0:e=null,s.d.C(t,e))},e.prefetchDNS=function(t){"string"===typeof t&&s.d.D(t)},e.preinit=function(t,e){if("string"===typeof t&&e&&"string"===typeof e.as){var n=e.as,i=u(n,e.crossOrigin),r="string"===typeof e.integrity?e.integrity:void 0,o="string"===typeof e.fetchPriority?e.fetchPriority:void 0;"style"===n?s.d.S(t,"string"===typeof e.precedence?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):"script"===n&&s.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:"string"===typeof e.nonce?e.nonce:void 0})}},e.preinitModule=function(t,e){if("string"===typeof t)if("object"===typeof e&&null!==e){if(null==e.as||"script"===e.as){var n=u(e.as,e.crossOrigin);s.d.M(t,{crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0})}}else null==e&&s.d.M(t)},e.preload=function(t,e){if("string"===typeof t&&"object"===typeof e&&null!==e&&"string"===typeof e.as){var n=e.as,i=u(n,e.crossOrigin);s.d.L(t,n,{crossOrigin:i,integrity:"string"===typeof e.integrity?e.integrity:void 0,nonce:"string"===typeof e.nonce?e.nonce:void 0,type:"string"===typeof e.type?e.type:void 0,fetchPriority:"string"===typeof e.fetchPriority?e.fetchPriority:void 0,referrerPolicy:"string"===typeof e.referrerPolicy?e.referrerPolicy:void 0,imageSrcSet:"string"===typeof e.imageSrcSet?e.imageSrcSet:void 0,imageSizes:"string"===typeof e.imageSizes?e.imageSizes:void 0,media:"string"===typeof e.media?e.media:void 0})}},e.preloadModule=function(t,e){if("string"===typeof t)if(e){var n=u(e.as,e.crossOrigin);s.d.m(t,{as:"string"===typeof e.as&&"script"!==e.as?e.as:void 0,crossOrigin:n,integrity:"string"===typeof e.integrity?e.integrity:void 0})}else s.d.m(t)},e.requestFormReset=function(t){s.d.r(t)},e.unstable_batchedUpdates=function(t,e){return t(e)},e.useFormState=function(t,e,n){return l.H.useFormState(t,e,n)},e.useFormStatus=function(){return l.H.useHostTransitionStatus()},e.version="19.2.3"},799(t,e){"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(t,e,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==e.key&&(r=""+e.key),"key"in e)for(var o in i={},e)"key"!==o&&(i[o]=e[o]);else i=e;return e=i.ref,{$$typeof:n,type:t,key:r,ref:void 0!==e?e:null,props:i}}e.Fragment=i,e.jsx=r,e.jsxs=r},853(t,e,n){"use strict";t.exports=n(896)},896(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<o(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=t[a],u=a+1,c=t[u];if(0>o(l,n))u<r&&0>o(c,l)?(t[i]=c,t[u]=n,i=u):(t[i]=l,t[a]=n,i=a);else{if(!(u<r&&0>o(c,n)))break t;t[i]=c,t[u]=n,i=u}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if(e.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,n(u,e)}e=i(c)}}function S(t){if(g=!1,w(t),!m)if(null!==i(u))m=!0,x||(x=!0,E());else{var e=i(c);null!==e&&N(S,e.startTime-t)}}var E,x=!1,T=-1,k=5,C=-1;function P(){return!!y||!(e.unstable_now()-C<k)}function L(){if(y=!1,x){var t=e.unstable_now();C=t;var n=!0;try{t:{m=!1,g&&(g=!1,_(T),T=-1),p=!0;var o=f;try{e:{for(w(t),d=i(u);null!==d&&!(d.expirationTime>t&&P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=t);if(t=e.unstable_now(),"function"===typeof a){d.callback=a,w(t),n=!0;break e}d===i(u)&&r(u),w(t)}else r(u);d=i(u)}if(null!==d)n=!0;else{var l=i(c);null!==l&&N(S,l.startTime-t),n=!1}}break t}finally{d=null,f=o,p=!1}n=void 0}}finally{n?E():x=!1}}}if("function"===typeof b)E=function(){b(L)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=L,E=function(){A.postMessage(null)}}else E=function(){v(L,0)};function N(t,n){T=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,r,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(t.sortIndex=o,n(c,t),null===i(u)&&t===i(c)&&(g?(_(T),T=-1):g=!0,N(S,o-s))):(t.sortIndex=a,n(u,t),m||p||(m=!0,x||(x=!0,E()))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},950(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(672)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce((e,i)=>(n.f[i](t,e),e),[])),n.u=t=>"static/js/"+t+".71dafd60.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="busan-trip:";n.l=(i,r,o,s)=>{if(t[i])t[i].push(r);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+o),a.src=i),t[i]=[r];var d=(e,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=t[i];if(delete t[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(t=>t(n)),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.p="/busan-trip/",(()=>{var t={792:0};n.f.j=(e,i)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((n,i)=>r=t[e]=[n,i]);i.push(r[2]=o);var s=n.p+n.u(e),a=new Error;n.l(s,i=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}},"chunk-"+e,e)}};var e=(e,i)=>{var r,o,[s,a,l]=i,u=0;if(s.some(e=>0!==t[e])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(i);u<s.length;u++)o=s[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},i=self.webpackChunkbusan_trip=self.webpackChunkbusan_trip||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),(()=>{"use strict";var t=n(43),e=n(391);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}function o(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}const l=(0,t.createContext)(null);function u(){const e=(0,t.use)(l);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function c(){return u().map}function h(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var d=n(228),f=n.n(d);const p=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function m(e,n){let{bounds:i,boundsOptions:r,center:o,children:s,className:u,id:c,placeholder:f,style:m,whenReady:g,zoom:y}=e,v=h(e,p);const[_]=(0,t.useState)({className:u,id:c,style:m}),[b,w]=(0,t.useState)(null),S=(0,t.useRef)(void 0);(0,t.useImperativeHandle)(n,()=>{var t;return null!==(t=null===b||void 0===b?void 0:b.map)&&void 0!==t?t:null},[b]);const E=(0,t.useCallback)(t=>{if(null!==t&&!S.current){const e=new d.Map(t,v);S.current=e,null!=o&&null!=y?e.setView(o,y):null!=i&&e.fitBounds(i,r),null!=g&&e.whenReady(g),w(function(t){return Object.freeze({__version:1,map:t})}(e))}},[]);(0,t.useEffect)(()=>()=>{null===b||void 0===b||b.map.remove()},[b]);const x=b?t.createElement(l,{value:b},s):null!==f&&void 0!==f?f:null;return t.createElement("div",a(a({},_),{},{ref:E}),x)}const g=(0,t.forwardRef)(m);var y=n(950);function v(e,n){const i=(0,t.useRef)(n);(0,t.useEffect)(function(){n!==i.current&&null!=e.attributionControl&&(null!=i.current&&e.attributionControl.removeAttribution(i.current),null!=n&&e.attributionControl.addAttribution(n)),i.current=n},[e,n])}function _(e,n){const i=(0,t.useRef)(void 0);(0,t.useEffect)(function(){return null!=n&&e.instance.on(n),i.current=n,function(){null!=i.current&&e.instance.off(i.current),i.current=null}},[e,n])}function b(t,e){var n;const i=null!==(n=t.pane)&&void 0!==n?n:e.pane;return i?a(a({},t),{},{pane:i}):t}function w(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function S(e,n){return null==n?function(n,i){const r=(0,t.useRef)(void 0);return r.current||(r.current=e(n,i)),r}:function(i,r){const o=(0,t.useRef)(void 0);o.current||(o.current=e(i,r));const s=(0,t.useRef)(i),{instance:a}=o.current;return(0,t.useEffect)(function(){s.current!==i&&(n(a,i,s.current),s.current=i)},[a,i,n]),o}}function E(e){return function(n){const i=u(),r=e(b(n,i),i);return v(i.map,n.attribution),_(r.current,n.eventHandlers),function(e,n){(0,t.useEffect)(function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}(r.current,i),r}}const x=["url"],T=function(e){function n(n,i){const{instance:r}=e(n).current;return(0,t.useImperativeHandle)(i,()=>r),null}return(0,t.forwardRef)(n)}(E(S(function(t,e){let{url:n}=t,i=h(t,x);return w(new d.TileLayer(n,b(i,e)),e)},function(t,e,n){!function(t,e,n){const{opacity:i,zIndex:r}=e;null!=i&&i!==n.opacity&&t.setOpacity(i),null!=r&&r!==n.zIndex&&t.setZIndex(r)}(t,e,n);const{url:i}=e;null!=i&&i!==n.url&&t.setUrl(i)})));const k=["position"],C=function(e,n){return function(e){function n(n,i){const{instance:r,context:o}=e(n).current;(0,t.useImperativeHandle)(i,()=>r);const{children:s}=n;return null==s?null:t.createElement(l,{value:o},s)}return(0,t.forwardRef)(n)}(E(S(e,n)))}(function(t,e){let{position:n}=t,i=h(t,k);const r=new d.Marker(n,i);return w(r,(o=e,s={overlayContainer:r},Object.freeze(a(a({},o),s))));var o,s},function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),null!=e.icon&&e.icon!==n.icon&&t.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=t.dragging&&e.draggable!==n.draggable&&(!0===e.draggable?t.dragging.enable():t.dragging.disable())}),P=function(e,n){const i=function(t,e){return function(n,i){const r=u(),o=t(b(n,r),r);return v(r.map,n.attribution),_(o.current,n.eventHandlers),e(o.current,r,n,i),o}}(S(e),n);return function(e){function n(n,i){const[r,o]=(0,t.useState)(!1),{instance:s}=e(n,o).current;(0,t.useImperativeHandle)(i,()=>s),(0,t.useEffect)(function(){r&&s.update()},[s,r,n.children]);const a=s._contentNode;return a?(0,y.createPortal)(n.children,a):null}return(0,t.forwardRef)(n)}(i)}(function(t,e){return w(new d.Popup(t,e.overlayContainer),e)},function(e,n,i,r){let{position:o}=i;(0,t.useEffect)(function(){const{instance:t}=e;function i(e){e.popup===t&&(t.update(),r(!0))}function s(e){e.popup===t&&r(!1)}return n.map.on({popupopen:i,popupclose:s}),null==n.overlayContainer?(null!=o&&t.setLatLng(o),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:i,popupclose:s}),null===(e=n.overlayContainer)||void 0===e||e.unbindPopup(),n.map.removeLayer(t)}},[e,n,r,o])}),L=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],o=r+1<t.length,s=o?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,u=e>>2,c=(3&e)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),i.push(n[u],n[c],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const o=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const s=r<t.length?n[t.charAt(r)]:64;++r;const a=r<t.length?n[t.charAt(r)]:64;if(++r,null==e||null==o||null==s||null==a)throw new A;const l=e<<2|o>>4;if(i.push(l),64!==s){const t=o<<4&240|s>>2;if(i.push(t),64!==a){const t=s<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(t){return function(t){const e=L(t);return I.encodeByteArray(e,!0)}(t).replace(/\./g,"")},D=function(t){try{return I.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const O=()=>{try{return M().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/busan-trip",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAQVs5Ve_GjZc6afvuK9M32UmmyCsN4RN0",REACT_APP_FIREBASE_APP_ID:"1:94195136768:web:4cb33befc50bd44cf2dbe5",REACT_APP_FIREBASE_AUTH_DOMAIN:"busan-trip-797e3.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"94195136768",REACT_APP_FIREBASE_PROJECT_ID:"busan-trip-797e3",REACT_APP_FIREBASE_STORAGE_BUCKET:"busan-trip-797e3.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&D(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},R=t=>{const e=(t=>{var e;return null===(e=O())||void 0===e||null===(e=e.emulatorHosts)||void 0===e?void 0:e[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},z=()=>{var t;return null===(t=O())||void 0===t?void 0:t.config};class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function B(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}const V={};let j=!1;function U(t,e){if("undefined"===typeof window||"undefined"===typeof document||!B(window.location.host)||V[t]===e||V[t]||j)return;function n(t){return"__firebase__banner__".concat(t)}V[t]=e;const i="__firebase__banner",r=function(){const t={prod:[],emulator:[]};for(const e of Object.keys(V))V[e]?t.emulator.push(e):t.prod.push(e);return t}().prod.length>0;function o(){const t=document.createElement("span");return t.style.cursor="pointer",t.style.marginLeft="16px",t.style.fontSize="24px",t.innerHTML=" &times;",t.onclick=()=>{j=!0,function(){const t=document.getElementById(i);t&&t.remove()}()},t}function s(){const t=function(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}(i),e=n("text"),s=document.getElementById(e)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.created){const e=t.element;!function(t){t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center"}(e),function(t,e){t.setAttribute("id",e),t.innerText="Learn more",t.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",t.setAttribute("target","__blank"),t.style.paddingLeft="5px",t.style.textDecoration="underline"}(l,a);const n=o();!function(t,e){t.setAttribute("width","24"),t.setAttribute("id",e),t.setAttribute("height","24"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("fill","none"),t.style.marginLeft="-6px"}(c,u),e.append(c,s,l,n),document.body.appendChild(e)}r?(s.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",e)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function H(){var t;const e=null===(t=O())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}function Z(){return!H()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){try{return"object"===typeof indexedDB}catch(t){return!1}}class G extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?function(t,e){return t.replace(Q,(t,n)=>{const i=e[n];return null!=i?String(i):"<".concat(n,"?>")})}(i,e):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new G(n,o,e)}}const Q=/\{\$([^}]+)}/g;function Y(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],o=e[r];if(X(n)&&X(o)){if(!Y(n,o))return!1}else if(n!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function X(t){return null!==t&&"object"===typeof t}function $(t){return t&&t._delegate?t._delegate:t}class J{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const tt="[DEFAULT]";class et{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new F;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&o.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===tt?void 0:r),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}var r;return i||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.component?this.component.multipleInstances?t:tt:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new et(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const it=[];var rt;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(rt||(rt={}));const ot={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},st=rt.INFO,at={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},lt=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),i=at[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];console[i]("[".concat(n,"]  ").concat(t.name,":"),...o)};class ut{constructor(t){this.name=t,this._logLevel=st,this._logHandler=lt,this._userLogHandler=null,it.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?ot[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}let ct,ht;const dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,gt=new WeakMap;let yt={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ft.get(t);if("objectStoreNames"===e)return t.objectStoreNames||pt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ht||(ht=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(wt(this),n),bt(dt.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return bt(t.apply(wt(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const o=t.call(wt(this),e,...i);return pt.set(o,e.sort?e.sort():[e]),bt(o)}}function _t(t){return"function"===typeof t?vt(t):(t instanceof IDBTransaction&&function(t){if(ft.has(t))return;const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{e(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});ft.set(t,e)}(t),e=t,(ct||(ct=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,yt):t);var e}function bt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{e(bt(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(e=>{e instanceof IDBCursor&&dt.set(e,t)}).catch(()=>{}),gt.set(e,t),e}(t);if(mt.has(t))return mt.get(t);const e=_t(t);return e!==t&&(mt.set(t,e),gt.set(e,t)),e}const wt=t=>gt.get(t);const St=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],xt=new Map;function Tt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(xt.get(e))return xt.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Et.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!St.includes(n))return;const o=async function(t){const e=this.transaction(t,r?"readwrite":"readonly");let o=e.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return i&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),r&&e.done]))[0]};return xt.set(e,o),o}yt=(t=>a(a({},t),{},{get:(e,n,i)=>Tt(e,n)||t.get(e,n,i),has:(e,n)=>!!Tt(e,n)||t.has(e,n)}))(yt);class kt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null}).filter(t=>t).join(" ")}}const Ct="@firebase/app",Pt="0.14.7",Lt=new ut("@firebase/app"),It="@firebase/app-compat",At="@firebase/analytics-compat",Nt="@firebase/analytics",Dt="@firebase/app-check-compat",Mt="@firebase/app-check",Ot="@firebase/auth",Rt="@firebase/auth-compat",zt="@firebase/database",Ft="@firebase/data-connect",Bt="@firebase/database-compat",Vt="@firebase/functions",jt="@firebase/functions-compat",Ut="@firebase/installations",qt="@firebase/installations-compat",Ht="@firebase/messaging",Zt="@firebase/messaging-compat",Wt="@firebase/performance",Gt="@firebase/performance-compat",Kt="@firebase/remote-config",Qt="@firebase/remote-config-compat",Yt="@firebase/storage",Xt="@firebase/storage-compat",$t="@firebase/firestore",Jt="@firebase/ai",te="@firebase/firestore-compat",ee="firebase",ne="[DEFAULT]",ie={[Ct]:"fire-core",[It]:"fire-core-compat",[Nt]:"fire-analytics",[At]:"fire-analytics-compat",[Mt]:"fire-app-check",[Dt]:"fire-app-check-compat",[Ot]:"fire-auth",[Rt]:"fire-auth-compat",[zt]:"fire-rtdb",[Ft]:"fire-data-connect",[Bt]:"fire-rtdb-compat",[Vt]:"fire-fn",[jt]:"fire-fn-compat",[Ut]:"fire-iid",[qt]:"fire-iid-compat",[Ht]:"fire-fcm",[Zt]:"fire-fcm-compat",[Wt]:"fire-perf",[Gt]:"fire-perf-compat",[Kt]:"fire-rc",[Qt]:"fire-rc-compat",[Yt]:"fire-gcs",[Xt]:"fire-gcs-compat",[$t]:"fire-fst",[te]:"fire-fst-compat",[Jt]:"fire-vertex","fire-js":"fire-js",[ee]:"fire-js-all"},re=new Map,oe=new Map,se=new Map;function ae(t,e){try{t.container.addComponent(e)}catch(n){Lt.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function le(t){const e=t.name;if(se.has(e))return Lt.debug("There were multiple attempts to register component ".concat(e,".")),!1;se.set(e,t);for(const n of re.values())ae(n,t);for(const n of oe.values())ae(n,t);return!0}function ue(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ce=new K("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class he{constructor(t,e,n){this._isDeleted=!1,this._options=a({},t),this._config=a({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new J("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}function de(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const i=a({name:ne,automaticDataCollectionEnabled:!0},e),r=i.name;if("string"!==typeof r||!r)throw ce.create("bad-app-name",{appName:String(r)});if(n||(n=z()),!n)throw ce.create("no-options");const o=re.get(r);if(o){if(Y(n,o.options)&&Y(i,o.config))return o;throw ce.create("duplicate-app",{appName:r})}const s=new nt(r);for(const a of se.values())s.addComponent(a);const l=new he(n,i,s);return re.set(r,l),l}function fe(t,e,n){var i;let r=null!==(i=ie[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const t=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return o&&t.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&s&&t.push("and"),s&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Lt.warn(t.join(" "))}le(new J("".concat(r,"-version"),()=>({library:r,version:e}),"VERSION"))}const pe="firebase-heartbeat-store";let me=null;function ge(){return me||(me=function(t,e){let{blocked:n,upgrade:i,blocking:r,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(t,e),a=bt(s);return i&&s.addEventListener("upgradeneeded",t=>{i(bt(s.result),t.oldVersion,t.newVersion,bt(s.transaction),t)}),n&&s.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),a.then(t=>{o&&t.addEventListener("close",()=>o()),r&&t.addEventListener("versionchange",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(pe)}catch(n){console.warn(n)}}}).catch(t=>{throw ce.create("idb-open",{originalErrorMessage:t.message})})),me}async function ye(t,e){try{const n=(await ge()).transaction(pe,"readwrite"),i=n.objectStore(pe);await i.put(e,ve(t)),await n.done}catch(n){if(n instanceof G)Lt.warn(n.message);else{const t=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Lt.warn(t.message)}}}function ve(t){return"".concat(t.name,"!").concat(t.options.appId)}class _e{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new we(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){try{var t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=be();var e;if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(t=>t.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const t=function(t){if(0===t.length)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(t,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Lt.warn(n)}}async getHeartbeatsHeader(){try{var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=be(),{heartbeatsToSend:n,unsentEntries:i}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),Se(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Se(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=N(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Lt.warn(e),""}}}function be(){return(new Date).toISOString().substring(0,10)}class we{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!W()&&new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await ge()).transaction(pe),n=await e.objectStore(pe).get(ve(t));return await e.done,n}catch(e){if(e instanceof G)Lt.warn(e.message);else{const t=ce.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});Lt.warn(t.message)}}}(this.app);return null!==t&&void 0!==t&&t.heartbeats?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){var e;const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){if(await this._canUseIndexedDBPromise){var e;const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Se(t){return N(JSON.stringify({version:2,heartbeats:t})).length}var Ee;Ee="",le(new J("platform-logger",t=>new kt(t),"PRIVATE")),le(new J("heartbeat",t=>new _e(t),"PRIVATE")),fe(Ct,Pt,Ee),fe(Ct,Pt,"esm2020"),fe("fire-js","");fe("firebase","12.8.0","app");var xe,Te,ke="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ce={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(t,e,n){n||(n=0);const i=Array(16);if("string"===typeof e)for(var r=0;r<16;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;r<16;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];let o,s=t.g[3];o=e+(s^n&(r^s))+i[0]+3614090360&4294967295,o=s+(r^(e=n+(o<<7&4294967295|o>>>25))&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,o=n+(e^(r=s+(o<<17&4294967295|o>>>15))&(s^e))+i[3]+3250441966&4294967295,o=e+(s^(n=r+(o<<22&4294967295|o>>>10))&(r^s))+i[4]+4118548399&4294967295,o=s+(r^(e=n+(o<<7&4294967295|o>>>25))&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,o=n+(e^(r=s+(o<<17&4294967295|o>>>15))&(s^e))+i[7]+4249261313&4294967295,o=e+(s^(n=r+(o<<22&4294967295|o>>>10))&(r^s))+i[8]+1770035416&4294967295,o=s+(r^(e=n+(o<<7&4294967295|o>>>25))&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,o=n+(e^(r=s+(o<<17&4294967295|o>>>15))&(s^e))+i[11]+2304563134&4294967295,o=e+(s^(n=r+(o<<22&4294967295|o>>>10))&(r^s))+i[12]+1804603682&4294967295,o=s+(r^(e=n+(o<<7&4294967295|o>>>25))&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,o=n+(e^(r=s+(o<<17&4294967295|o>>>15))&(s^e))+i[15]+1236535329&4294967295,o=e+(r^s&((n=r+(o<<22&4294967295|o>>>10))^r))+i[1]+4129170786&4294967295,o=s+(n^r&((e=n+(o<<5&4294967295|o>>>27))^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,o=n+(s^e&((r=s+(o<<14&4294967295|o>>>18))^s))+i[0]+3921069994&4294967295,o=e+(r^s&((n=r+(o<<20&4294967295|o>>>12))^r))+i[5]+3593408605&4294967295,o=s+(n^r&((e=n+(o<<5&4294967295|o>>>27))^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,o=n+(s^e&((r=s+(o<<14&4294967295|o>>>18))^s))+i[4]+3889429448&4294967295,o=e+(r^s&((n=r+(o<<20&4294967295|o>>>12))^r))+i[9]+568446438&4294967295,o=s+(n^r&((e=n+(o<<5&4294967295|o>>>27))^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,o=n+(s^e&((r=s+(o<<14&4294967295|o>>>18))^s))+i[8]+1163531501&4294967295,o=e+(r^s&((n=r+(o<<20&4294967295|o>>>12))^r))+i[13]+2850285829&4294967295,o=s+(n^r&((e=n+(o<<5&4294967295|o>>>27))^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,o=n+(s^e&((r=s+(o<<14&4294967295|o>>>18))^s))+i[12]+2368359562&4294967295,o=e+((n=r+(o<<20&4294967295|o>>>12))^r^s)+i[5]+4294588738&4294967295,o=s+((e=n+(o<<4&4294967295|o>>>28))^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,o=n+((r=s+(o<<16&4294967295|o>>>16))^s^e)+i[14]+4259657740&4294967295,o=e+((n=r+(o<<23&4294967295|o>>>9))^r^s)+i[1]+2763975236&4294967295,o=s+((e=n+(o<<4&4294967295|o>>>28))^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,o=n+((r=s+(o<<16&4294967295|o>>>16))^s^e)+i[10]+3200236656&4294967295,o=e+((n=r+(o<<23&4294967295|o>>>9))^r^s)+i[13]+681279174&4294967295,o=s+((e=n+(o<<4&4294967295|o>>>28))^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,o=n+((r=s+(o<<16&4294967295|o>>>16))^s^e)+i[6]+76029189&4294967295,o=e+((n=r+(o<<23&4294967295|o>>>9))^r^s)+i[9]+3654602809&4294967295,o=s+((e=n+(o<<4&4294967295|o>>>28))^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,o=n+((r=s+(o<<16&4294967295|o>>>16))^s^e)+i[2]+3299628645&4294967295,o=e+(r^((n=r+(o<<23&4294967295|o>>>9))|~s))+i[0]+4096336452&4294967295,o=s+(n^((e=n+(o<<6&4294967295|o>>>26))|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,o=n+(s^((r=s+(o<<15&4294967295|o>>>17))|~e))+i[5]+4237533241&4294967295,o=e+(r^((n=r+(o<<21&4294967295|o>>>11))|~s))+i[12]+1700485571&4294967295,o=s+(n^((e=n+(o<<6&4294967295|o>>>26))|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,o=n+(s^((r=s+(o<<15&4294967295|o>>>17))|~e))+i[1]+2240044497&4294967295,o=e+(r^((n=r+(o<<21&4294967295|o>>>11))|~s))+i[8]+1873313359&4294967295,o=s+(n^((e=n+(o<<6&4294967295|o>>>26))|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,o=n+(s^((r=s+(o<<15&4294967295|o>>>17))|~e))+i[13]+1309151649&4294967295,o=e+(r^((n=r+(o<<21&4294967295|o>>>11))|~s))+i[4]+4149444226&4294967295,o=s+(n^((e=n+(o<<6&4294967295|o>>>26))|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,o=n+(s^((r=s+(o<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function i(t,e){this.h=e;const n=[];let i=!0;for(let r=t.length-1;r>=0;r--){const o=0|t[r];i&&o==e||(n[r]=o,i=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.F=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.D=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}(e,function(){this.blockSize=-1}),e.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.v=function(t,e){void 0===e&&(e=t.length);const i=e-this.blockSize,r=this.C;let o=this.h,s=0;for(;s<e;){if(0==o)for(;s<=i;)n(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(r[o++]=t.charCodeAt(s++),o==this.blockSize){n(this,r),o=0;break}}else for(;s<e;)if(r[o++]=t[s++],o==this.blockSize){n(this,r),o=0;break}}this.h=o,this.o+=e},e.prototype.A=function(){var t=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;e=8*this.o;for(var n=t.length-8;n<t.length;++n)t[n]=255&e,e/=256;for(this.v(t),t=Array(16),e=0,n=0;n<4;++n)for(let i=0;i<32;i+=8)t[e++]=this.g[n]>>>i&255;return t};var r={};function o(t){return-128<=t&&t<128?function(t,e){var n=r;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(t){return new i([0|t],t<0?-1:0)}):new i([0|t],t<0?-1:0)}function s(t){if(isNaN(t)||!isFinite(t))return a;if(t<0)return d(s(-t));const e=[];let n=1;for(let i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new i(e,0)}var a=o(0),l=o(1),u=o(16777216);function c(t){if(0!=t.h)return!1;for(let e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){const e=t.g.length,n=[];for(let i=0;i<e;i++)n[i]=~t.g[i];return new i(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(c(e))throw Error("division by zero");if(c(t))return new m(a,a);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(t.g.length>30){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=e;i.l(t)<=0;)n=y(n),i=y(i);var r=v(n,1),o=v(i,1);for(i=v(i,2),n=v(n,2);!c(i);){var u=o.add(i);u.l(t)<=0&&(r=r.add(n),o=u),i=v(i,1),n=v(n,1)}return e=f(t,r.j(e)),new m(r,e)}for(r=a;t.l(e)>=0;){for(n=Math.max(1,Math.floor(t.m()/e.m())),i=(i=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,i-48),u=(o=s(n)).j(e);h(u)||u.l(t)>0;)u=(o=s(n-=i)).j(e);c(o)&&(o=l),r=r.add(o),t=f(t,u)}return new m(r,t)}function y(t){const e=t.g.length+1,n=[];for(let i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new i(n,t.h)}function v(t,e){const n=e>>5;e%=32;const r=t.g.length-n,o=[];for(let i=0;i<r;i++)o[i]=e>0?t.i(i+n)>>>e|t.i(i+n+1)<<32-e:t.i(i+n);return new i(o,t.h)}(t=i.prototype).m=function(){if(h(this))return-d(this).m();let t=0,e=1;for(let n=0;n<this.g.length;n++){const i=this.i(n);t+=(i>=0?i:4294967296+i)*e,e*=4294967296}return t},t.toString=function(t){if((t=t||10)<2||36<t)throw Error("radix out of range: "+t);if(c(this))return"0";if(h(this))return"-"+d(this).toString(t);const e=s(Math.pow(t,6));var n=this;let i="";for(;;){const r=g(n,e).g;let o=(((n=f(n,r.j(e))).g.length>0?n.g[0]:n.h)>>>0).toString(t);if(c(n=r))return o+i;for(;o.length<6;)o="0"+o;i=o+i}},t.i=function(t){return t<0?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:c(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){const e=Math.max(this.g.length,t.g.length),n=[];let r=0;for(let i=0;i<=e;i++){let e=r+(65535&this.i(i))+(65535&t.i(i)),o=(e>>>16)+(this.i(i)>>>16)+(t.i(i)>>>16);r=o>>>16,e&=65535,o&=65535,n[i]=o<<16|e}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(c(this)||c(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(this.l(u)<0&&t.l(u)<0)return s(this.m()*t.m());const e=this.g.length+t.g.length,n=[];for(var r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let e=0;e<t.g.length;e++){const i=this.i(r)>>>16,o=65535&this.i(r),s=t.i(e)>>>16,a=65535&t.i(e);n[2*r+2*e]+=o*a,p(n,2*r+2*e),n[2*r+2*e+1]+=i*a,p(n,2*r+2*e+1),n[2*r+2*e+1]+=o*s,p(n,2*r+2*e+1),n[2*r+2*e+2]+=i*s,p(n,2*r+2*e+2)}for(t=0;t<e;t++)n[t]=n[2*t+1]<<16|n[2*t];for(t=e;t<2*e;t++)n[t]=0;return new i(n,0)},t.B=function(t){return g(this,t).h},t.and=function(t){const e=Math.max(this.g.length,t.g.length),n=[];for(let i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new i(n,this.h&t.h)},t.or=function(t){const e=Math.max(this.g.length,t.g.length),n=[];for(let i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new i(n,this.h|t.h)},t.xor=function(t){const e=Math.max(this.g.length,t.g.length),n=[];for(let i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new i(n,this.h^t.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,Te=Ce.Md5=e,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=s,i.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character');const i=s(Math.pow(n,8));let r=a;for(let a=0;a<e.length;a+=8){var o=Math.min(8,e.length-a);const t=parseInt(e.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),r=r.j(o).add(s(t))):(r=r.j(i),r=r.add(s(t)))}return r},xe=Ce.Integer=i}).apply("undefined"!==typeof ke?ke:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Pe,Le,Ie,Ae,Ne,De,Me,Oe,Re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ze={};(function(){var t,e=Object.defineProperty;var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Re&&Re];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function i(t,i){if(i)t:{var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];if(!(s in r))break t;r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}i("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(t){return t||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(t){return t||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push([e,t[e]]);return n}});var r=r||{},o=this||self;function s(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){return(l=a).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function c(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ob=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function d(t){const e=t.length;if(e>0){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function f(t,e){for(let i=1;i<arguments.length;i++){const e=arguments[i];var n=typeof e;if("array"==(n="object"!=n?n:e?Array.isArray(e)?"array":n:"null")||"object"==n&&"number"==typeof e.length){n=t.length||0;const i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function p(t){o.setTimeout(()=>{throw t},0)}function m(){var t=b;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var g=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return this.h>0?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new y,t=>t.reset());class y{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let v,_=!1,b=new class{constructor(){this.h=this.g=null}add(t,e){const n=g.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const t=Promise.resolve(void 0);v=()=>{t.then(S)}};function S(){for(var t;t=m();){try{t.h.call(t.g)}catch(n){p(n)}var e=g;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}_=!1}function E(){this.u=this.u,this.C=this.C}function x(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},x.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};o.addEventListener("test",t,e),o.removeEventListener("test",t,e)}catch(n){}return t}();function k(t){return/^[\s\xa0]*$/.test(t)}function C(t,e){x.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,e)}c(C,x),C.prototype.init=function(t,e){const n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=e,(e=t.relatedTarget)||("mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement)),this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var P="closure_listenable_"+(1e6*Math.random()|0),L=0;function I(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++L,this.da=this.fa=!1}function A(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function N(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function D(t){const e={};for(const n in t)e[n]=t[n];return e}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<M.length;e++)n=M[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function R(t){this.src=t,this.g={},this.h=0}function z(t,e){const n=e.type;if(n in t.g){var i,r=t.g[n],o=Array.prototype.indexOf.call(r,e,void 0);(i=o>=0)&&Array.prototype.splice.call(r,o,1),i&&(A(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function F(t,e,n,i){for(let r=0;r<t.length;++r){const o=t[r];if(!o.da&&o.listener==e&&o.capture==!!n&&o.ha==i)return r}return-1}R.prototype.add=function(t,e,n,i,r){const o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);const s=F(t,e,i,r);return s>-1?(e=t[s],n||(e.fa=!1)):((e=new I(e,this.src,o,!!i,r)).fa=n,t.push(e)),e};var B="closure_lm_"+(1e6*Math.random()|0),V={};function j(t,e,n,i,r){if(i&&i.once)return q(t,e,n,i,r);if(Array.isArray(e)){for(let o=0;o<e.length;o++)j(t,e[o],n,i,r);return null}return n=Y(n),t&&t[P]?t.J(e,n,s(i)?!!i.capture:!!i,r):U(t,e,n,!1,i,r)}function U(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");const a=s(r)?!!r.capture:!!r;let l=K(t);if(l||(t[B]=l=new R(t)),(n=l.add(e,n,i,a,o)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}const e=G;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)T||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(W(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function q(t,e,n,i,r){if(Array.isArray(e)){for(let o=0;o<e.length;o++)q(t,e[o],n,i,r);return null}return n=Y(n),t&&t[P]?t.K(e,n,s(i)?!!i.capture:!!i,r):U(t,e,n,!0,i,r)}function H(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)H(t,e[o],n,i,r);else i=s(i)?!!i.capture:!!i,n=Y(n),t&&t[P]?(t=t.i,(o=String(e).toString())in t.g&&((n=F(e=t.g[o],n,i,r))>-1&&(A(e[n]),Array.prototype.splice.call(e,n,1),0==e.length&&(delete t.g[o],t.h--)))):t&&(t=K(t))&&(e=t.g[e.toString()],t=-1,e&&(t=F(e,n,i,r)),(n=t>-1?e[t]:null)&&Z(n))}function Z(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[P])z(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(W(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=K(e))?(z(n,t),0==n.h&&(n.src=null,e[B]=null)):A(t)}}}function W(t){return t in V?V[t]:V[t]="on"+t}function G(t,e){if(t.da)t=!0;else{e=new C(e,this);const n=t.listener,i=t.ha||t.src;t.fa&&Z(t),t=n.call(i,e)}return t}function K(t){return(t=t[B])instanceof R?t:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(t){return"function"===typeof t?t:(t[Q]||(t[Q]=function(e){return t.handleEvent(e)}),t[Q])}function X(){E.call(this),this.i=new R(this),this.M=this,this.G=null}function $(t,e){var n,i=t.G;if(i)for(n=[];i;i=i.G)n.push(i);if(t=t.M,i=e.type||e,"string"===typeof e)e=new x(e,t);else if(e instanceof x)e.target=e.target||t;else{var r=e;O(e=new x(i,t),r)}let o,s;if(r=!0,n)for(s=n.length-1;s>=0;s--)o=e.g=n[s],r=J(o,i,!0,e)&&r;if(o=e.g=t,r=J(o,i,!0,e)&&r,r=J(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=J(o,i,!1,e)&&r}function J(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();let r=!0;for(let o=0;o<e.length;++o){const s=e[o];if(s&&!s.da&&s.capture==n){const e=s.listener,n=s.ha||s.src;s.fa&&z(t.i,s),r=!1!==e.call(n,i)&&r}}return r&&!i.defaultPrevented}function tt(t){t.g=function(t,e){if("function"!==typeof t){if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return Number(e)>2147483647?-1:o.setTimeout(t,e||0)}(()=>{t.g=null,t.i&&(t.i=!1,tt(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}c(X,E),X.prototype[P]=!0,X.prototype.removeEventListener=function(t,e,n,i){H(this,t,e,n,i)},X.prototype.N=function(){if(X.Z.N.call(this),this.i){var t=this.i;for(const e in t.g){const n=t.g[e];for(let t=0;t<n.length;t++)A(n[t]);delete t.g[e],t.h--}}this.G=null},X.prototype.J=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},X.prototype.K=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};class et extends E{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(t){E.call(this),this.h=t,this.g={}}c(nt,E);var it=[];function rt(t){N(t.g,function(t,e){this.g.hasOwnProperty(e)&&Z(t)},t),t.g={}}nt.prototype.N=function(){nt.Z.N.call(this),rt(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ot=o.JSON.stringify,st=o.JSON.parse,at=class{stringify(t){return o.JSON.stringify(t,void 0)}parse(t){return o.JSON.parse(t,void 0)}};function lt(){}function ut(){}var ct={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ht(){x.call(this,"d")}function dt(){x.call(this,"c")}c(ht,x),c(dt,x);var ft={},pt=null;function mt(){return pt=pt||new X}function gt(t){x.call(this,ft.Ia,t)}function yt(t){const e=mt();$(e,new gt(e))}function vt(t,e){x.call(this,ft.STAT_EVENT,t),this.stat=e}function _t(t){const e=mt();$(e,new vt(e,t))}function bt(t,e){x.call(this,ft.Ja,t),this.size=e}function wt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){t()},e)}function St(){this.g=!0}function Et(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{const o=JSON.parse(e);if(o)for(t=0;t<o.length;t++)if(Array.isArray(o[t])){var n=o[t];if(!(n.length<2)){var i=n[1];if(Array.isArray(i)&&!(i.length<1)){var r=i[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(let t=1;t<i.length;t++)i[t]=""}}}return ot(o)}catch(o){return e}}(t,n)+(i?" "+i:"")})}ft.Ia="serverreachability",c(gt,x),ft.STAT_EVENT="statevent",c(vt,x),ft.Ja="timingevent",c(bt,x),St.prototype.ua=function(){this.g=!1},St.prototype.info=function(){};var xt,Tt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ct(){}function Pt(t){return encodeURIComponent(String(t))}function Lt(t){var e=1;t=t.split(":");const n=[];for(;e>0&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function It(t,e,n,i){this.j=t,this.i=e,this.l=n,this.S=i||1,this.V=new nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}c(Ct,lt),Ct.prototype.g=function(){return new XMLHttpRequest},xt=new Ct;var Nt={},Dt={};function Mt(t,e,n){t.M=1,t.A=oe(te(e)),t.u=n,t.R=!0,Ot(t,null)}function Ot(t,e){t.F=Date.now(),Ft(t),t.B=te(t.A);var n=t.B,i=t.S;Array.isArray(i)||(i=[String(i)]),_e(n.i,"t",i),t.C=0,n=t.j.L,t.h=new At,t.g=yn(t.j,n?e:null,!t.u),t.P>0&&(t.O=new et(l(t.Y,t,t.g),t.P)),e=t.V,n=t.g,i=t.ba;var r="readystatechange";Array.isArray(r)||(r&&(it[0]=r.toString()),r=it);for(let o=0;o<r.length;o++){const t=j(n,r[o],i||e.handleEvent,!1,e.h||e);if(!t)break;e.g[t.key]=t}e=t.J?D(t.J):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,e)):(t.v="GET",t.g.ea(t.B,t.v,null,e)),yt(),function(t,e,n,i,r,o){t.info(function(){if(t.g)if(o){var s="",a=o.split("&");for(let t=0;t<a.length;t++){var l=a[t].split("=");if(l.length>1){const t=l[0];l=l[1];const e=t.split("_");s=e.length>=2&&"type"==e[1]?s+(t+"=")+l+"&":s+(t+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s})}(t.i,t.v,t.B,t.l,t.S,t.u)}function Rt(t){return!!t.g&&("GET"==t.v&&2!=t.M&&t.j.Aa)}function zt(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Dt:(n=Number(e.substring(n,i)),isNaN(n)?Nt:(i+=1)+n>e.length?Dt:(e=e.slice(i,i+n),t.C=i+n,e))}function Ft(t){t.T=Date.now()+t.H,Bt(t,t.H)}function Bt(t,e){if(null!=t.D)throw Error("WatchDog timer not null");t.D=wt(l(t.aa,t),e)}function Vt(t){t.D&&(o.clearTimeout(t.D),t.D=null)}function jt(t){0==t.j.I||t.K||hn(t.j,t)}function Ut(t){Vt(t);var e=t.O;e&&"function"==typeof e.dispose&&e.dispose(),t.O=null,rt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.dispose())}function qt(t,e){try{var n=t.j;if(0!=n.I&&(n.g==t||Kt(n.h,t)))if(!t.L&&Kt(n.h,t)&&3==n.I){try{var i=n.Ba.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.v){if(n.g){if(!(n.g.F+3e3<t.F))break t;cn(n),Je(n)}an(n),_t(18)}}else n.xa=r[1],0<n.xa-n.K&&r[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=wt(l(n.Va,n),6e3));Gt(n.h)<=1&&n.ta&&(n.ta=void 0)}else fn(n,11)}else if((t.L||n.g==t)&&cn(n),!k(e))for(r=n.Ba.g.parse(e),e=0;e<r.length;e++){let l=r[e];const c=l[0];if(!(c<=n.K))if(n.K=c,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const e=l[3];null!=e&&(n.ka=e,n.j.info("VER="+n.ka));const r=l[4];null!=r&&(n.za=r,n.j.info("SVER="+n.za));const c=l[5];null!=c&&"number"===typeof c&&c>0&&(i=1.5*c,n.O=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=i.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qt(o,o.h),o.h=null))}if(i.G){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.wa=t,re(i.J,i.G,t))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-t.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=t;if((i=n).na=mn(i,i.L?i.ba:null,i.W),s.L){Yt(i.h,s);var a=s,u=i.O;u&&(a.H=u),a.D&&(Vt(a),Ft(a)),i.g=s}else sn(i);n.i.length>0&&en(n)}else"stop"!=l[0]&&"close"!=l[0]||fn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?fn(n,7):$e(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}yt()}catch(c){}}It.prototype.ba=function(t){t=t.target;const e=this.O;e&&3==Ke(t)?e.j():this.Y(t)},It.prototype.Y=function(t){try{if(t==this.g)t:{const l=Ke(this.g),u=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||4!=l||7==u||yt(),Vt(this);var e=this.g.ca();this.X=e;var n=function(t){if(!Rt(t))return t.g.la();const e=Qe(t.g);if(""===e)return"";let n="";const i=e.length,r=4==Ke(t.g);if(!t.h.i){if("undefined"===typeof TextDecoder)return Ut(t),jt(t),"";t.h.i=new o.TextDecoder}for(let o=0;o<i;o++)t.h.h=!0,n+=t.h.i.decode(e[o],{stream:!(r&&o==i-1)});return e.length=0,t.h.g+=n,t.C=0,t.h.g}(this);if(this.o=200==e,function(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,e),this.o){if(this.U&&!this.L){e:{if(this.g){var i,r=this.g;if((i=r.g?r.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(i)){var s=i;break e}}s=null}if(!(t=s)){this.o=!1,this.m=3,_t(12),Ut(this),jt(this);break t}Et(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qt(this,t)}if(this.R){let e;for(t=!0;!this.K&&this.C<n.length;){if(e=zt(this,n),e==Dt){4==l&&(this.m=4,_t(14),t=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}if(e==Nt){this.m=4,_t(15),Et(this.i,this.l,n,"[Invalid Chunk]"),t=!1;break}Et(this.i,this.l,e,null),qt(this,e)}if(Rt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,_t(16),t=!1),this.o=this.o&&t,t){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ln(a),a.P=!0,_t(11))}}else Et(this.i,this.l,n,"[Invalid Chunked Response]"),Ut(this),jt(this)}else Et(this.i,this.l,n,null),qt(this,n);4==l&&Ut(this),this.o&&!this.K&&(4==l?hn(this.j,this):(this.o=!1,Ft(this)))}else(function(t){const e={};t=(t.g&&Ke(t)>=2&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(k(t[i]))continue;var n=Lt(t[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==e&&n.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Ut(this),jt(this)}}}catch(l){}},It.prototype.cancel=function(){this.K=!0,Ut(this)},It.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.i,this.B),2!=this.M&&(yt(),_t(17)),Ut(this),this.m=2,jt(this)):Bt(this,this.T-t)};var Ht=class{constructor(t,e){this.g=t,this.map=e}};function Zt(t){this.l=t||10,o.PerformanceNavigationTiming?t=(t=o.performance.getEntriesByType("navigation")).length>0&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Gt(t){return t.h?1:t.g?t.g.size:0}function Kt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Qt(t,e){t.g?t.g.add(e):t.h=e}function Yt(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Xt(t){if(null!=t.h)return t.i.concat(t.h.G);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.G);return e}return d(t.i)}Zt.prototype.cancel=function(){if(this.i=Xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var $t=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(t){let e;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,t instanceof Jt?(this.l=t.l,ee(this,t.j),this.o=t.o,this.g=t.g,ne(this,t.u),this.h=t.h,ie(this,be(t.i)),this.m=t.m):t&&(e=String(t).match($t))?(this.l=!1,ee(this,e[1]||"",!0),this.o=se(e[2]||""),this.g=se(e[3]||"",!0),ne(this,e[4]),this.h=se(e[5]||"",!0),ie(this,e[6]||"",!0),this.m=se(e[7]||"")):(this.l=!1,this.i=new pe(null,this.l))}function te(t){return new Jt(t)}function ee(t,e,n){t.j=n?se(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ne(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.u=e}else t.u=null}function ie(t,e,n){e instanceof pe?(t.i=e,function(t,e){e&&!t.j&&(me(t),t.i=null,t.g.forEach(function(t,e){const n=e.toLowerCase();e!=n&&(ge(this,e),_e(this,n,t))},t)),t.j=e}(t.i,t.l)):(n||(e=ae(e,de)),t.i=new pe(e,t.l))}function re(t,e,n){t.i.set(e,n)}function oe(t){return re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function se(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ae(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,le),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function le(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jt.prototype.toString=function(){const t=[];var e=this.j;e&&t.push(ae(e,ue,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(ae(e,ue,!0),"@"),t.push(Pt(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&t.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ae(n,"/"==n.charAt(0)?he:ce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",ae(n,fe)),t.join("")},Jt.prototype.resolve=function(t){const e=te(this);let n=!!t.j;n?ee(e,t.j):n=!!t.o,n?e.o=t.o:n=!!t.g,n?e.g=t.g:n=null!=t.u;var i=t.h;if(n)ne(e,t.u);else if(n=!!t.h){if("/"!=i.charAt(0))if(this.g&&!this.h)i="/"+i;else{var r=e.h.lastIndexOf("/");-1!=r&&(i=e.h.slice(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");const t=[];for(let e=0;e<r.length;){const n=r[e++];"."==n?i&&e==r.length&&t.push(""):".."==n?((t.length>1||1==t.length&&""!=t[0])&&t.pop(),i&&e==r.length&&t.push("")):(t.push(n),i=!0)}i=t.join("/")}else i=r}return n?e.h=i:n=""!==t.i.toString(),n?ie(e,be(t.i)):n=!!t.m,n&&(e.m=t.m),e};var ue=/[#\/\?@]/g,ce=/[#\?:]/g,he=/[#\?]/g,de=/[#\?@]/g,fe=/#/g;function pe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function me(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(let n=0;n<t.length;n++){const i=t[n].indexOf("=");let r,o=null;i>=0?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ge(t,e){me(t),e=we(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ye(t,e){return me(t),e=we(t,e),t.g.has(e)}function ve(t,e){me(t);let n=[];if("string"===typeof e)ye(t,e)&&(n=n.concat(t.g.get(we(t,e))));else for(t=Array.from(t.g.values()),e=0;e<t.length;e++)n=n.concat(t[e]);return n}function _e(t,e,n){ge(t,e),n.length>0&&(t.i=null,t.g.set(we(t,e),d(n)),t.h+=n.length)}function be(t){const e=new pe;return e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),e}function we(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Se(t,e,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(o){}}function Ee(){this.g=new at}function xe(t){this.i=t.Sb||null,this.h=t.ab||!1}function Te(t,e){X.call(this),this.H=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function ke(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}function Ce(t){t.readyState=4,t.l=null,t.j=null,t.B=null,Fe(t)}function Fe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Be(t){let e="";return N(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function Ve(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Be(n),"string"===typeof t?null!=n&&Pt(n):re(t,e,n))}function je(t){X.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=pe.prototype).add=function(t,e){me(this),this.i=null,t=we(this,t);let n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){me(this),this.g.forEach(function(n,i){n.forEach(function(n){t.call(e,n,i,this)},this)},this)},t.set=function(t,e){return me(this),this.i=null,ye(this,t=we(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&(t=ve(this,t)).length>0?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(let i=0;i<e.length;i++){var n=e[i];const r=Pt(n);n=ve(this,n);for(let e=0;e<n.length;e++){let i=r;""!==n[e]&&(i+="="+Pt(n[e])),t.push(i)}}return this.i=t.join("&")},c(xe,lt),xe.prototype.g=function(){return new Te(this.i,this.h)},c(Te,X),(t=Te.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=e,this.readyState=1,Fe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const e={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(e.body=t),(this.H||o).fetch(new Request(this.D,e)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ce(this)),this.readyState=0},t.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fe(this)),this.g&&(this.readyState=3,Fe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ke(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.B.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ce(this):Fe(this),3==this.readyState&&ke(this)}},t.Oa=function(t){this.g&&(this.response=this.responseText=t,Ce(this))},t.Na=function(t){this.g&&(this.response=t,Ce(this))},t.ga=function(){this.g&&Ce(this)},t.setRequestHeader=function(t,e){this.A.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Te.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),c(je,X);var Ue=/^https?$/i,qe=["POST","PUT"];function He(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.o=5,Ze(t),Ge(t)}function Ze(t){t.A||(t.A=!0,$(t,"complete"),$(t,"error"))}function We(t){if(t.h&&"undefined"!=typeof r)if(t.v&&4==Ke(t))setTimeout(t.Ca.bind(t),0);else if($(t,"readystatechange"),4==Ke(t)){t.h=!1;try{const r=t.ca();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===r){let e=String(t.D).match($t)[1]||null;!e&&o.self&&o.self.location&&(e=o.self.location.protocol.slice(0,-1)),i=!Ue.test(e?e.toLowerCase():"")}n=i}if(n)$(t,"complete"),$(t,"success");else{t.o=6;try{var s=Ke(t)>2?t.g.statusText:""}catch(a){s=""}t.l=s+" ["+t.ca()+"]",Ze(t)}}finally{Ge(t)}}}function Ge(t,e){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const i=t.g;t.g=null,e||$(t,"ready");try{i.onreadystatechange=null}catch(n){}}}function Ke(t){return t.g?t.g.readyState:0}function Qe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ye(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xe(t){this.za=0,this.i=[],this.j=new St,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ye("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ye("baseRetryDelayMs",5e3,t),this.Za=Ye("retryDelaySeedMs",1e4,t),this.Ta=Ye("forwardChannelMaxRetries",2,t),this.va=Ye("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new Zt(t&&t.concurrentRequestLimit),this.Ba=new Ee,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function $e(t){if(tn(t),3==t.I){var e=t.V++,n=te(t.J);if(re(n,"SID",t.M),re(n,"RID",e),re(n,"TYPE","terminate"),rn(t,n),(e=new It(t,t.j,e)).M=2,e.A=oe(te(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(e.A.toString(),"")}catch(i){}!n&&o.Image&&((new Image).src=e.A,n=!0),n||(e.g=yn(e.j,null),e.g.ea(e.A)),e.F=Date.now(),Ft(e)}pn(t)}function Je(t){t.g&&(ln(t),t.g.cancel(),t.g=null)}function tn(t){Je(t),t.v&&(o.clearTimeout(t.v),t.v=null),cn(t),t.h.cancel(),t.m&&("number"===typeof t.m&&o.clearTimeout(t.m),t.m=null)}function en(t){if(!Wt(t.h)&&!t.m){t.m=!0;var e=t.Ea;v||w(),_||(v(),_=!0),b.add(e,t),t.D=0}}function nn(t,e){var n;n=e?e.l:t.V++;const i=te(t.J);re(i,"SID",t.M),re(i,"RID",n),re(i,"AID",t.K),rn(t,i),t.u&&t.o&&Ve(i,t.u,t.o),n=new It(t,t.j,n,t.D+1),null===t.u&&(n.J=t.o),e&&(t.i=e.G.concat(t.i)),e=on(t,n,1e3),n.H=Math.round(.5*t.va)+Math.round(.5*t.va*Math.random()),Qt(t.h,n),Mt(n,i,e)}function rn(t,e){t.H&&N(t.H,function(t,n){re(e,n,t)}),t.l&&N({},function(t,n){re(e,n,t)})}function on(t,e,n){n=Math.min(t.i.length,n);const i=t.l?l(t.l.Ka,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?n>0?(e=r[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let l=!0;for(let u=0;u<n;u++){var o=r[u].g;const n=r[u].map;if((o-=e)<0)e=Math.max(0,r[u].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[e,n]of a){let i=n;s(n)&&(i=ot(n)),t.push(o+e+"="+encodeURIComponent(i))}}catch(gn){throw t.push(o+"type="+encodeURIComponent("_badmap")),gn}}catch(gn){i&&i(n)}}if(l){a=t.join("&");break t}}a=void 0}return t=t.i.splice(0,n),e.G=t,a}function sn(t){if(!t.g&&!t.v){t.Y=1;var e=t.Da;v||w(),_||(v(),_=!0),b.add(e,t),t.A=0}}function an(t){return!(t.g||t.v||t.A>=3)&&(t.Y++,t.v=wt(l(t.Da,t),dn(t,t.A)),t.A++,!0)}function ln(t){null!=t.B&&(o.clearTimeout(t.B),t.B=null)}function un(t){t.g=new It(t,t.j,"rpc",t.Y),null===t.u&&(t.g.J=t.o),t.g.P=0;var e=te(t.na);re(e,"RID","rpc"),re(e,"SID",t.M),re(e,"AID",t.K),re(e,"CI",t.F?"0":"1"),!t.F&&t.ia&&re(e,"TO",t.ia),re(e,"TYPE","xmlhttp"),rn(t,e),t.u&&t.o&&Ve(e,t.u,t.o),t.O&&(t.g.H=t.O);var n=t.g;t=t.ba,n.M=1,n.A=oe(te(e)),n.u=null,n.R=!0,Ot(n,t)}function cn(t){null!=t.C&&(o.clearTimeout(t.C),t.C=null)}function hn(t,e){var n=null;if(t.g==e){cn(t),ln(t),t.g=null;var i=2}else{if(!Kt(t.h,e))return;n=e.G,Yt(t.h,e),i=1}if(0!=t.I)if(e.o)if(1==i){n=e.u?e.u.length:0,e=Date.now()-e.F;var r=t.D;$(i=mt(),new bt(i,n)),en(t)}else sn(t);else if(3==(r=e.m)||0==r&&e.X>0||!(1==i&&function(t,e){return!(Gt(t.h)>=t.h.j-(t.m?1:0))&&(t.m?(t.i=e.G.concat(t.i),!0):!(1==t.I||2==t.I||t.D>=(t.Sa?0:t.Ta))&&(t.m=wt(l(t.Ea,t,e),dn(t,t.D)),t.D++,!0))}(t,e)||2==i&&an(t)))switch(n&&n.length>0&&(e=t.h,e.i=e.i.concat(n)),r){case 1:fn(t,5);break;case 4:fn(t,10);break;case 3:fn(t,6);break;default:fn(t,2)}}function dn(t,e){let n=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(n*=2),n*e}function fn(t,e){if(t.j.info("Error code "+e),2==e){var n=l(t.bb,t),i=t.Ua;const e=!i;i=new Jt(i||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||ee(i,"https"),oe(i),e?function(t,e){const n=new St;if(o.Image){const i=new Image;i.onload=u(Se,n,"TestLoadImage: loaded",!0,e,i),i.onerror=u(Se,n,"TestLoadImage: error",!1,e,i),i.onabort=u(Se,n,"TestLoadImage: abort",!1,e,i),i.ontimeout=u(Se,n,"TestLoadImage: timeout",!1,e,i),o.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(i.toString(),n):function(t,e){new St;const n=new AbortController,i=setTimeout(()=>{n.abort(),Se(0,0,!1,e)},1e4);fetch(t,{signal:n.signal}).then(t=>{clearTimeout(i),t.ok?Se(0,0,!0,e):Se(0,0,!1,e)}).catch(()=>{clearTimeout(i),Se(0,0,!1,e)})}(i.toString(),n)}else _t(2);t.I=0,t.l&&t.l.pa(e),pn(t),tn(t)}function pn(t){if(t.I=0,t.ja=[],t.l){const e=Xt(t.h);0==e.length&&0==t.i.length||(f(t.ja,e),f(t.ja,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.oa()}}function mn(t,e,n){var i=n instanceof Jt?te(n):new Jt(n);if(""!=i.g)e&&(i.g=e+"."+i.g),ne(i,i.u);else{var r=o.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;const t=new Jt(null);i&&ee(t,i),e&&(t.g=e),r&&ne(t,r),n&&(t.h=n),i=t}return n=t.G,e=t.wa,n&&e&&re(i,n,e),re(i,"VER",t.ka),rn(t,i),i}function yn(t,e,n){if(e&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Aa&&!t.ma?new je(new xe({ab:n})):new je(t.ma)).Fa(t.L),e}function vn(){}function _n(){}function bn(t,e){X.call(this),this.g=new Xe(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.sa&&(t?t["X-WebChannel-Client-Profile"]=e.sa:t={"X-WebChannel-Client-Profile":e.sa}),this.g.U=t,(t=e&&e.Qb)&&!k(t)&&(this.g.u=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.g.G=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new En(this)}function wn(t){ht.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Sn(){dt.call(this),this.status=1}function En(t){this.g=t}(t=je.prototype).Fa=function(t){this.H=t},t.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xt.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(s){return void He(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),r=o.FormData&&t instanceof o.FormData,!(Array.prototype.indexOf.call(qe,e,void 0)>=0)||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(s){He(this,s)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,$(this,"complete"),$(this,"abort"),Ge(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ge(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?We(this):this.Xa())},t.Xa=function(){We(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return Ke(this)>2?this.g.status:-1}catch(t){return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.La=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),st(e)}},t.ya=function(){return this.o},t.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Xe.prototype).ka=8,t.I=1,t.connect=function(t,e,n,i){_t(0),this.W=t,this.H=e||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.J=mn(this,null,this.W),en(this)},t.Ea=function(t){if(this.m)if(this.m=null,1==this.I){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new It(this,this.j,t);let o=this.o;if(this.U&&(o?(o=D(o),O(o,this.U)):o=this.U),null!==this.u||this.R||(r.J=o,o=null),this.S)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if((e+=i)>4096){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=on(this,r,e),re(n=te(this.J),"RID",t),re(n,"CVER",22),this.G&&re(n,"X-HTTP-Session-Id",this.G),rn(this,n),o&&(this.R?e="headers="+Pt(Be(o))+"&"+e:this.u&&Ve(n,this.u,o)),Qt(this.h,r),this.Ra&&re(n,"TYPE","init"),this.S?(re(n,"$req",e),re(n,"SID","null"),r.U=!0,Mt(r,n,null)):Mt(r,n,e),this.I=2}}else 3==this.I&&(t?nn(this,t):0==this.i.length||Wt(this.h)||nn(this))},t.Da=function(){if(this.v=null,un(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=wt(l(this.Wa,this),t)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Je(this),un(this))},t.Va=function(){null!=this.C&&(this.C=null,Je(this),an(this),_t(19))},t.bb=function(t){t?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=vn.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},_n.prototype.g=function(t,e){return new bn(t,e)},c(bn,X),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){$e(this.g)},bn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ot(t),t=n);e.i.push(new Ht(e.Ya++,t)),3==e.I&&en(e)},bn.prototype.N=function(){this.g.l=null,delete this.j,$e(this.g),delete this.g,bn.Z.N.call(this)},c(wn,ht),c(Sn,dt),c(En,vn),En.prototype.ra=function(){$(this.g,"a")},En.prototype.qa=function(t){$(this.g,new wn(t))},En.prototype.pa=function(t){$(this.g,new Sn)},En.prototype.oa=function(){$(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Oe=ze.createWebChannelTransport=function(){return new _n},Me=ze.getStatEventTarget=function(){return mt()},De=ze.Event=ft,Ne=ze.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Ae=ze.ErrorCode=Tt,kt.COMPLETE="complete",Ie=ze.EventType=kt,ut.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",X.prototype.listen=X.prototype.J,Le=ze.WebChannel=ut,ze.FetchXmlHttpFactory=xe,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,Pe=ze.XhrIo=je}).apply("undefined"!==typeof Re?Re:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});class Fe{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");let Be="12.8.0";const Ve=new ut("@firebase/firestore");function je(){return Ve.logLevel}function Ue(t){if(Ve.logLevel<=rt.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(Ze);Ve.debug("Firestore (".concat(Be,"): ").concat(t),...r)}}function qe(t){if(Ve.logLevel<=rt.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(Ze);Ve.error("Firestore (".concat(Be,"): ").concat(t),...r)}}function He(t){if(Ve.logLevel<=rt.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];const r=n.map(Ze);Ve.warn("Firestore (".concat(Be,"): ").concat(t),...r)}}function Ze(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function We(t,e,n){let i="Unexpected state";"string"==typeof e?i=e:n=e,Ge(t,i,n)}function Ge(t,e,n){let i="FIRESTORE (".concat(Be,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(t.toString(16),")");if(void 0!==n)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(t){i+=" CONTEXT: "+n}throw qe(i),new Error(i)}function Ke(t,e,n,i){let r="Unexpected state";"string"==typeof n?r=n:i=n,t||Ge(e,r,i)}function Qe(t,e){return t}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends G{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class $e{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Je{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class tn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fe.UNAUTHENTICATED))}shutdown(){}}class en{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class nn{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ke(void 0===this.o,42304);let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new $e;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new $e,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const e=r;t.enqueueRetryable(async()=>{await e.promise,await i(this.currentUser)})},s=t=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(t=>s(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?s(t):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new $e)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Ke("string"==typeof e.accessToken,31837,{l:e}),new Je(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ke(null===t||"string"==typeof t,2055,{h:t}),new Fe(t)}}class rn{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class on{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new rn(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class an{constructor(t,e){var n;this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!==(n=t)&&void 0!==n&&void 0!==n.settings&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ke(void 0===this.o,3512);const n=t=>{null!=t.error&&Ue("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.m;return this.m=t.token,Ue("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const i=t=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){const t=this.V.getImmediate({optional:!0});t?i(t):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sn(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(Ke("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new sn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ln(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class un{static newId(){const t=62*Math.floor(256/62);let e="";for(;e.length<20;){const n=ln(40);for(let i=0;i<n.length;++i)e.length<20&&n[i]<t&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return e}}function cn(t,e){return t<e?-1:t>e?1:0}function hn(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.charAt(i),r=e.charAt(i);if(n!==r)return pn(n)===pn(r)?cn(n,r):pn(n)?1:-1}return cn(t.length,e.length)}const dn=55296,fn=57343;function pn(t){const e=t.charCodeAt(0);return e>=dn&&e<=fn}function mn(t,e,n){return t.length===e.length&&t.every((t,i)=>n(t,e[i]))}const gn="__name__";class yn{constructor(t,e,n){void 0===e?e=0:e>t.length&&We(637,{offset:e,range:t.length}),void 0===n?n=t.length-e:n>t.length-e&&We(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===yn.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof yn?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=yn.compareSegments(t.get(i),e.get(i));if(0!==n)return n}return cn(t.length,e.length)}static compareSegments(t,e){const n=yn.isNumericId(t),i=yn.isNumericId(e);return n&&!i?-1:!n&&i?1:n&&i?yn.extractNumericId(t).compare(yn.extractNumericId(e)):hn(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xe.fromString(t.substring(4,t.length-2))}}class vn extends yn{construct(t,e,n){return new vn(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));t.push(...r.split("/").filter(t=>t.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const _n=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends yn{construct(t,e,n){return new bn(t,e,n)}static isValidIdentifier(t){return _n.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===gn}static keyField(){return new bn([gn])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let o=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Xe(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Xe(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(o=!o,i++):"."!==e||o?(n+=e,i++):(r(),i++)}if(r(),o)throw new Xe(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bn(e)}static emptyPath(){return new bn([])}}class wn{constructor(t){this.path=t}static fromPath(t){return new wn(vn.fromString(t))}static fromName(t){return new wn(vn.fromString(t).popFirst(5))}static empty(){return new wn(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return vn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wn(new vn(t.slice()))}}function Sn(t,e,n){if(!n)throw new Xe(Ye.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function En(t){if(!wn.isDocumentKey(t))throw new Xe(Ye.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function xn(t){if(wn.isDocumentKey(t))throw new Xe(Ye.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Tn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function kn(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":We(12329,{type:typeof t})}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kn(t);throw new Xe(Ye.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function Pn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ln(t,e){if(!Tn(t))throw new Xe(Ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n="JSON missing required field: '".concat(i,"'");break}const s=t[i];if(r&&typeof s!==r){n="JSON field '".concat(i,"' must be a ").concat(r,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(i,"' field to equal '").concat(o.value,"'");break}}if(n)throw new Xe(Ye.INVALID_ARGUMENT,n);return!0}const In=-62135596800,An=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(t){return Nn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*An);return new Nn(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Xe(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Xe(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<In)throw new Xe(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xe(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/An}_compareTo(t){return this.seconds===t.seconds?cn(this.nanoseconds,t.nanoseconds):cn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ln(t,Nn._jsonSchema))return new Nn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-In;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nn._jsonSchemaVersion="firestore/timestamp/1.0",Nn._jsonSchema={type:Pn("string",Nn._jsonSchemaVersion),seconds:Pn("number"),nanoseconds:Pn("number")};class Dn{static fromTimestamp(t){return new Dn(t)}static min(){return new Dn(new Nn(0,0))}static max(){return new Dn(new Nn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mn=-1;class On{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}On.UNKNOWN_ID=-1;function Rn(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Dn.fromTimestamp(1e9===i?new Nn(n+1,0):new Nn(n,i));return new Fn(r,wn.empty(),e)}function zn(t){return new Fn(t.readTime,t.key,Mn)}class Fn{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Fn(Dn.min(),wn.empty(),Mn)}static max(){return new Fn(Dn.max(),wn.empty(),Mn)}}function Bn(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=wn.comparator(t.documentKey,e.documentKey),0!==n?n:cn(t.largestBatchId,e.largestBatchId))}const Vn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}async function Un(t){if(t.code!==Ye.FAILED_PRECONDITION||t.message!==Vn)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}class qn{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new qn((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof qn?e:qn.resolve(e)}catch(t){return qn.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):qn.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):qn.reject(e)}static resolve(t){return new qn((e,n)=>{e(t)})}static reject(t){return new qn((e,n)=>{n(t)})}static waitFor(t){return new qn((e,n)=>{let i=0,r=0,o=!1;t.forEach(t=>{++i,t.next(()=>{++r,o&&r===i&&e()},t=>n(t))}),o=!0,r===i&&e()})}static or(t){let e=qn.resolve(!1);for(const n of t)e=e.next(t=>t?qn.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,i)=>{n.push(e.call(this,t,i))}),this.waitFor(n)}static mapArray(t,e){return new qn((n,i)=>{const r=t.length,o=new Array(r);let s=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next(t=>{o[l]=t,++s,s===r&&n(o)},t=>i(t))}})}static doWhile(t,e){return new qn((n,i)=>{const r=()=>{!0===t()?e().next(()=>{r()},i):n()};r()})}}function Hn(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zn(t){return"IndexedDbTransactionError"===t.name}class Wn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ae(t),this.ue=t=>e.writeSequenceNumber(t))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Wn.ce=-1;const Gn=-1;function Kn(t){return null==t}function Qn(t){return 0===t&&1/t==-1/0}function Yn(t){return"number"==typeof t&&Number.isInteger(t)&&!Qn(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Xn="\x01";function $n(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ti(e)),e=Jn(t.get(n),e);return ti(e)}function Jn(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="\x01\x10";break;case Xn:n+="\x01\x11";break;default:n+=e}}return n}function ti(t){return t+Xn+"\x01"}const ei="remoteDocuments",ni="owner",ii="mutationQueues",ri="mutations";const oi="documentMutations",si="remoteDocumentsV14",ai="remoteDocumentGlobal",li="targets",ui="targetDocuments",ci="targetGlobal",hi="collectionParents",di="clientMetadata",fi="bundles",pi="namedQueries",mi="indexConfiguration",gi="indexState",yi="indexEntries",vi="documentOverlays",_i="globals",bi=[ii,ri,oi,ei,li,ni,ci,ui,di,ai,hi,fi,pi],wi=[ii,ri,oi,si,li,ni,ci,ui,di,ai,hi,fi,pi,vi],Si=wi,Ei=[...Si,mi,gi,yi];function xi(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ki(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ci{constructor(t,e){this.comparator=t,this.root=e||Li.EMPTY}insert(t,e){return new Ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(t){return new Ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Li.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push("".concat(e,":").concat(n)),!1)),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pi(this.root,t,this.comparator,!0)}}class Pi{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Li{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:Li.RED,this.left=null!=i?i:Li.EMPTY,this.right=null!=r?r:Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new Li(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Li.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw We(27949);return t+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(t,e,n,i,r){return this}insert(t,e,n){return new Li(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(t){this.comparator=t,this.data=new Ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ai(this.data.getIterator())}getIteratorFrom(t){return new Ai(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Ii))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ii(this.comparator);return e.data=t,e}}class Ai{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ni{constructor(t){this.fields=t,t.sort(bn.comparator)}static empty(){return new Ni([])}unionWith(t){let e=new Ii(bn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Ni(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return mn(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class Di extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Di("Invalid base64 string: "+t):t}}(t);return new Mi(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Mi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return cn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Oi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Ke(!!t,39018),"string"==typeof t){let e=0;const n=Oi.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zi(t.seconds),nanos:zi(t.nanos)}}function zi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fi(t){return"string"==typeof t?Mi.fromBase64String(t):Mi.fromUint8Array(t)}const Bi="server_timestamp",Vi="__type__",ji="__previous_value__",Ui="__local_write_time__";function qi(t){var e,n;return(null===(e=((null===t||void 0===t||null===(n=t.mapValue)||void 0===n?void 0:n.fields)||{})[Vi])||void 0===e?void 0:e.stringValue)===Bi}function Hi(t){const e=t.mapValue.fields[ji];return qi(e)?Hi(e):e}function Zi(t){const e=Ri(t.mapValue.fields[Ui].timestampValue);return new Nn(e.seconds,e.nanos)}class Wi{constructor(t,e,n,i,r,o,s,a,l,u,c){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=u,this.apiKey=c}}const Gi="(default)";class Ki{constructor(t,e){this.projectId=t,this.database=e||Gi}static empty(){return new Ki("","")}get isDefaultDatabase(){return this.database===Gi}isEqual(t){return t instanceof Ki&&t.projectId===this.projectId&&t.database===this.database}}const Qi="__type__",Yi="__max__",Xi={mapValue:{fields:{__type__:{stringValue:Yi}}}},$i="__vector__",Ji="value";function tr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qi(t)?4:yr(t)?9007199254740991:mr(t)?10:11:We(28295,{value:t})}function er(t,e){if(t===e)return!0;const n=tr(t);if(n!==tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zi(t).isEqual(Zi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Ri(t.timestampValue),i=Ri(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Fi(t.bytesValue).isEqual(Fi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zi(t.geoPointValue.latitude)===zi(e.geoPointValue.latitude)&&zi(t.geoPointValue.longitude)===zi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zi(t.integerValue)===zi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=zi(t.doubleValue),i=zi(e.doubleValue);return n===i?Qn(n)===Qn(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return mn(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(xi(n)!==xi(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!er(n[r],i[r])))return!1;return!0}(t,e);default:return We(52216,{left:t})}}function nr(t,e){return void 0!==(t.values||[]).find(t=>er(t,e))}function ir(t,e){if(t===e)return 0;const n=tr(t),i=tr(e);if(n!==i)return cn(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return cn(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=zi(t.integerValue||t.doubleValue),i=zi(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return rr(t.timestampValue,e.timestampValue);case 4:return rr(Zi(t),Zi(e));case 5:return hn(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Fi(t),i=Fi(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=cn(n[r],i[r]);if(0!==t)return t}return cn(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=cn(zi(t.latitude),zi(e.latitude));return 0!==n?n:cn(zi(t.longitude),zi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return or(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,i,r,o;const s=t.fields||{},a=e.fields||{},l=null===(n=s[Ji])||void 0===n?void 0:n.arrayValue,u=null===(i=a[Ji])||void 0===i?void 0:i.arrayValue,c=cn((null===l||void 0===l||null===(r=l.values)||void 0===r?void 0:r.length)||0,(null===u||void 0===u||null===(o=u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:or(l,u)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Xi.mapValue&&e===Xi.mapValue)return 0;if(t===Xi.mapValue)return 1;if(e===Xi.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(let s=0;s<i.length&&s<o.length;++s){const t=hn(i[s],o[s]);if(0!==t)return t;const e=ir(n[i[s]],r[o[s]]);if(0!==e)return e}return cn(i.length,o.length)}(t.mapValue,e.mapValue);default:throw We(23264,{he:n})}}function rr(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return cn(t,e);const n=Ri(t),i=Ri(e),r=cn(n.seconds,i.seconds);return 0!==r?r:cn(n.nanos,i.nanos)}function or(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=ir(n[r],i[r]);if(t)return t}return cn(n.length,i.length)}function sr(t){return ar(t)}function ar(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ri(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return Fi(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return wn.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=ar(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+="".concat(r,":").concat(ar(t.fields[r]));return n+"}"}(t.mapValue):We(61005,{value:t})}function lr(t){switch(tr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hi(t);return e?16+lr(e):16;case 5:return 2*t.stringValue.length;case 6:return Fi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce((t,e)=>t+lr(e),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return Ti(t.fields,(t,n)=>{e+=t.length+lr(n)}),e}(t.mapValue);default:throw We(13486,{value:t})}}function ur(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function cr(t){return!!t&&"integerValue"in t}function hr(t){return!!t&&"arrayValue"in t}function dr(t){return!!t&&"nullValue"in t}function fr(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pr(t){return!!t&&"mapValue"in t}function mr(t){var e,n;return(null===(e=((null===t||void 0===t||null===(n=t.mapValue)||void 0===n?void 0:n.fields)||{})[Qi])||void 0===e?void 0:e.stringValue)===$i}function gr(t){if(t.geoPointValue)return{geoPointValue:a({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:a({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=gr(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gr(t.arrayValue.values[n]);return e}return a({},t)}function yr(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Yi}class vr{constructor(t){this.value=t}static empty(){return new vr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!pr(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gr(e)}setAll(t){let e=bn.emptyPath(),n={},i=[];t.forEach((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=gr(t):i.push(r.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());pr(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return er(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];pr(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Ti(e,(e,n)=>t[e]=n);for(const i of n)delete t[i]}clone(){return new vr(gr(this.value))}}function _r(t){const e=[];return Ti(t.fields,(t,n)=>{const i=new bn([t]);if(pr(n)){const t=_r(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)}),new Ni(e)}class br{constructor(t,e,n,i,r,o,s){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=o,this.documentState=s}static newInvalidDocument(t){return new br(t,0,Dn.min(),Dn.min(),Dn.min(),vr.empty(),0)}static newFoundDocument(t,e,n,i){return new br(t,1,e,Dn.min(),n,i,0)}static newNoDocument(t,e){return new br(t,2,e,Dn.min(),Dn.min(),vr.empty(),0)}static newUnknownDocument(t,e){return new br(t,3,e,Dn.min(),Dn.min(),vr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof br&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class wr{constructor(t,e){this.position=t,this.inclusive=e}}function Sr(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],s=t.position[r];if(i=o.field.isKeyField()?wn.comparator(wn.fromName(s.referenceValue),n.key):ir(s,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Er(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}class xr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Tr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class kr{}class Cr extends kr{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Or(t,e,n):"array-contains"===e?new Br(t,n):"in"===e?new Vr(t,n):"not-in"===e?new jr(t,n):"array-contains-any"===e?new Ur(t,n):new Cr(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Rr(t,n):new zr(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&void 0===e.nullValue&&this.matchesComparison(ir(e,this.value)):null!==e&&tr(this.value)===tr(e)&&this.matchesComparison(ir(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends kr{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Pr(t,e)}matches(t){return Lr(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lr(t){return"and"===t.op}function Ir(t){return Ar(t)&&Lr(t)}function Ar(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function Nr(t){if(t instanceof Cr)return t.field.canonicalString()+t.op.toString()+sr(t.value);if(Ir(t))return t.filters.map(t=>Nr(t)).join(",");{const e=t.filters.map(t=>Nr(t)).join(",");return"".concat(t.op,"(").concat(e,")")}}function Dr(t,e){return t instanceof Cr?function(t,e){return e instanceof Cr&&t.op===e.op&&t.field.isEqual(e.field)&&er(t.value,e.value)}(t,e):t instanceof Pr?function(t,e){return e instanceof Pr&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,i)=>t&&Dr(n,e.filters[i]),!0)}(t,e):void We(19439)}function Mr(t){return t instanceof Cr?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(sr(t.value))}(t):t instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Mr).join(" ,")+"}"}(t):"Filter"}class Or extends Cr{constructor(t,e,n){super(t,e,n),this.key=wn.fromName(n.referenceValue)}matches(t){const e=wn.comparator(t.key,this.key);return this.matchesComparison(e)}}class Rr extends Cr{constructor(t,e){super(t,"in",e),this.keys=Fr("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zr extends Cr{constructor(t,e){super(t,"not-in",e),this.keys=Fr("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Fr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>wn.fromName(t.referenceValue))}class Br extends Cr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hr(e)&&nr(e.arrayValue,this.value)}}class Vr extends Cr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&nr(this.value.arrayValue,e)}}class jr extends Cr{constructor(t,e){super(t,"not-in",e)}matches(t){if(nr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&void 0===e.nullValue&&!nr(this.value.arrayValue,e)}}class Ur extends Cr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hr(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>nr(this.value.arrayValue,t))}}class qr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.Te=null}}function Hr(t){return new qr(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zr(t){const e=Qe(t);if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>Nr(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),Kn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>sr(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>sr(t)).join(",")),e.Te=t}return e.Te}function Wr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dr(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Er(t.startAt,e.startAt)&&Er(t.endAt,e.endAt)}function Gr(t){return wn.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Kr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Qr(t,e,n,i,r,o,s,a){return new Kr(t,e,n,i,r,o,s,a)}function Yr(t){return new Kr(t)}function Xr(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function $r(t){return null!==t.collectionGroup}function Jr(t){const e=Qe(t);if(null===e.Ie){e.Ie=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",i=function(t){let e=new Ii(bn.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(e=e.add(t.field))})}),e}(e);i.forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new xr(i,n))}),t.has(bn.keyField().canonicalString())||e.Ie.push(new xr(bn.keyField(),n))}return e.Ie}function to(t){const e=Qe(t);return e.Ee||(e.Ee=eo(e,Jr(t))),e.Ee}function eo(t,e){if("F"===t.limitType)return Hr(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(t=>{const e="desc"===t.dir?"asc":"desc";return new xr(t.field,e)});const n=t.endAt?new wr(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new wr(t.startAt.position,t.startAt.inclusive):null;return Hr(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function no(t,e){const n=t.filters.concat([e]);return new Kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function io(t,e,n){return new Kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ro(t,e){return Wr(to(t),to(e))&&t.limitType===e.limitType}function oo(t){return"".concat(Zr(to(t)),"|lt:").concat(t.limitType)}function so(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map(t=>Mr(t)).join(", "),"]")),Kn(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map(t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>sr(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>sr(t)).join(",")),"Target(".concat(e,")")}(to(t)),"; limitType=").concat(t.limitType,")")}function ao(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):wn.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Jr(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=Sr(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Jr(t),e))&&!(t.endAt&&!function(t,e,n){const i=Sr(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Jr(t),e))}(t,e)}function lo(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uo(t){return(e,n)=>{let i=!1;for(const r of Jr(t)){const t=co(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function co(t,e,n){const i=t.field.isKeyField()?wn.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ir(i,r):We(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return We(19790,{direction:t.dir})}}class ho{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ti(this.inner,(e,n)=>{for(const[i,r]of n)t(i,r)})}isEmpty(){return ki(this.inner)}size(){return this.innerSize}}const fo=new Ci(wn.comparator);function po(){return fo}const mo=new Ci(wn.comparator);function go(){let t=mo;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.insert(r.key,r);return t}function yo(t){let e=mo;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function vo(){return bo()}function _o(){return bo()}function bo(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const wo=new Ci(wn.comparator),So=new Ii(wn.comparator);function Eo(){let t=So;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(const r of n)t=t.add(r);return t}const xo=new Ii(cn);function To(){return xo}function ko(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qn(e)?"-0":e}}function Co(t){return{integerValue:""+t}}function Po(t,e){return Yn(e)?Co(e):ko(t,e)}class Lo{constructor(){this._=void 0}}function Io(t,e,n){return t instanceof Do?function(t,e){const n={fields:{[Vi]:{stringValue:Bi},[Ui]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&qi(e)&&(e=Hi(e)),e&&(n.fields[ji]=e),{mapValue:n}}(n,e):t instanceof Mo?Oo(t,e):t instanceof Ro?zo(t,e):function(t,e){const n=No(t,e),i=Bo(n)+Bo(t.Ae);return cr(n)&&cr(t.Ae)?Co(i):ko(t.serializer,i)}(t,e)}function Ao(t,e,n){return t instanceof Mo?Oo(t,e):t instanceof Ro?zo(t,e):n}function No(t,e){return t instanceof Fo?function(t){return cr(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Do extends Lo{}class Mo extends Lo{constructor(t){super(),this.elements=t}}function Oo(t,e){const n=Vo(e);for(const i of t.elements)n.some(t=>er(t,i))||n.push(i);return{arrayValue:{values:n}}}class Ro extends Lo{constructor(t){super(),this.elements=t}}function zo(t,e){let n=Vo(e);for(const i of t.elements)n=n.filter(t=>!er(t,i));return{arrayValue:{values:n}}}class Fo extends Lo{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Bo(t){return zi(t.integerValue||t.doubleValue)}function Vo(t){return hr(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class jo{constructor(t,e){this.field=t,this.transform=e}}class Uo{constructor(t,e){this.version=t,this.transformResults=e}}class qo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new qo}static exists(t){return new qo(void 0,t)}static updateTime(t){return new qo(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ho(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Zo{}function Wo(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ns(t.key,qo.none()):new Xo(t.key,t.data,qo.none());{const n=t.data,i=vr.empty();let r=new Ii(bn.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new $o(t.key,i,new Ni(r.toArray()),qo.none())}}function Go(t,e,n){t instanceof Xo?function(t,e,n){const i=t.value.clone(),r=ts(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof $o?function(t,e,n){if(!Ho(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=ts(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Jo(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ko(t,e,n,i){return t instanceof Xo?function(t,e,n,i){if(!Ho(t.precondition,e))return n;const r=t.value.clone(),o=es(t.fieldTransforms,i,e);return r.setAll(o),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof $o?function(t,e,n,i){if(!Ho(t.precondition,e))return n;const r=es(t.fieldTransforms,i,e),o=e.data;return o.setAll(Jo(t)),o.setAll(r),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,i):function(t,e,n){return Ho(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Qo(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=No(i.transform,t||null);null!=r&&(null===n&&(n=vr.empty()),n.set(i.field,r))}return n||null}function Yo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&mn(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Mo&&e instanceof Mo||t instanceof Ro&&e instanceof Ro?mn(t.elements,e.elements,er):t instanceof Fo&&e instanceof Fo?er(t.Ae,e.Ae):t instanceof Do&&e instanceof Do}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xo extends Zo{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $o extends Zo{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Jo(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ts(t,e,n){const i=new Map;Ke(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let r=0;r<n.length;r++){const o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Ao(s,a,n[r]))}return i}function es(t,e,n){const i=new Map;for(const r of t){const t=r.transform,o=n.data.field(r.field);i.set(r.field,Io(t,o,e))}return i}class ns extends Zo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class is extends Zo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rs{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&Go(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Ko(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Ko(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=_o();return this.mutations.forEach(i=>{const r=t.get(i.key),o=r.overlayedDocument;let s=this.applyToLocalView(o,r.mutatedFields);s=e.has(i.key)?null:s;const a=Wo(o,s);null!==a&&n.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(Dn.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Eo())}isEqual(t){return this.batchId===t.batchId&&mn(this.mutations,t.mutations,(t,e)=>Yo(t,e))&&mn(this.baseMutations,t.baseMutations,(t,e)=>Yo(t,e))}}class os{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Ke(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=wo;const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,n[o].version);return new os(t,e,n,i)}}class ss{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class as{constructor(t,e){this.count=t,this.unchangedNames=e}}var ls,us;function cs(t){switch(t){case Ye.OK:return We(64938);case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0;default:return We(15467,{code:t})}}function hs(t){if(void 0===t)return qe("GRPC error has no .code"),Ye.UNKNOWN;switch(t){case ls.OK:return Ye.OK;case ls.CANCELLED:return Ye.CANCELLED;case ls.UNKNOWN:return Ye.UNKNOWN;case ls.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case ls.INTERNAL:return Ye.INTERNAL;case ls.UNAVAILABLE:return Ye.UNAVAILABLE;case ls.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case ls.NOT_FOUND:return Ye.NOT_FOUND;case ls.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case ls.ABORTED:return Ye.ABORTED;case ls.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case ls.DATA_LOSS:return Ye.DATA_LOSS;default:return We(39323,{code:t})}}(us=ls||(ls={}))[us.OK=0]="OK",us[us.CANCELLED=1]="CANCELLED",us[us.UNKNOWN=2]="UNKNOWN",us[us.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",us[us.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",us[us.NOT_FOUND=5]="NOT_FOUND",us[us.ALREADY_EXISTS=6]="ALREADY_EXISTS",us[us.PERMISSION_DENIED=7]="PERMISSION_DENIED",us[us.UNAUTHENTICATED=16]="UNAUTHENTICATED",us[us.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",us[us.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",us[us.ABORTED=10]="ABORTED",us[us.OUT_OF_RANGE=11]="OUT_OF_RANGE",us[us.UNIMPLEMENTED=12]="UNIMPLEMENTED",us[us.INTERNAL=13]="INTERNAL",us[us.UNAVAILABLE=14]="UNAVAILABLE",us[us.DATA_LOSS=15]="DATA_LOSS";let ds=null;function fs(){return new TextEncoder}const ps=new xe([4294967295,4294967295],0);function ms(t){const e=fs().encode(t),n=new Te;return n.update(e),new Uint8Array(n.digest())}function gs(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xe([n,i],0),new xe([r,o],0)]}class ys{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new vs("Invalid padding: ".concat(e));if(n<0)throw new vs("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new vs("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new vs("Invalid padding when bitmap length is 0: ".concat(e));this.ge=8*t.length-e,this.pe=xe.fromNumber(this.ge)}ye(t,e,n){let i=t.add(e.multiply(xe.fromNumber(n)));return 1===i.compare(ps)&&(i=new xe([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.ge)return!1;const e=ms(t),[n,i]=gs(e);for(let r=0;r<this.hashCount;r++){const t=this.ye(n,i,r);if(!this.we(t))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new ys(r,i,e);return n.forEach(t=>o.insert(t)),o}insert(t){if(0===this.ge)return;const e=ms(t),[n,i]=gs(e);for(let r=0;r<this.hashCount;r++){const t=this.ye(n,i,r);this.be(t)}}be(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _s{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,bs.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new _s(Dn.min(),i,new Ci(cn),po(),Eo())}}class bs{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new bs(n,e,Eo(),Eo(),Eo())}}class ws{constructor(t,e,n,i){this.Se=t,this.removedTargetIds=e,this.key=n,this.De=i}}class Ss{constructor(t,e){this.targetId=t,this.Ce=e}}class Es{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mi.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class xs{constructor(){this.ve=0,this.Fe=Cs(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Eo(),e=Eo(),n=Eo();return this.Fe.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:We(38017,{changeType:r})}}),new bs(this.Me,this.xe,t,e,n)}Ke(){this.Oe=!1,this.Fe=Cs()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ts{constructor(t){this.Ge=t,this.ze=new Map,this.je=po(),this.He=ks(),this.Je=ks(),this.Ze=new Ci(cn)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(t.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.Qe(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:We(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((t,n)=>{this.rt(n)&&e(n)})}st(t){const e=t.targetId,n=t.Ce.count,i=this.ot(e);if(i){const o=i.target;if(Gr(o))if(0===n){const t=new wn(o.path);this.et(e,t,br.newNoDocument(t,Dn.min()))}else Ke(1===n,20013,{expectedCount:n});else{const i=this._t(e);if(i!==n){var r;const n=this.ut(t),o=n?this.ct(n,t,i):1;if(0!==o){this.it(e);const t=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,t)}null===(r=ds)||void 0===r||r.lt(function(t,e,n,i,r){var o,s,a,l,u;const c={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},h=e.unchangedNames;return h&&(c.bloomFilter={applied:0===r,hashCount:null!==(o=null===h||void 0===h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===h||void 0===h||null===(u=h.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:t=>{var e;return null!==(e=null===i||void 0===i?void 0:i.mightContain(t))&&void 0!==e&&e}}),c}(i,t.Ce,this.Ge.ht(),n,o))}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=e;let o,s;try{o=Fi(n).toUint8Array()}catch(t){if(t instanceof Di)return He("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{s=new ys(o,i,r)}catch(t){return He(t instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===s.ge?null:s}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let i=0;return n.forEach(n=>{const r=this.Ge.ht(),o="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.mightContain(o)||(this.et(e,n,null),i++)}),i}Tt(t){const e=new Map;this.ze.forEach((n,i)=>{const r=this.ot(i);if(r){if(n.current&&Gr(r.target)){const e=new wn(r.target.path);this.It(e).has(i)||this.Et(i,e)||this.et(i,e,br.newNoDocument(e,t))}n.Be&&(e.set(i,n.ke()),n.Ke())}});let n=Eo();this.Je.forEach((t,e)=>{let i=!0;e.forEachWhile(t=>{const e=this.ot(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(i=!1,!1)}),i&&(n=n.add(t))}),this.je.forEach((e,n)=>n.setReadTime(t));const i=new _s(t,e,this.Ze,this.je,n);return this.je=po(),this.He=ks(),this.Je=ks(),this.Ze=new Ci(cn),i}Ye(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,n),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.qe(e,1):i.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new xs,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ii(cn),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ii(cn),this.He=this.He.insert(t,e)),e}rt(t){const e=null!==this.ot(t);return e||Ue("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xs),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ks(){return new Ci(wn.comparator)}function Cs(){return new Ci(wn.comparator)}const Ps={asc:"ASCENDING",desc:"DESCENDING"},Ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Is={and:"AND",or:"OR"};class As{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ns(t,e){return t.useProto3Json||Kn(e)?e:{value:e}}function Ds(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ms(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Os(t,e){return Ds(t,e.toTimestamp())}function Rs(t){return Ke(!!t,49232),Dn.fromTimestamp(function(t){const e=Ri(t);return new Nn(e.seconds,e.nanos)}(t))}function zs(t,e){return Fs(t,e).canonicalString()}function Fs(t,e){const n=function(t){return new vn(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function Bs(t){const e=vn.fromString(t);return Ke(oa(e),10190,{key:e.toString()}),e}function Vs(t,e){return zs(t.databaseId,e.path)}function js(t,e){const n=Bs(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wn(Zs(n))}function Us(t,e){return zs(t.databaseId,e)}function qs(t){const e=Bs(t);return 4===e.length?vn.emptyPath():Zs(e)}function Hs(t){return new vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zs(t){return Ke(t.length>4&&"documents"===t.get(4),29091,{key:t.toString()}),t.popFirst(5)}function Ws(t,e,n){return{name:Vs(t,e),fields:n.value.mapValue.fields}}function Gs(t,e){let n;if(e instanceof Xo)n={update:Ws(t,e.key,e.value)};else if(e instanceof ns)n={delete:Vs(t,e.key)};else if(e instanceof $o)n={update:Ws(t,e.key,e.data),updateMask:ra(e.fieldMask)};else{if(!(e instanceof is))return We(16599,{dt:e.type});n={verify:Vs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Do)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ro)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.canonicalString(),increment:n.Ae};throw We(20930,{transform:e.transform})}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Os(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:We(27497)}(t,e.precondition)),n}function Ks(t,e){return{documents:[Us(t,e.path)]}}function Qs(t,e){const n={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Us(t,r);const o=function(t){if(0!==t.length)return ia(Pr.create(t,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:ea(t.field),direction:$s(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ns(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ft:n,parent:r}}function Ys(t){let e=qs(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ke(1===i,65062);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=Xs(t);return e instanceof Pr&&Ir(e)?e.getFilters():[e]}(n.where));let s=[];n.orderBy&&(s=function(t){return t.map(t=>function(t){return new xr(na(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Kn(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new wr(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new wr(n,e)}(n.endAt)),Qr(e,r,s,o,a,"F",l,u)}function Xs(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=na(t.unaryFilter.field);return Cr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=na(t.unaryFilter.field);return Cr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=na(t.unaryFilter.field);return Cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=na(t.unaryFilter.field);return Cr.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}}(t):void 0!==t.fieldFilter?function(t){return Cr.create(na(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Pr.create(t.compositeFilter.filters.map(t=>Xs(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return We(1026)}}(t.compositeFilter.op))}(t):We(30097,{filter:t})}function $s(t){return Ps[t]}function Js(t){return Ls[t]}function ta(t){return Is[t]}function ea(t){return{fieldPath:t.canonicalString()}}function na(t){return bn.fromServerFormat(t.fieldPath)}function ia(t){return t instanceof Cr?function(t){if("=="===t.op){if(fr(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(dr(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fr(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(dr(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:Js(t.op),value:t.value}}}(t):t instanceof Pr?function(t){const e=t.getFilters().map(t=>ia(t));return 1===e.length?e[0]:{compositeFilter:{op:ta(t.op),filters:e}}}(t):We(54877,{filter:t})}function ra(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function sa(t){return!!t&&"function"==typeof t._toProto&&"ProtoValue"===t._protoValueType}class aa{constructor(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dn.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Dn.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mi.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(t){return new aa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class la{constructor(t){this.yt=t}}function ua(t){const e=Ys({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?io(e,e.limit,"L"):e}class ca{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(zi(t.integerValue));else if("doubleValue"in t){const n=zi(t.doubleValue);isNaN(n)?this.Ft(e,13):(this.Ft(e,15),Qn(n)?e.Mt(0):e.Mt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ft(e,20),"string"==typeof n&&(n=Ri(n)),e.xt("".concat(n.seconds||"")),e.Mt(n.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Fi(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Ft(e,45),e.Mt(n.latitude||0),e.Mt(n.longitude||0)}else"mapValue"in t?yr(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):mr(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):We(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const n=t.fields||{};this.Ft(e,55);for(const i of Object.keys(n))this.Ot(i,e),this.Ct(n[i],e)}kt(t,e){var n;const i=t.fields||{};this.Ft(e,53);const r=Ji,o=(null===(n=i[r].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(e,15),e.Mt(zi(o)),this.Ot(r,e),this.Ct(i[r],e)}qt(t,e){const n=t.values||[];this.Ft(e,50);for(const i of n)this.Ct(i,e)}Lt(t,e){this.Ft(e,37),wn.fromName(t).path.forEach(t=>{this.Ft(e,60),this.$t(t,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}ca.Wt=new ca;class ha{constructor(){this.Sn=new da}addToCollectionParentIndex(t,e){return this.Sn.add(e),qn.resolve()}getCollectionParents(t,e){return qn.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return qn.resolve()}deleteFieldIndex(t,e){return qn.resolve()}deleteAllFieldIndexes(t){return qn.resolve()}createTargetIndexes(t,e){return qn.resolve()}getDocumentsMatchingTarget(t,e){return qn.resolve(null)}getIndexType(t,e){return qn.resolve(0)}getFieldIndexes(t,e){return qn.resolve([])}getNextCollectionGroupToUpdate(t){return qn.resolve(null)}getMinOffset(t,e){return qn.resolve(Fn.min())}getMinOffsetFromCollectionGroup(t,e){return qn.resolve(Fn.min())}updateCollectionGroup(t,e,n){return qn.resolve()}updateIndexEntries(t,e){return qn.resolve()}}class da{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Ii(vn.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Ii(vn.comparator)).toArray()}}new Uint8Array(0);const fa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pa=41943040;class ma{static withCacheSize(t){return new ma(t,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(pa,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class ga{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ga(0)}static ar(){return new ga(-1)}}const ya="LruGarbageCollector",va=1048576;function _a(t,e){let[n,i]=t,[r,o]=e;const s=cn(n,r);return 0===s?cn(i,o):s}class ba{constructor(t){this.Pr=t,this.buffer=new Ii(_a),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();_a(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class wa{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(t){Ue(ya,"Garbage collection scheduled in ".concat(t,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zn(t)?Ue(ya,"Ignoring IndexedDB error during garbage collection: ",t):await Un(t)}await this.Ar(3e5)})}}class Sa{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return qn.resolve(Wn.ce);const n=new ba(e);return this.Vr.forEachTarget(t,t=>n.Er(t.sequenceNumber)).next(()=>this.Vr.mr(t,t=>n.Er(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.Vr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),qn.resolve(fa)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),fa):this.gr(t,e))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let n,i,r,o,s,a,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(e)),i=this.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,s=Date.now(),this.removeTargets(t,n,e))).next(e=>(r=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),je()<=rt.DEBUG&&Ue("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(i," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(t," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),qn.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})))}}function Ea(t,e){return new Sa(t,e)}class xa{constructor(){this.changes=new ho(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,br.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?qn.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ta{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class ka{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&Ko(n.mutation,t,Ni.empty(),Nn.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,Eo()).next(()=>e))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eo();const i=vo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(t=>{let e=go();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=vo();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Eo()))}populateOverlays(t,e,n){const i=[];return n.forEach(t=>{e.has(t)||i.push(t)}),this.documentOverlayCache.getOverlays(t,i).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,i){let r=po();const o=bo(),s=bo();return e.forEach((t,e)=>{const s=n.get(e.key);i.has(e.key)&&(void 0===s||s.mutation instanceof $o)?r=r.insert(e.key,e):void 0!==s?(o.set(e.key,s.mutation.getFieldMask()),Ko(s.mutation,e,s.mutation.getFieldMask(),Nn.now())):o.set(e.key,Ni.empty())}),this.recalculateAndSaveOverlays(t,r).next(t=>(t.forEach((t,e)=>o.set(t,e)),e.forEach((t,e)=>{var n;return s.set(t,new Ta(e,null!==(n=o.get(t))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(t,e){const n=bo();let i=new Ci((t,e)=>t-e),r=Eo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const r of t)r.keys().forEach(t=>{const o=e.get(t);if(null===o)return;let s=n.get(t)||Ni.empty();s=r.applyToLocalView(o,s),n.set(t,s);const a=(i.get(r.batchId)||Eo()).add(t);i=i.insert(r.batchId,a)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const i=s.getNext(),a=i.key,l=i.value,u=_o();l.forEach(t=>{if(!r.has(t)){const i=Wo(e.get(t),n.get(t));null!==i&&u.set(t,i),r=r.add(t)}}),o.push(this.documentOverlayCache.saveOverlays(t,a,u))}return qn.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n,i){return function(t){return wn.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):$r(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,i):this.getDocumentsMatchingCollectionQuery(t,e,n,i)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):qn.resolve(vo());let s=Mn,a=r;return o.next(e=>qn.forEach(e,(e,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),r.get(e)?qn.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{a=a.insert(e,t)}))).next(()=>this.populateOverlays(t,e,r)).next(()=>this.computeViews(t,a,e,Eo())).next(t=>({batchId:s,changes:yo(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new wn(e)).next(t=>{let e=go();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n,i){const r=e.collectionGroup;let o=go();return this.indexManager.getCollectionParents(t,r).next(s=>qn.forEach(s,s=>{const a=function(t,e){return new Kr(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n,i).next(t=>{t.forEach((t,e)=>{o=o.insert(t,e)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r,i))).next(t=>{r.forEach((e,n)=>{const i=n.getKey();null===t.get(i)&&(t=t.insert(i,br.newInvalidDocument(i)))});let n=go();return t.forEach((t,i)=>{const o=r.get(t);void 0!==o&&Ko(o.mutation,i,Ni.empty(),Nn.now()),ao(e,i)&&(n=n.insert(t,i))}),n})}}class Ca{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return qn.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:Rs(t.createTime)}}(e)),qn.resolve()}getNamedQuery(t,e){return qn.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,function(t){return{name:t.name,query:ua(t.bundledQuery),readTime:Rs(t.readTime)}}(e)),qn.resolve()}}class Pa{constructor(){this.overlays=new Ci(wn.comparator),this.Lr=new Map}getOverlay(t,e){return qn.resolve(this.overlays.get(e))}getOverlays(t,e){const n=vo();return qn.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,i)=>{this.bt(t,e,i)}),qn.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.Lr.get(n);return void 0!==i&&(i.forEach(t=>this.overlays=this.overlays.remove(t)),this.Lr.delete(n)),qn.resolve()}getOverlaysForCollection(t,e,n){const i=vo(),r=e.length+1,o=new wn(e.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const t=s.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return qn.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Ci((t,e)=>t-e);const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=vo(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const s=vo(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((t,e)=>s.set(t,e)),!(s.size()>=i)););return qn.resolve(s)}bt(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new ss(e,n));let r=this.Lr.get(e);void 0===r&&(r=Eo(),this.Lr.set(e,r)),this.Lr.set(e,r.add(n.key))}}class La{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return qn.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,qn.resolve()}}class Ia{constructor(){this.kr=new Ii(Aa.Kr),this.qr=new Ii(Aa.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const n=new Aa(t,e);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.Wr(new Aa(t,e))}Qr(t,e){t.forEach(t=>this.removeReference(t,e))}Gr(t){const e=new wn(new vn([])),n=new Aa(e,t),i=new Aa(e,t+1),r=[];return this.qr.forEachInRange([n,i],t=>{this.Wr(t),r.push(t.key)}),r}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new wn(new vn([])),n=new Aa(e,t),i=new Aa(e,t+1);let r=Eo();return this.qr.forEachInRange([n,i],t=>{r=r.add(t.key)}),r}containsKey(t){const e=new Aa(t,0),n=this.kr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Aa{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return wn.comparator(t.key,e.key)||cn(t.Hr,e.Hr)}static Ur(t,e){return cn(t.Hr,e.Hr)||wn.comparator(t.key,e.key)}}class Na{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ii(Aa.Kr)}checkEmpty(t){return qn.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rs(r,e,n,i);this.mutationQueue.push(o);for(const s of i)this.Jr=this.Jr.add(new Aa(s.key,r)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return qn.resolve(o)}lookupMutationBatch(t,e){return qn.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.Xr(n),r=i<0?0:i;return qn.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return qn.resolve(0===this.mutationQueue.length?Gn:this.Yn-1)}getAllMutationBatches(t){return qn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Aa(e,0),i=new Aa(e,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([n,i],t=>{const e=this.Zr(t.Hr);r.push(e)}),qn.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ii(cn);return e.forEach(t=>{const e=new Aa(t,0),i=new Aa(t,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([e,i],t=>{n=n.add(t.Hr)})}),qn.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;wn.isDocumentKey(r)||(r=r.child(""));const o=new Aa(new wn(r),0);let s=new Ii(cn);return this.Jr.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.Hr)),!0)},o),qn.resolve(this.Yr(s))}Yr(t){const e=[];return t.forEach(t=>{const n=this.Zr(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){Ke(0===this.ei(e.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return qn.forEach(e.mutations,i=>{const r=new Aa(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=n})}nr(t){}containsKey(t,e){const n=new Aa(e,0),i=this.Jr.firstAfterOrEqual(n);return qn.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,qn.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Da{constructor(t){this.ti=t,this.docs=new Ci(wn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,o=this.ti(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return qn.resolve(n?n.document.mutableCopy():br.newInvalidDocument(e))}getEntries(t,e){let n=po();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():br.newInvalidDocument(t))}),qn.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let r=po();const o=e.path,s=new wn(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:t,value:{document:s}}=a.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Bn(zn(s),n)<=0||(i.has(s.key)||ao(e,s))&&(r=r.insert(s.key,s.mutableCopy()))}return qn.resolve(r)}getAllFromCollectionGroup(t,e,n,i){We(9500)}ni(t,e){return qn.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Ma(this)}getSize(t){return qn.resolve(this.size)}}class Ma extends xa{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(n)}),qn.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class Oa{constructor(t){this.persistence=t,this.ri=new ho(t=>Zr(t),Wr),this.lastRemoteSnapshotVersion=Dn.min(),this.highestTargetId=0,this.ii=0,this.si=new Ia,this.targetCount=0,this.oi=ga._r()}forEachTarget(t,e){return this.ri.forEach((t,n)=>e(n)),qn.resolve()}getLastRemoteSnapshotVersion(t){return qn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return qn.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),qn.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ii&&(this.ii=e),qn.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new ga(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,qn.resolve()}updateTargetData(t,e){return this.lr(e),qn.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,qn.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.ri.forEach((o,s)=>{s.sequenceNumber<=e&&null===n.get(s.targetId)&&(this.ri.delete(o),r.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),qn.waitFor(r).next(()=>i)}getTargetCount(t){return qn.resolve(this.targetCount)}getTargetData(t,e){const n=this.ri.get(e)||null;return qn.resolve(n)}addMatchingKeys(t,e,n){return this.si.$r(e,n),qn.resolve()}removeMatchingKeys(t,e,n){this.si.Qr(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(e=>{r.push(i.markPotentiallyOrphaned(t,e))}),qn.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),qn.resolve()}getMatchingKeysForTargetId(t,e){const n=this.si.jr(e);return qn.resolve(n)}containsKey(t,e){return qn.resolve(this.si.containsKey(e))}}class Ra{constructor(t,e){this._i={},this.overlays={},this.ai=new Wn(0),this.ui=!1,this.ui=!0,this.ci=new La,this.referenceDelegate=t(this),this.li=new Oa(this),this.indexManager=new ha,this.remoteDocumentCache=function(t){return new Da(t)}(t=>this.referenceDelegate.hi(t)),this.serializer=new la(e),this.Pi=new Ca(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Pa,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this._i[t.toKey()];return n||(n=new Na(e,this.referenceDelegate),this._i[t.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,n){Ue("MemoryPersistence","Starting transaction:",t);const i=new za(this.ai.next());return this.referenceDelegate.Ti(),n(i).next(t=>this.referenceDelegate.Ii(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}Ei(t,e){return qn.or(Object.values(this._i).map(n=>()=>n.containsKey(t,e)))}}class za extends jn{constructor(t){super(),this.currentSequenceNumber=t}}class Fa{constructor(t){this.persistence=t,this.Ri=new Ia,this.Ai=null}static Vi(t){return new Fa(t)}get di(){if(this.Ai)return this.Ai;throw We(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.di.delete(n.toString()),qn.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.di.add(n.toString()),qn.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),qn.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach(t=>this.di.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.di.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qn.forEach(this.di,n=>{const i=wn.fromPath(n);return this.mi(t,i).next(t=>{t||e.removeEntry(i,Dn.min())})}).next(()=>(this.Ai=null,e.apply(t)))}updateLimboDocument(t,e){return this.mi(t,e).next(t=>{t?this.di.delete(e.toString()):this.di.add(e.toString())})}hi(t){return 0}mi(t,e){return qn.or([()=>qn.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Ba{constructor(t,e){this.persistence=t,this.fi=new ho(t=>$n(t.path),(t,e)=>t.isEqual(e)),this.garbageCollector=Ea(this,e)}static Vi(t,e){return new Ba(t,e)}Ti(){}Ii(t){return qn.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}pr(t){let e=0;return this.mr(t,t=>{e++}).next(()=>e)}mr(t,e){return qn.forEach(this.fi,(n,i)=>this.wr(t,n,i).next(t=>t?qn.resolve():e(i)))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ni(t,i=>this.wr(t,i,e).next(t=>{t||(n++,r.removeEntry(i,Dn.min()))})).next(()=>r.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),qn.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.fi.set(n,t.currentSequenceNumber),qn.resolve()}removeReference(t,e,n){return this.fi.set(n,t.currentSequenceNumber),qn.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),qn.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=lr(t.data.value)),e}wr(t,e,n){return qn.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.fi.get(e);return qn.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Va{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Ts=n,this.Is=i}static Es(t,e){let n=Eo(),i=Eo();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Va(t,e.fromCache,n,i)}}class ja{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Ua{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=Z()?8:Hn(q())>0?6:4}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,i){const r={result:null};return this.gs(t,e).next(t=>{r.result=t}).next(()=>{if(!r.result)return this.ps(t,e,i,n).next(t=>{r.result=t})}).next(()=>{if(r.result)return;const n=new ja;return this.ys(t,e,n).next(i=>{if(r.result=i,this.As)return this.ws(t,e,n,i.size)})}).next(()=>r.result)}ws(t,e,n,i){return n.documentReadCount<this.Vs?(je()<=rt.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",so(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),qn.resolve()):(je()<=rt.DEBUG&&Ue("QueryEngine","Query:",so(e),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(je()<=rt.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",so(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,to(e))):qn.resolve())}gs(t,e){if(Xr(e))return qn.resolve(null);let n=to(e);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=io(e,null,"F"),n=to(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const r=Eo(...i);return this.fs.getDocuments(t,r).next(i=>this.indexManager.getMinOffset(t,n).next(n=>{const o=this.bs(e,i);return this.Ss(e,o,r,n.readTime)?this.gs(t,io(e,null,"F")):this.Ds(t,o,e,n)}))})))}ps(t,e,n,i){return Xr(e)||i.isEqual(Dn.min())?qn.resolve(null):this.fs.getDocuments(t,n).next(r=>{const o=this.bs(e,r);return this.Ss(e,o,n,i)?qn.resolve(null):(je()<=rt.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(e)),this.Ds(t,o,e,Rn(i,Mn)).next(t=>t))})}bs(t,e){let n=new Ii(uo(t));return e.forEach((e,i)=>{ao(t,i)&&(n=n.add(i))}),n}Ss(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ys(t,e,n){return je()<=rt.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",so(e)),this.fs.getDocumentsMatchingQuery(t,e,Fn.min(),n)}Ds(t,e,n,i){return this.fs.getDocumentsMatchingQuery(t,n,i).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}const qa="LocalStore";class Ha{constructor(t,e,n,i){this.persistence=t,this.Cs=e,this.serializer=i,this.vs=new Ci(cn),this.Fs=new ho(t=>Zr(t),Wr),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(n)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ka(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.vs))}}function Za(t,e,n,i){return new Ha(t,e,n,i)}async function Wa(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next(r=>(i=r,n.Os(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const r=[],o=[];let s=Eo();for(const t of i){r.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)s=s.add(e.key)}return n.localDocuments.getDocuments(t,s).next(t=>({Ns:t,removedBatchIds:r,addedBatchIds:o}))})})}function Ga(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function Ka(t,e,n){let i=Eo(),r=Eo();return n.forEach(t=>i=i.add(t)),e.getEntries(t,i).next(t=>{let i=po();return n.forEach((n,o)=>{const s=t.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(Dn.min())?(e.removeEntry(n,o.readTime),i=i.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(o),i=i.insert(n,o)):Ue(qa,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{Bs:i,Ls:r}})}function Qa(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=Gn),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function Ya(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.li.getTargetData(t,e).next(r=>r?(i=r,qn.resolve(i)):n.li.allocateTargetId(t).next(r=>(i=new aa(e,r,"TargetPurposeListen",t.currentSequenceNumber),n.li.addTargetData(t,i).next(()=>i))))}).then(t=>{const i=n.vs.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(t.targetId,t),n.Fs.set(e,t.targetId)),t})}async function Xa(t,e,n){const i=Qe(t),r=i.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,t=>i.persistence.referenceDelegate.removeTarget(t,r))}catch(t){if(!Zn(t))throw t;Ue(qa,"Failed to update sequence numbers for target ".concat(e,": ").concat(t))}i.vs=i.vs.remove(e),i.Fs.delete(r.target)}function $a(t,e,n){const i=Qe(t);let r=Dn.min(),o=Eo();return i.persistence.runTransaction("Execute query","readwrite",t=>function(t,e,n){const i=Qe(t),r=i.Fs.get(n);return void 0!==r?qn.resolve(i.vs.get(r)):i.li.getTargetData(e,n)}(i,t,to(e)).next(e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(t,e.targetId).next(t=>{o=t})}).next(()=>i.Cs.getDocumentsMatchingQuery(t,e,n?r:Dn.min(),n?o:Eo())).next(t=>(Ja(i,lo(e),t),{documents:t,ks:o})))}function Ja(t,e,n){let i=t.Ms.get(e)||Dn.min();n.forEach((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)}),t.Ms.set(e,i)}class tl{constructor(){this.activeTargetIds=To()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class el{constructor(){this.vo=new tl,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,n){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new tl,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class nl{Mo(t){}shutdown(){}}const il="ConnectivityMonitor";class rl{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ue(il,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){Ue(il,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ol=null;function sl(){return null===ol?ol=268435456+Math.round(2147483648*Math.random()):ol++,"0x"+ol.toString(16)}const al="RestConnection",ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ul{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo="projects/".concat(n,"/databases/").concat(i),this.$o=this.databaseId.database===Gi?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}Wo(t,e,n,i,r){const o=sl(),s=this.Qo(t,e.toUriEncodedString());Ue(al,"Sending RPC '".concat(t,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(a,i,r);const{host:l}=new URL(s),u=B(l);return this.zo(t,s,a,n,u).then(e=>(Ue(al,"Received RPC '".concat(t,"' ").concat(o,": "),e),e),e=>{throw He(al,"RPC '".concat(t,"' ").concat(o," failed with error: "),e,"url: ",s,"request:",n),e})}jo(t,e,n,i,r,o){return this.Wo(t,e,n,i,r)}Go(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Be,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}Qo(t,e){const n=ll[t];let i="".concat(this.qo,"/v1/").concat(e,":").concat(n);return this.databaseInfo.apiKey&&(i="".concat(i,"?key=").concat(encodeURIComponent(this.databaseInfo.apiKey))),i}terminate(){}}class cl{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const hl="WebChannelConnection",dl=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};class fl extends ul{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!fl.c_){const t=Me();dl(t,De.STAT_EVENT,t=>{t.stat===Ne.PROXY?Ue(hl,"STAT_EVENT: detected buffering proxy"):t.stat===Ne.NOPROXY&&Ue(hl,"STAT_EVENT: detected no buffering proxy")}),fl.c_=!0}}zo(t,e,n,i,r){const o=sl();return new Promise((r,s)=>{const a=new Pe;a.setWithCredentials(!0),a.listenOnce(Ie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ae.NO_ERROR:const n=a.getResponseJson();Ue(hl,"XHR for RPC '".concat(t,"' ").concat(o," received:"),JSON.stringify(n)),r(n);break;case Ae.TIMEOUT:Ue(hl,"RPC '".concat(t,"' ").concat(o," timed out")),s(new Xe(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ae.HTTP_ERROR:const i=a.getStatus();if(Ue(hl,"RPC '".concat(t,"' ").concat(o," failed with status:"),i,"response text:",a.getResponseText()),i>0){var e;let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const n=null===(e=t)||void 0===e?void 0:e.error;if(n&&n.status&&n.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(e)>=0?e:Ye.UNKNOWN}(n.status);s(new Xe(t,n.message))}else s(new Xe(Ye.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Xe(Ye.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:t,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Ue(hl,"RPC '".concat(t,"' ").concat(o," completed."))}});const l=JSON.stringify(i);Ue(hl,"RPC '".concat(t,"' ").concat(o," sending request:"),i),a.send(e,"POST",l,n,15)})}T_(t,e,n){const i=sl(),r=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;void 0!==a&&(s.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,e,n),s.encodeInitMessageHeaders=!0;const l=r.join("");Ue(hl,"Creating RPC '".concat(t,"' stream ").concat(i,": ").concat(l),s);const u=o.createWebChannel(l,s);this.I_(u);let c=!1,h=!1;const d=new cl({Ho:e=>{h?Ue(hl,"Not sending because RPC '".concat(t,"' stream ").concat(i," is closed:"),e):(c||(Ue(hl,"Opening RPC '".concat(t,"' stream ").concat(i," transport.")),u.open(),c=!0),Ue(hl,"RPC '".concat(t,"' stream ").concat(i," sending:"),e),u.send(e))},Jo:()=>u.close()});return dl(u,Le.EventType.OPEN,()=>{h||(Ue(hl,"RPC '".concat(t,"' stream ").concat(i," transport opened.")),d.i_())}),dl(u,Le.EventType.CLOSE,()=>{h||(h=!0,Ue(hl,"RPC '".concat(t,"' stream ").concat(i," transport closed")),d.o_(),this.E_(u))}),dl(u,Le.EventType.ERROR,e=>{h||(h=!0,He(hl,"RPC '".concat(t,"' stream ").concat(i," transport errored. Name:"),e.name,"Message:",e.message),d.o_(new Xe(Ye.UNAVAILABLE,"The operation could not be completed")))}),dl(u,Le.EventType.MESSAGE,e=>{if(!h){var n;const r=e.data[0];Ke(!!r,16349);const o=r,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ue(hl,"RPC '".concat(t,"' stream ").concat(i," received error:"),s);const e=s.status;let n=function(t){const e=ls[t];if(void 0!==e)return hs(e)}(e),r=s.message;void 0===n&&(n=Ye.INTERNAL,r="Unknown error status: "+e+" with message "+s.message),h=!0,d.o_(new Xe(n,r)),u.close()}else Ue(hl,"RPC '".concat(t,"' stream ").concat(i," received:"),r),d.__(r)}}),fl.u_(),setTimeout(()=>{d.s_()},0),d}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(e=>e===t)}Go(t,e,n){super.Go(t,e,n),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Oe()}}function pl(t){return new fl(t)}function ml(){return"undefined"!=typeof document?document:null}function gl(t){return new As(t,!0)}fl.c_=!1;class yl{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ci=t,this.timerId=e,this.R_=n,this.A_=i,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-n);i>0&&Ue("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.d_," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vl="PersistentStream";class _l{constructor(t,e,n,i,r,o,s,a){this.Ci=t,this.b_=n,this.S_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yl(t,e)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==t?this.M_.reset():e&&e.code===Ye.RESOURCE_EXHAUSTED?(qe(e.toString()),qe("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Ye.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(t=>{let[n,i]=t;this.D_===e&&this.G_(n,i)},e=>{t(()=>{const t=new Xe(Ye.UNKNOWN,"Fetching auth token failed: "+e.message);return this.z_(t)})})}G_(t,e){const n=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(t=>{n(()=>this.z_(t))}),this.stream.onMessage(t=>{n(()=>1==++this.F_?this.H_(t):this.onNext(t))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ue(vl,"close with error: ".concat(t)),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget(()=>this.D_===t?e():(Ue(vl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bl extends _l{constructor(t,e,n,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,o),this.serializer=r}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:We(39313,{state:t})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(Ke(void 0===e||"string"==typeof e,58123),Mi.fromBase64String(e||"")):(Ke(void 0===e||e instanceof Buffer||e instanceof Uint8Array,16193),Mi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){const e=void 0===t.code?Ye.UNKNOWN:hs(t.code);return new Xe(e,t.message||"")}(s);n=new Es(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=js(t,i.document.name),o=Rs(i.document.updateTime),s=i.document.createTime?Rs(i.document.createTime):Dn.min(),a=new vr({mapValue:{fields:i.document.fields}}),l=br.newFoundDocument(r,o,s,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new ws(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=js(t,i.document),o=i.readTime?Rs(i.readTime):Dn.min(),s=br.newNoDocument(r,o),a=i.removedTargetIds||[];n=new ws([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=js(t,i.document),o=i.removedTargetIds||[];n=new ws([],o,r,null)}else{if(!("filter"in e))return We(11601,{Vt:e});{e.filter;const t=e.filter;t.targetId;const{count:i=0,unchangedNames:r}=t,o=new as(i,r),s=t.targetId;n=new Ss(s,o)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Dn.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Dn.min():e.readTime?Rs(e.readTime):Dn.min()}(t);return this.listener.J_(e,n)}Z_(t){const e={};e.database=Hs(this.serializer),e.addTarget=function(t,e){let n;const i=e.target;if(n=Gr(i)?{documents:Ks(t,i)}:{query:Qs(t,i).ft},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Ms(t,e.resumeToken);const i=Ns(t,e.expectedCount);null!==i&&(n.expectedCount=i)}else if(e.snapshotVersion.compareTo(Dn.min())>0){n.readTime=Ds(t,e.snapshotVersion.toTimestamp());const i=Ns(t,e.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:t})}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.K_(e)}X_(t){const e={};e.database=Hs(this.serializer),e.removeTarget=t,this.K_(e)}}class wl extends _l{constructor(t,e,n,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,o),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Ke(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ke(!t.writeResults||0===t.writeResults.length,55816),this.listener.ta()}onNext(t){Ke(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=function(t,e){return t&&t.length>0?(Ke(void 0!==e,14353),t.map(t=>function(t,e){let n=t.updateTime?Rs(t.updateTime):Rs(e);return n.isEqual(Dn.min())&&(n=Rs(e)),new Uo(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Rs(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=Hs(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>Gs(this.serializer,t))};this.K_(e)}}class Sl{}class El extends Sl{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xe(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[o,s]=r;return this.connection.Wo(t,Fs(e,n),i,o,s)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Xe(Ye.UNKNOWN,t.toString())})}jo(t,e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.jo(t,Fs(e,n),i,s,a,r)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Xe(Ye.UNKNOWN,t.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function xl(t,e,n,i){return new El(t,e,n,i)}class Tl{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,"Online"===t&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(qe(e),this.aa=!1):Ue("OnlineStateTracker",e)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const kl="RemoteStore";class Cl{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(t=>{n.enqueueAndForget(async()=>{Rl(this)&&(Ue(kl,"Restarting streams for network reachability change."),await async function(t){const e=Qe(t);e.Ea.add(4),await Ll(e),e.Va.set("Unknown"),e.Ea.delete(4),await Pl(e)}(this))})}),this.Va=new Tl(n,i)}}async function Pl(t){if(Rl(t))for(const e of t.Ra)await e(!0)}async function Ll(t){for(const e of t.Ra)await e(!1)}function Il(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ol(n)?Ml(n):eu(n).O_()&&Nl(n,e))}function Al(t,e){const n=Qe(t),i=eu(n);n.Ia.delete(e),i.O_()&&Dl(n,e),0===n.Ia.size&&(i.O_()?i.L_():Rl(n)&&n.Va.set("Unknown"))}function Nl(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eu(t).Z_(e)}function Dl(t,e){t.da.$e(e),eu(t).X_(e)}function Ml(t){t.da=new Ts({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),eu(t).start(),t.Va.ua()}function Ol(t){return Rl(t)&&!eu(t).x_()&&t.Ia.size>0}function Rl(t){return 0===Qe(t).Ea.size}function zl(t){t.da=void 0}async function Fl(t){t.Va.set("Online")}async function Bl(t){t.Ia.forEach((e,n)=>{Nl(t,e)})}async function Vl(t,e){zl(t),Ol(t)?(t.Va.ha(e),Ml(t)):t.Va.set("Unknown")}async function jl(t,e,n){if(t.Va.set("Online"),e instanceof Es&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.Ia.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.Ia.delete(i),t.da.removeTarget(i))}(t,e)}catch(n){Ue(kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ul(t,n)}else if(e instanceof ws?t.da.Xe(e):e instanceof Ss?t.da.st(e):t.da.tt(e),!n.isEqual(Dn.min()))try{const e=await Ga(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.da.Tt(e);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.Ia.get(i);r&&t.Ia.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach((e,n)=>{const i=t.Ia.get(e);if(!i)return;t.Ia.set(e,i.withResumeToken(Mi.EMPTY_BYTE_STRING,i.snapshotVersion)),Dl(t,e);const r=new aa(i.target,e,n,i.sequenceNumber);Nl(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Ue(kl,"Failed to raise snapshot:",e),await Ul(t,e)}}async function Ul(t,e,n){if(!Zn(e))throw e;t.Ea.add(1),await Ll(t),t.Va.set("Offline"),n||(n=()=>Ga(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue(kl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Pl(t)})}function ql(t,e){return e().catch(n=>Ul(t,n,e))}async function Hl(t){const e=Qe(t),n=nu(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gn;for(;Zl(e);)try{const t=await Qa(e.localStore,i);if(null===t){0===e.Ta.length&&n.L_();break}i=t.batchId,Wl(e,t)}catch(t){await Ul(e,t)}Gl(e)&&Kl(e)}function Zl(t){return Rl(t)&&t.Ta.length<10}function Wl(t,e){t.Ta.push(e);const n=nu(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Gl(t){return Rl(t)&&!nu(t).x_()&&t.Ta.length>0}function Kl(t){nu(t).start()}async function Ql(t){nu(t).ra()}async function Yl(t){const e=nu(t);for(const n of t.Ta)e.ea(n.mutations)}async function Xl(t,e,n){const i=t.Ta.shift(),r=os.from(i,e,n);await ql(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Hl(t)}async function $l(t,e){e&&nu(t).Y_&&await async function(t,e){if(function(t){return cs(t)&&t!==Ye.ABORTED}(e.code)){const n=t.Ta.shift();nu(t).B_(),await ql(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await Hl(t)}}(t,e),Gl(t)&&Kl(t)}async function Jl(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ue(kl,"RemoteStore received new credentials");const i=Rl(n);n.Ea.add(3),await Ll(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pl(n)}async function tu(t,e){const n=Qe(t);e?(n.Ea.delete(2),await Pl(n)):e||(n.Ea.add(2),await Ll(n),n.Va.set("Unknown"))}function eu(t){return t.ma||(t.ma=function(t,e,n){const i=Qe(t);return i.sa(),new bl(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Zo:Fl.bind(null,t),Yo:Bl.bind(null,t),t_:Vl.bind(null,t),J_:jl.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Ol(t)?Ml(t):t.Va.set("Unknown")):(await t.ma.stop(),zl(t))})),t.ma}function nu(t){return t.fa||(t.fa=function(t,e,n){const i=Qe(t);return i.sa(),new wl(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Ql.bind(null,t),t_:$l.bind(null,t),ta:Yl.bind(null,t),na:Xl.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Hl(t)):(await t.fa.stop(),t.Ta.length>0&&(Ue(kl,"Stopping write stream with ".concat(t.Ta.length," pending writes")),t.Ta=[]))})),t.fa}class iu{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new $e,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,i,r){const o=Date.now()+n,s=new iu(t,e,o,i,r);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xe(Ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(t,e){if(qe("AsyncQueue","".concat(e,": ").concat(t)),Zn(t))return new Xe(Ye.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class ou{static emptySet(t){return new ou(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||wn.comparator(e.key,n.key):(t,e)=>wn.comparator(t.key,e.key),this.keyedMap=go(),this.sortedSet=new Ci(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ou))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new ou;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class su{constructor(){this.ga=new Ci(wn.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?0!==t.type&&3===n.type?this.ga=this.ga.insert(e,t):3===t.type&&1!==n.type?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ga=this.ga.remove(e):1===t.type&&2===n.type?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):We(63341,{Vt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,n)=>{t.push(n)}),t}}class au{constructor(t,e,n,i,r,o,s,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const o=[];return e.forEach(t=>{o.push({type:0,doc:t})}),new au(t,e,ou.emptySet(e),o,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ro(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class lu{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class uu{constructor(){this.queries=cu(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(t,e){const n=Qe(t),i=n.queries;n.queries=cu(),i.forEach((t,n)=>{for(const i of n.ba)i.onError(e)})}(this,new Xe(Ye.ABORTED,"Firestore shutting down"))}}function cu(){return new ho(t=>oo(t),ro)}async function hu(t,e){const n=Qe(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.Sa()&&e.Da()&&(i=2):(o=new lu,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(t){const n=ru(t,"Initialization of query '".concat(so(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&mu(n)}async function du(t,e){const n=Qe(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const t=o.ba.indexOf(e);t>=0&&(o.ba.splice(t,1),0===o.ba.length?r=e.Da()?0:1:!o.Sa()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function fu(t,e){const n=Qe(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.ba)t.Fa(r)&&(i=!0);e.wa=r}}i&&mu(n)}function pu(t,e,n){const i=Qe(t),r=i.queries.get(e);if(r)for(const o of r.ba)o.onError(n);i.queries.delete(e)}function mu(t){t.Ca.forEach(t=>{t.next()})}var gu,yu;(yu=gu||(gu={})).Ma="default",yu.Cache="cache";class vu{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new au(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==e;return(!this.options.Ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}ka(t){t=au.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gu.Cache}}class _u{constructor(t){this.key=t}}class bu{constructor(t){this.key=t}}class wu{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Eo(),this.mutatedKeys=Eo(),this.eu=uo(t),this.tu=new ou(this.eu)}get nu(){return this.Za}ru(t,e){const n=e?e.iu:new su,i=e?e.tu:this.tu;let r=e?e.mutatedKeys:this.mutatedKeys,o=i,s=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,e)=>{const u=i.get(t),c=ao(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.su(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.eu(c,a)>0||l&&this.eu(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),r=d?r.add(t):r.delete(t)):(o=o.delete(t),r=r.delete(t)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{tu:o,iu:n,Ss:s,mutatedKeys:r}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,i){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Vt:t})}};return n(t)-n(e)}(t.type,e.type)||this.eu(t.doc,e.doc)),this.ou(n),i=null!==i&&void 0!==i&&i;const s=e&&!i?this._u():[],a=0===this.Ya.size&&this.current&&!i?1:0,l=a!==this.Xa;return this.Xa=a,0!==o.length||l?{snapshot:new au(this.query,t.tu,r,o,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tu:this.tu,iu:new su,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Eo(),this.tu.forEach(t=>{this.uu(t.key)&&(this.Ya=this.Ya.add(t.key))});const e=[];return t.forEach(t=>{this.Ya.has(t)||e.push(new bu(t))}),this.Ya.forEach(n=>{t.has(n)||e.push(new _u(n))}),e}cu(t){this.Za=t.ks,this.Ya=Eo();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return au.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const Su="SyncEngine";class Eu{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class xu{constructor(t){this.key=t,this.hu=!1}}class Tu{constructor(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ho(t=>oo(t),ro),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ci(wn.comparator),this.Au=new Map,this.Vu=new Ia,this.du={},this.mu=new Map,this.fu=ga.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function ku(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=Gu(t);let r;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await Pu(i,e,n,!0),r}async function Cu(t,e){const n=Gu(t);await Pu(n,e,!0,!1)}async function Pu(t,e,n,i){const r=await Ya(t.localStore,to(e)),o=r.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return i&&(a=await Lu(t,e,o,"current"===s,r.resumeToken)),t.isPrimaryClient&&n&&Il(t.remoteStore,r),a}async function Lu(t,e,n,i,r){t.pu=(e,n,i)=>async function(t,e,n,i){let r=e.view.ru(n);r.Ss&&(r=await $a(t.localStore,e.query,!1).then(t=>{let{documents:n}=t;return e.view.ru(n,r)}));const o=i&&i.targetChanges.get(e.targetId),s=i&&null!=i.targetMismatches.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,o,s);return ju(t,e.targetId,a.au),a.snapshot}(t,e,n,i);const o=await $a(t.localStore,e,!0),s=new wu(e,o.ks),a=s.ru(o.documents),l=bs.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),u=s.applyChanges(a,t.isPrimaryClient,l);ju(t,n,u.au);const c=new Eu(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Iu(t,e,n){const i=Qe(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter(t=>!ro(t,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Xa(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Al(i.remoteStore,r.targetId),Bu(i,r.targetId)}).catch(Un)):(Bu(i,r.targetId),await Xa(i.localStore,r.targetId,!0))}async function Au(t,e){const n=Qe(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Al(n.remoteStore,i.targetId))}async function Nu(t,e){const n=Qe(t);try{const t=await function(t,e){const n=Qe(t),i=e.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const s=[];e.targetChanges.forEach((o,a)=>{const l=r.get(a);if(!l)return;s.push(n.li.removeMatchingKeys(t,o.removedDocuments,a).next(()=>n.li.addMatchingKeys(t,o.addedDocuments,a)));let u=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?u=u.withResumeToken(Mi.EMPTY_BYTE_STRING,Dn.min()).withLastLimboFreeSnapshotVersion(Dn.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,i)),r=r.insert(a,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&s.push(n.li.updateTargetData(t,u))});let a=po(),l=Eo();if(e.documentUpdates.forEach(i=>{e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),s.push(Ka(t,o,e.documentUpdates).next(t=>{a=t.Bs,l=t.Ls})),!i.isEqual(Dn.min())){const e=n.li.getLastRemoteSnapshotVersion(t).next(e=>n.li.setTargetsMetadata(t,t.currentSequenceNumber,i));s.push(e)}return qn.waitFor(s).next(()=>o.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,a,l)).next(()=>a)}).then(t=>(n.vs=r,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const i=n.Au.get(e);i&&(Ke(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?i.hu=!0:t.modifiedDocuments.size>0?Ke(i.hu,14607):t.removedDocuments.size>0&&(Ke(i.hu,42227),i.hu=!1))}),await Hu(n,t,e)}catch(t){await Un(t)}}function Du(t,e,n){const i=Qe(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.Tu.forEach((n,i)=>{const r=i.view.va(e);r.snapshot&&t.push(r.snapshot)}),function(t,e){const n=Qe(t);n.onlineState=e;let i=!1;n.queries.forEach((t,n)=>{for(const r of n.ba)r.va(e)&&(i=!0)}),i&&mu(n)}(i.eventManager,e),t.length&&i.Pu.J_(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Mu(t,e,n){const i=Qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),o=r&&r.key;if(o){let t=new Ci(wn.comparator);t=t.insert(o,br.newNoDocument(o,Dn.min()));const n=Eo().add(o),r=new _s(Dn.min(),new Map,new Ci(cn),t,n);await Nu(i,r),i.Ru=i.Ru.remove(o),i.Au.delete(e),qu(i)}else await Xa(i.localStore,e,!1).then(()=>Bu(i,e,n)).catch(Un)}async function Ou(t,e){const n=Qe(t),i=e.batch.batchId;try{const t=await function(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const i=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,o=r.keys();let s=qn.resolve();return o.forEach(t=>{s=s.next(()=>i.getEntry(e,t)).next(e=>{const o=n.docVersions.get(t);Ke(null!==o,48541),e.version.compareTo(o)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))})}),s.next(()=>t.mutationQueue.removeMutationBatch(e,r))}(n,t,e,r).next(()=>r.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Eo();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,i))})}(n.localStore,e);Fu(n,i,null),zu(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hu(n,t)}catch(t){await Un(t)}}async function Ru(t,e,n){const i=Qe(t);try{const t=await function(t,e){const n=Qe(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(Ke(null!==e,37113),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)).next(()=>n.localDocuments.getDocuments(t,i))})}(i.localStore,e);Fu(i,e,n),zu(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hu(i,t)}catch(n){await Un(n)}}function zu(t,e){(t.mu.get(e)||[]).forEach(t=>{t.resolve()}),t.mu.delete(e)}function Fu(t,e,n){const i=Qe(t);let r=i.du[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.du[i.currentUser.toKey()]=r}}function Bu(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(e=>{t.Vu.containsKey(e)||Vu(t,e)})}function Vu(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);null!==n&&(Al(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),qu(t))}function ju(t,e,n){for(const i of n)i instanceof _u?(t.Vu.addReference(i.key,e),Uu(t,i)):i instanceof bu?(Ue(Su,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||Vu(t,i.key)):We(19791,{wu:i})}function Uu(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(Ue(Su,"New document in limbo: "+n),t.Eu.add(i),qu(t))}function qu(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new wn(vn.fromString(e)),i=t.fu.next();t.Au.set(i,new xu(n)),t.Ru=t.Ru.insert(n,i),Il(t.remoteStore,new aa(to(Yr(n.path)),i,"TargetPurposeLimboResolution",Wn.ce))}}async function Hu(t,e,n){const i=Qe(t),r=[],o=[],s=[];i.Tu.isEmpty()||(i.Tu.forEach((t,a)=>{s.push(i.pu(a,e,n).then(t=>{if((t||n)&&i.isPrimaryClient){var e;const r=t?!t.fromCache:null===n||void 0===n||null===(e=n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(t){r.push(t);const e=Va.Es(a.targetId,t);o.push(e)}}))}),await Promise.all(s),i.Pu.J_(r),await async function(t,e){const n=Qe(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>qn.forEach(e,e=>qn.forEach(e.Ts,i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i)).next(()=>qn.forEach(e.Is,i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))}catch(t){if(!Zn(t))throw t;Ue(qa,"Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.vs.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.vs=n.vs.insert(t,r)}}}(i.localStore,o))}async function Zu(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ue(Su,"User change. New user:",e.toKey());const t=await Wa(n.localStore,e);n.currentUser=e,function(t,e){t.mu.forEach(t=>{t.forEach(t=>{t.reject(new Xe(Ye.CANCELLED,e))})}),t.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Hu(n,t.Ns)}}function Wu(t,e){const n=Qe(t),i=n.Au.get(e);if(i&&i.hu)return Eo().add(i.key);{let t=Eo();const i=n.Iu.get(e);if(!i)return t;for(const e of i){const i=n.Tu.get(e);t=t.unionWith(i.view.nu)}return t}}function Gu(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nu.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mu.bind(null,e),e.Pu.J_=fu.bind(null,e.eventManager),e.Pu.yu=pu.bind(null,e.eventManager),e}function Ku(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ou.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ru.bind(null,e),e}class Qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gl(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Za(this.persistence,new Ua,t.initialUser,this.serializer)}Cu(t){return new Ra(Fa.Vi,this.serializer)}Du(t){return new el}async terminate(){var t,e;null!==(t=this.gcScheduler)&&void 0!==t&&t.stop(),null!==(e=this.indexBackfillerScheduler)&&void 0!==e&&e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qu.provider={build:()=>new Qu};class Yu extends Qu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ke(this.persistence.referenceDelegate instanceof Ba,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new wa(n,t.asyncQueue,e)}Cu(t){const e=void 0!==this.cacheSizeBytes?ma.withCacheSize(this.cacheSizeBytes):ma.DEFAULT;return new Ra(t=>Ba.Vi(t,e),this.serializer)}}class Xu{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Du(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zu.bind(null,this.syncEngine),await tu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new uu}createDatastore(t){const e=gl(t.databaseInfo.databaseId),n=pl(t.databaseInfo);return xl(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,i,r){return new Cl(t,e,n,i,r)}(this.localStore,this.datastore,t.asyncQueue,t=>Du(this.syncEngine,t,0),rl.v()?new rl:new nl)}createSyncEngine(t,e){return function(t,e,n,i,r,o,s){const a=new Tu(t,e,n,i,r,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=Qe(t);Ue(kl,"RemoteStore shutting down."),e.Ea.add(5),await Ll(e),e.Aa.shutdown(),e.Va.set("Unknown")}(this.remoteStore),null!==(t=this.datastore)&&void 0!==t&&t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}Xu.provider={build:()=>new Xu};class $u{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qe("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}const Ju="FirestoreClient";class tc{constructor(t,e,n,i,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this._databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=un.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async t=>{Ue(Ju,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(Ue(Ju,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $e;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=ru(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function ec(t,e){t.asyncQueue.verifyOperationInProgress(),Ue(Ju,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async t=>{i.isEqual(t)||(await Wa(e.localStore,t),i=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nc(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ic(t);Ue(Ju,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(t=>Jl(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>Jl(e.remoteStore,n)),t._onlineComponents=e}async function ic(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue(Ju,"Using user provided OfflineComponentProvider");try{await ec(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===Ye.FAILED_PRECONDITION||t.code===Ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;He("Error using user provided cache. Falling back to memory cache: "+n),await ec(t,new Qu)}}else Ue(Ju,"Using default OfflineComponentProvider"),await ec(t,new Yu(void 0));return t._offlineComponents}async function rc(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue(Ju,"Using user provided OnlineComponentProvider"),await nc(t,t._uninitializedComponentsProvider._online)):(Ue(Ju,"Using default OnlineComponentProvider"),await nc(t,new Xu))),t._onlineComponents}function oc(t){return rc(t).then(t=>t.syncEngine)}async function sc(t){const e=await rc(t),n=e.eventManager;return n.onListen=ku.bind(null,e.syncEngine),n.onUnlisten=Iu.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cu.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Au.bind(null,e.syncEngine),n}function ac(t,e){const n=new $e;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const i=Ku(t);try{const t=await function(t,e){const n=Qe(t),i=Nn.now(),r=e.reduce((t,e)=>t.add(e.key),Eo());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let a=po(),l=Eo();return n.xs.getEntries(t,r).next(t=>{a=t,a.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,a)).next(r=>{o=r;const s=[];for(const t of e){const e=Qo(t,o.get(t.key).overlayedDocument);null!=e&&s.push(new $o(t.key,e,_r(e.value.mapValue),qo.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,s,e)}).next(e=>{s=e;const i=e.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)})}).then(()=>({batchId:s.batchId,changes:yo(o)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.du[t.currentUser.toKey()];i||(i=new Ci(cn)),i=i.insert(e,n),t.du[t.currentUser.toKey()]=i}(i,t.batchId,n),await Hu(i,t.changes),await Hl(i.remoteStore)}catch(t){const e=ru(t,"Failed to persist write");n.reject(e)}}(await oc(t),e,n)),n.promise}function lc(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const uc="ComponentProvider",cc=new Map;function hc(t,e,n,i,r){return new Wi(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,lc(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const dc="firestore.googleapis.com",fc=!0;class pc{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Xe(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dc,this.ssl=fc}else this.host=t.host,this.ssl=null!==(e=t.ssl)&&void 0!==e?e:fc;if(this.isUsingEmulator=void 0!==t.emulatorOptions,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=pa;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<va)throw new Xe(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,i){if(!0===e&&!0===i)throw new Xe(Ye.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lc(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Xe(Ye.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new Xe(Ye.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new Xe(Ye.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mc{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pc({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Xe(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pc(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new tn;switch(t.type){case"firstParty":return new on(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Xe(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cc.get(t);e&&(Ue(uc,"Removing Datastore"),cc.delete(t),e.terminate())}(this),Promise.resolve()}}function gc(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Cn(t,mc);const r=B(e),o=t._getSettings(),s=a(a({},o),{},{emulatorOptions:t._getEmulatorOptions()}),l="".concat(e,":").concat(n);r&&(async function(t){(await fetch(t,{credentials:"include"})).ok}("https://".concat(l)),U("Firestore",!0)),o.host!==dc&&o.host!==l&&He("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=a(a({},o),{},{host:l,ssl:r,emulatorOptions:i});if(!Y(u,s)&&(t._setSettings(u),i.mockUserToken)){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Fe.MOCK_USER;else{var c;e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=a({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[N(JSON.stringify({alg:"none",type:"JWT"})),N(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(c=t._app)||void 0===c?void 0:c.options.projectId);const r=i.mockUserToken.sub||i.mockUserToken.user_id;if(!r)throw new Xe(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Fe(r)}t._authCredentials=new en(new Je(e,n))}}class yc{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new yc(this.firestore,t,this._query)}}class vc{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vc(this.firestore,t,this._key)}toJSON(){return{type:vc._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Ln(e,vc._jsonSchema))return new vc(t,n||null,new wn(vn.fromString(e.referencePath)))}}vc._jsonSchemaVersion="firestore/documentReference/1.0",vc._jsonSchema={type:Pn("string",vc._jsonSchemaVersion),referencePath:Pn("string")};class _c extends yc{constructor(t,e,n){super(t,e,Yr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vc(this.firestore,null,new wn(t))}withConverter(t){return new _c(this.firestore,t,this._path)}}function bc(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=$(t),Sn("collection","path",e),t instanceof mc){const n=vn.fromString(e,...i);return xn(n),new _c(t,null,n)}{if(!(t instanceof vc||t instanceof _c))throw new Xe(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vn.fromString(e,...i));return xn(n),new _c(t.firestore,null,n)}}function wc(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=$(t),1===arguments.length&&(e=un.newId()),Sn("doc","path",e),t instanceof mc){const n=vn.fromString(e,...i);return En(n),new vc(t,null,new wn(n))}{if(!(t instanceof vc||t instanceof _c))throw new Xe(Ye.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vn.fromString(e,...i));return En(n),new vc(t.firestore,t instanceof _c?t.converter:null,new wn(n))}}const Sc="AsyncQueue";class Ec{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yl(this,"async_queue_retry"),this._c=()=>{const t=ml();t&&Ue(Sc,"Visibility state changed to "+t.visibilityState),this.M_.w_()},this.ac=t;const e=ml();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=ml();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new $e;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Zn(t))throw t;Ue(Sc,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(t=>{throw this.nc=t,this.rc=!1,qe("INTERNAL UNHANDLED ERROR: ",xc(t)),t}).then(t=>(this.rc=!1,t))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=iu.createAndSchedule(this,t,e,n,t=>this.hc(t));return this.tc.push(i),i}uc(){this.nc&&We(47125,{Pc:xc(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do{t=this.ac,await t}while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function xc(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}class Tc extends mc{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Ec,this._persistenceKey=(null===i||void 0===i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ec(t),this._firestoreClient=void 0,await t}}}function kc(t){if(t._terminated)throw new Xe(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cc(t),t._firestoreClient}function Cc(t){var e,n,i,r;const o=t._freezeSettings(),s=hc(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,null===(n=t._app)||void 0===n?void 0:n.options.apiKey,o);t._componentsProvider||null!==(i=o.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new tc(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null===t||void 0===t?void 0:t._online.build();return{_offline:null===t||void 0===t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class Pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pc(Mi.fromBase64String(t))}catch(t){throw new Xe(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Pc(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ln(t,Pc._jsonSchema))return Pc.fromBase64String(t.bytes)}}Pc._jsonSchemaVersion="firestore/bytes/1.0",Pc._jsonSchema={type:Pn("string",Pc._jsonSchemaVersion),bytes:Pn("string")};class Lc{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let i=0;i<e.length;++i)if(0===e[i].length)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ic{constructor(t){this._methodName=t}}class Ac{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Xe(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Xe(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return cn(this._lat,t._lat)||cn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ac._jsonSchemaVersion}}static fromJSON(t){if(Ln(t,Ac._jsonSchema))return new Ac(t.latitude,t.longitude)}}Ac._jsonSchemaVersion="firestore/geoPoint/1.0",Ac._jsonSchema={type:Pn("string",Ac._jsonSchemaVersion),latitude:Pn("number"),longitude:Pn("number")};class Nc{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Nc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ln(t,Nc._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(t=>"number"==typeof t))return new Nc(t.vectorValues);throw new Xe(Ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nc._jsonSchemaVersion="firestore/vectorValue/1.0",Nc._jsonSchema={type:Pn("string",Nc._jsonSchemaVersion),vectorValues:Pn("object")};const Dc=/^__.*__$/;class Mc{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new $o(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xo(t,this.data,e,this.fieldTransforms)}}class Oc{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new $o(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Rc(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{dataSource:t})}}class zc{constructor(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new zc(a(a({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Jc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(Rc(this.dataSource)&&Dc.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Fc{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||gl(t)}createContext(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zc({dataSource:t,methodName:e,targetDoc:n,path:bn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bc(t){const e=t._freezeSettings(),n=gl(t._databaseId);return new Fc(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vc(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,r);Qc("Data must be an object, but it was:",s,i);const a=Gc(i,s);let l,u;if(o.merge)l=new Ni(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const t=[];for(const i of o.mergeFields){const r=Yc(e,i,n);if(!s.contains(r))throw new Xe(Ye.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));th(t,r)||t.push(r)}l=new Ni(t),u=s.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,u=s.fieldTransforms;return new Mc(new vr(a),l,u)}class jc extends Ic{_toFieldTransform(t){if(2!==t.dataSource)throw 1===t.dataSource?t.createError("".concat(this._methodName,"() can only appear at the top level of your update data")):t.createError("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jc}}class Uc extends Ic{constructor(t,e){super(t),this.Vc=e}_toFieldTransform(t){const e=new Fo(t.serializer,Po(t.serializer,this.Vc));return new jo(t.path,e)}isEqual(t){return t instanceof Uc&&this.Vc===t.Vc}}function qc(t,e,n,i){const r=t.createContext(1,e,n);Qc("Data must be an object, but it was:",r,i);const o=[],s=vr.empty();Ti(i,(t,i)=>{const a=$c(e,t,n);i=$(i);const l=r.childContextForFieldPath(a);if(i instanceof jc)o.push(a);else{const t=Wc(i,l);null!=t&&(o.push(a),s.set(a,t))}});const a=new Ni(o);return new Oc(s,a,r.fieldTransforms)}function Hc(t,e,n,i,r,o){const s=t.createContext(1,e,n),a=[Yc(e,i,n)],l=[r];if(o.length%2!=0)throw new Xe(Ye.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(Yc(e,o[d])),l.push(o[d+1]);const u=[],c=vr.empty();for(let d=a.length-1;d>=0;--d)if(!th(u,a[d])){const t=a[d];let e=l[d];e=$(e);const n=s.childContextForFieldPath(t);if(e instanceof jc)u.push(t);else{const i=Wc(e,n);null!=i&&(u.push(t),c.set(t,i))}}const h=new Ni(u);return new Oc(c,h,s.fieldTransforms)}function Zc(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Wc(n,t.createContext(i?4:3,e))}function Wc(t,e){if(Kc(t=$(t)))return Qc("Unsupported field value:",e,t),Gc(t,e);if(t instanceof Ic)return function(t,e){if(!Rc(e.dataSource))throw e.createError("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.createError("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&4!==e.dataSource)throw e.createError("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=Wc(r,e.childContextForArray(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=$(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Po(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Nn.fromDate(t);return{timestampValue:Ds(e.serializer,n)}}if(t instanceof Nn){const n=new Nn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ds(e.serializer,n)}}if(t instanceof Ac)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pc)return{bytesValue:Ms(e.serializer,t._byteString)};if(t instanceof vc){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.createError("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:zs(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Nc)return function(t,e){const n=t instanceof Nc?t.toArray():t,i={fields:{[Qi]:{stringValue:$i},[Ji]:{arrayValue:{values:n.map(t=>{if("number"!=typeof t)throw e.createError("VectorValues must only contain numeric values.");return ko(e.serializer,t)})}}}};return{mapValue:i}}(t,e);if(sa(t))return t._toProto(e.serializer);throw e.createError("Unsupported field value: ".concat(kn(t)))}(t,e)}function Gc(t,e){const n={};return ki(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,(t,i)=>{const r=Wc(i,e.childContextForField(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function Kc(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof Ac||t instanceof Pc||t instanceof vc||t instanceof Ic||t instanceof Nc||sa(t))}function Qc(t,e,n){if(!Kc(n)||!Tn(n)){const i=kn(n);throw"an object"===i?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Yc(t,e,n){if((e=$(e))instanceof Lc)return e._internalPath;if("string"==typeof e)return $c(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xc=new RegExp("[~\\*/\\[\\]]");function $c(t,e,n){if(e.search(Xc)>=0)throw Jc("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new Lc(...e.split("."))._internalPath}catch(i){throw Jc("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Jc(t,e,n,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(i)),s&&(l+=" in document ".concat(r)),l+=")"),new Xe(Ye.INVALID_ARGUMENT,a+t+l)}function th(t,e){return t.some(t=>t.isEqual(e))}class eh{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw We(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ti(t,(t,i)=>{n[t]=this.convertValue(i,e)}),n}convertVectorValue(t){var e;const n=null===(e=t.fields)||void 0===e||null===(e=e[Ji].arrayValue)||void 0===e||null===(e=e.values)||void 0===e?void 0:e.map(t=>zi(t.doubleValue));return new Nc(n)}convertGeoPoint(t){return new Ac(zi(t.latitude),zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Hi(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Zi(t));default:return null}}convertTimestamp(t){const e=Ri(t);return new Nn(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=vn.fromString(t);Ke(oa(n),9688,{name:t});const i=new Ki(n.get(1),n.get(3)),r=new wn(n.popFirst(5));return i.isEqual(e)||qe("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}class nh extends eh{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vc(this.firestore,null,e)}}const ih="@firebase/firestore",rh="4.10.0";function oh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"==typeof n[i])return!0;return!1}(t,["next","error","complete"])}class sh{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new vc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ah(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t,e;return null!==(t=null===(e=this._document)||void 0===e?void 0:e.data.clone().value.mapValue.fields)&&void 0!==t?t:void 0}get(t){if(this._document){const e=this._document.data.field(Yc("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class ah extends sh{data(){return super.data()}}function lh(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Xe(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uh{}class ch extends uh{}function hh(t,e){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e instanceof uh&&n.push(e),n=n.concat(r),function(t){const e=t.filter(t=>t instanceof fh).length,n=t.filter(t=>t instanceof dh).length;if(e>1||e>0&&n>0)throw new Xe(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class dh extends ch{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new dh(t,e,n)}_apply(t){const e=this._parse(t);return vh(t._query,e),new yc(t.firestore,t.converter,no(t._query,e))}_parse(t){const e=Bc(t.firestore),n=function(t,e,n,i,r,o,s){let a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){yh(s,o);const e=[];for(const n of s)e.push(gh(i,t,n));a={arrayValue:{values:e}}}else a=gh(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yh(s,o),a=Zc(n,e,s,"in"===o||"not-in"===o);return Cr.create(r,o,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}class fh extends uh{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new fh(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:Pr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)vh(n,r),n=no(n,r)}(t._query,e),new yc(t.firestore,t.converter,no(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ph extends ch{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ph(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xr(e,n)}(t._query,this._field,this._direction);return new yc(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Kr(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function mh(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Yc("orderBy",t);return ph._create(n,e)}function gh(t,e,n){if("string"==typeof(n=$(n))){if(""===n)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$r(e)&&-1!==n.indexOf("/"))throw new Xe(Ye.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=e.path.child(vn.fromString(n));if(!wn.isDocumentKey(i))throw new Xe(Ye.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return ur(t,new wn(i))}if(n instanceof vc)return ur(t,n._key);throw new Xe(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kn(n),"."))}function yh(t,e){if(!Array.isArray(t)||0===t.length)throw new Xe(Ye.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function vh(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Xe(Ye.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Xe(Ye.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function _h(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class bh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wh extends sh{constructor(t,e,n,i,r,o){super(t,e,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Yc("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=wh._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),t&&t.isValidDocument()&&t.isFoundDocument()?(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e):e}}wh._jsonSchemaVersion="firestore/documentSnapshot/1.0",wh._jsonSchema={type:Pn("string",wh._jsonSchemaVersion),bundleSource:Pn("string","DocumentSnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class Sh extends wh{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Eh{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new bh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Sh(this._firestore,this._userDataWriter,n.key,n,new bh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Xe(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const i=new Sh(t._firestore,t._userDataWriter,n.doc.key,n.doc,new bh(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const i=new Sh(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bh(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,o=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:xh(e.type),doc:i,oldIndex:r,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Eh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=un.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],i=[];return this.docs.forEach(t=>{null!==t._document&&(e.push(t._document),n.push(this._userDataWriter.convertObjectMap(t._document.data.value.mapValue.fields,"previous")),i.push(t.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xh(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:t})}}Eh._jsonSchemaVersion="firestore/querySnapshot/1.0",Eh._jsonSchema={type:Pn("string",Eh._jsonSchemaVersion),bundleSource:Pn("string","QuerySnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class Th{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Bc(t)}set(t,e,n){this._verifyNotCommitted();const i=kh(t,this._firestore),r=_h(i.converter,e,n),o=Vc(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,qo.none())),this}update(t,e,n){this._verifyNotCommitted();const i=kh(t,this._firestore);let r;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return r="string"==typeof(e=$(e))||e instanceof Lc?Hc(this._dataReader,"WriteBatch.update",i._key,e,n,s):qc(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(r.toMutation(i._key,qo.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=kh(t,this._firestore);return this._mutations=this._mutations.concat(new ns(e._key,qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kh(t,e){if((t=$(t)).firestore!==e)throw new Xe(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ch(t){t=Cn(t,yc);const e=Cn(t.firestore,Tc),n=kc(e),i=new nh(e);return lh(t._query),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new $e;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,i,r){const o=new $u({next:n=>{o.Nu(),e.enqueueAndForget(()=>du(t,s)),n.fromCache&&"server"===i.source?r.reject(new Xe(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),s=new vu(n,o,{includeMetadataChanges:!0,Ka:!0});return hu(t,s)}(await sc(t),t.asyncQueue,e,n,i)),i.promise}(n,t._query).then(n=>new Eh(e,i,t,n))}function Ph(t,e){const n=Cn(t.firestore,Tc),i=wc(t),r=_h(t.converter,e);return Ih(n,[Vc(Bc(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,qo.exists(!1))]).then(()=>i)}function Lh(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t=$(t);let r={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof n[o]||oh(n[o])||(r=n[o++]);const s={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(oh(n[o])){var a,l,u;const t=n[o];n[o]=null===(a=t.next)||void 0===a?void 0:a.bind(t),n[o+1]=null===(l=t.error)||void 0===l?void 0:l.bind(t),n[o+2]=null===(u=t.complete)||void 0===u?void 0:u.bind(t)}let c,h,d;if(t instanceof vc)h=Cn(t.firestore,Tc),d=Yr(t._key.path),c={next:e=>{n[o]&&n[o](Ah(h,t,e))},error:n[o+1],complete:n[o+2]};else{const e=Cn(t,yc);h=Cn(e.firestore,Tc),d=e._query;const i=new nh(h);c={next:t=>{n[o]&&n[o](new Eh(h,i,e,t))},error:n[o+1],complete:n[o+2]},lh(t._query)}return function(t,e,n,i){const r=new $u(i),o=new vu(e,r,n);return t.asyncQueue.enqueueAndForget(async()=>hu(await sc(t),o)),()=>{r.Nu(),t.asyncQueue.enqueueAndForget(async()=>du(await sc(t),o))}}(kc(h),d,s,c)}function Ih(t,e){return ac(kc(t),e)}function Ah(t,e,n){const i=n.docs.get(e._key),r=new nh(t);return new wh(t,r,e._key,i,new bh(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Be="12.8.0",le(new J("firestore",(t,n)=>{let{instanceIdentifier:i,options:r}=n;const o=t.getProvider("app").getImmediate(),s=new Tc(new nn(t.getProvider("auth-internal")),new an(o,t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Xe(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ki(t.options.projectId,e)}(o,i),o);return r=a({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),fe(ih,rh,t),fe(ih,rh,"esm2020")}();const Nh=function(t,e){const n="object"==typeof t?t:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne;const e=re.get(t);if(!e&&t===ne&&z())return de();if(!e)throw ce.create("no-app",{appName:t});return e}(),i="string"==typeof t?t:e||Gi,r=ue(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const t=R("firestore");t&&gc(r,...t)}return r}(de({apiKey:"AIzaSyAQVs5Ve_GjZc6afvuK9M32UmmyCsN4RN0",authDomain:"busan-trip-797e3.firebaseapp.com",projectId:"busan-trip-797e3",storageBucket:"busan-trip-797e3.firebasestorage.app",messagingSenderId:"94195136768",appId:"1:94195136768:web:4cb33befc50bd44cf2dbe5"}));var Dh=n(579);const Mh=[{id:1,name:"\uc1a1\ub3c4 \ud574\uc0c1\ucf00\uc774\ube14\uce74",lat:35.076,lng:129.017,img:"https://busanaircruise.co.kr/images/contents/intro-img.png",likes:1240,desc:"\ubc14\ub2e4 \uc704\ub97c \uac00\ub85c\uc9c0\ub974\ub294 \uc9dc\ub9bf\ud55c \uacbd\ud5d8! \uc1a1\ub3c4 \ud574\uc218\uc695\uc7a5\uc758 \uc804\uacbd\uc774 \ud55c\ub208\uc5d0 \ub4e4\uc5b4\uc635\ub2c8\ub2e4."},{id:2,name:"\uc554\ub0a8\uacf5\uc6d0",lat:35.064,lng:129.022,img:"https://cdn.dailysecu.com/news/photo/202508/168871_197918_198.jpg",likes:958,desc:"\uc870\uac1c\uad6c\uc774 \ub9db\uc9d1\ub4e4\uc774 \ubaa8\uc5ec\uc788\ub294 \uacf3\uc73c\ub85c \uc720\uba85\ud574\uc694. \ucf00\uc774\ube14\uce74 \ud0c0\uace0 \ub0b4\ub824\uc11c \uac00\uae30 \ub531!"},{id:3,name:"\ub0a8\ud3ec\ub3d9 \ucee4\ud53c \ub124\ub8e8\ub2e4",lat:35.097,lng:129.035,img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=500&q=80",likes:821,desc:"\uace0\ud48d\uc2a4\ub7ec\uc6b4 \uc778\ud14c\ub9ac\uc5b4\uc640 \ud5a5\uae0b\ud55c \ucee4\ud53c\uac00 \uc788\ub294 \uacf3. \uc7a0\uc2dc \uc26c\uc5b4\uac00\uae30 \uc88b\uc544\uc694."},{id:4,name:"\ubd80\ud3c9 \uae61\ud1b5\uc2dc\uc7a5",lat:35.101,lng:129.026,img:"https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20170228_77%2F1488249921205G9x7H_JPEG%2F186178517539663_0.jpeg",likes:2105,desc:"\ubd80\uc0b0\uc758 \ub9db\uc744 \uc81c\ub300\ub85c \ub290\ub07c\uace0 \uc2f6\ub2e4\uba74 \ud544\uc218! \ube44\ube54\ub2f9\uba74, \uc720\ubd80\uc8fc\uba38\ub2c8 \ub4f1 \uba39\uac70\ub9ac \ucc9c\uad6d."},{id:5,name:"\uc774\uc7ac\ubaa8 \ud53c\uc790",lat:35.102,lng:129.03,img:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=500&q=80",likes:3402,desc:"\ubd80\uc0b0 \ub85c\uceec \ucc10 \ub9db\uc9d1. \uce58\uc988\uac00 \ud758\ub7ec\ub118\uce58\ub294 \ud53c\uc790\ub97c \ub9db\ubcf4\ub824\uba74 \uc6e8\uc774\ud305\uc740 \ud544\uc218!"}],Oh=[{id:1,question:"\uc5ec\ud589 \uac00\uba74, \uc81c\uc77c \uba3c\uc800 \ub5a0\uc624\ub974\ub294 \uac74 \ubb50\uc608\uc694?",options:[{text:"\u2460 \uc544\ubb34 \uc0dd\uac01 \uc5c6\uc774 \uc26c\uae30",scores:{R:2}},{text:"\u2461 \ub9db\uc9d1 \ud22c\uc5b4",scores:{L:1,T:1}},{text:"\u2462 \uc778\uc0dd\uc0f7 \ub0a8\uae30\uae30",scores:{T:2}},{text:"\u2463 \ubb38\ud654\xb7\uc5ed\uc0ac \ud0d0\ubc29",scores:{L:2}},{text:"\u2464 \uc1fc\ud551 \uc2a4\ucf00\uc904",scores:{T:1,A:1}},{text:"\u2465 \uc774\uac83\uc800\uac83 \uccb4\ud5d8\ud558\uae30",scores:{A:2}}]},{id:2,question:"\ub2f9\uc2e0\uc758 \uc5ec\ud589 \uc2a4\ud0c0\uc77c\uc740?",options:[{text:"\u2460 \uc77c\uc815 \uaf49\uaf49 \ucc44\uc6b0\ub294 \ud0c0\uc785",scores:{J:2,A:1}},{text:"\u2461 \ub290\uae0b~\ud558\uac8c \uc990\uae30\ub294 \ud0c0\uc785",scores:{P:1,R:2}},{text:"\u2462 \ubc1c\uae38 \ub2ff\ub294 \ub300\ub85c \ud0c0\uc785",scores:{P:2}}]},{id:3,question:"\uc5ec\ud589\uc9c0\uc5d0\uc11c \uac00\uc7a5 \ub04c\ub9ac\ub294 \uc7a5\uc18c\ub294? (\ud558\ub098\ub9cc!)",options:[{text:"\u2460 \ubc14\ub2e4\xb7\uc790\uc5f0 \ud790\ub9c1 \uc2a4\ud3ff",scores:{R:2,L:1}},{text:"\u2461 \uace8\ubaa9\uae38\xb7\uc2dc\uc7a5 \uad6c\uacbd",scores:{L:2,A:1}},{text:"\u2462 \uc804\uc2dc\xb7\ubc15\ubb3c\uad00 \ud0d0\ud5d8",scores:{L:1,T:1}},{text:"\u2463 \uac10\uc131 \uce74\ud398 \ud22c\uc5b4",scores:{T:2,R:1}},{text:"\u2464 \ub79c\ub4dc\ub9c8\ud06c \uc778\uc99d\uc0f7",scores:{T:2,A:1}},{text:"\u2465 \ub514\uc9c0\ud138\xb7\ubbf8\ub514\uc5b4 \uccb4\ud5d8\uc874",scores:{T:2,A:1}}]},{id:4,question:"\uc804\ud1b5\xb7\uc608\uc220 \uac19\uc740 \ubb38\ud654 \uccb4\ud5d8, \uc194\uc9c1\ud788 \ub9d0\ud558\uba74?",options:[{text:"\u2460 \ubb34\uc870\uac74 \ud55c\ub2e4!",scores:{L:2,A:1}},{text:"\u2461 \uc788\uc73c\uba74 \ud574\ubcf8\ub2e4",scores:{L:1}},{text:"\u2462 \uc74c\u2026 \uad73\uc774?",scores:{T:1}}]},{id:5,question:"AR\xb7VR \uac19\uc740 \ub514\uc9c0\ud138 \uad00\uad11 \ucf58\ud150\uce20, \uc5b4\ub54c\uc694?",options:[{text:"\u2460 \uc644\uc804 \ucde8\ud5a5 \uc800\uaca9",scores:{T:2,A:1}},{text:"\u2461 \uc788\uc73c\uba74 \ub354 \uc7ac\ubc0c\ub2e4",scores:{T:1}},{text:"\u2462 \uc5c6\uc5b4\ub3c4 \uc0c1\uad00\uc5c6\ub2e4",scores:{L:1}}]},{id:6,question:"\ud558\ub8e8 \uc5ec\ud589 \ucf54\uc2a4, \ub2f9\uc2e0\uc758 \uc120\ud0dd\uc740?",options:[{text:"\u2460 \ud55c \uacf3\ub9cc \uc81c\ub300\ub85c \ud30c\uae30",scores:{J:1,R:1}},{text:"\u2461 \uc5ec\ub7ec \uacf3 \ucc0d\uace0 \ub2e4\ub2c8\uae30",scores:{J:1,A:2}},{text:"\u2462 \uadf8\ub0a0 \uae30\ubd84 \ub530\ub77c",scores:{P:2}}]},{id:7,question:"\ubd80\uc0b0 \uc5ec\ud589 \uac04\ub2e4\uba74, \uc81c\uc77c \uae30\ub300\ub418\ub294 \uac74?",options:[{text:"\u2460 \ubc14\ub2e4 \ubcf4\uba74\uc11c \ud790\ub9c1",scores:{R:2}},{text:"\u2461 \uc5ed\uc0ac\xb7\uc804\ud1b5 \ub290\ub07c\uae30",scores:{L:2}},{text:"\u2462 \ubb38\ud654\uc608\uc220 \uc990\uae30\uae30",scores:{T:1,L:1}},{text:"\u2463 \uba39\uace0 \uc1fc\ud551\ud558\uace0 \ub610 \uba39\uae30",scores:{T:1,A:1}},{text:"\u2464 \uc2a4\ub9c8\ud2b8 \uad00\uad11 \uccb4\ud5d8\ud558\uae30",scores:{T:2}}]},{id:8,question:"\uc5f0\ub839\ub300\ub294 \uc5b4\ub514\ucbe4\uc774\uc2e0\uac00\uc694?",options:[{text:"\u2460 10\ub300",scores:{T:1}},{text:"\u2461 20\ub300",scores:{T:1}},{text:"\u2462 30\ub300",scores:{L:1}},{text:"\u2463 40\ub300",scores:{L:1}},{text:"\u2464 50\ub300 \uc774\uc0c1",scores:{L:2,R:1}}]}],Rh={"J-Relax-Local":{mbti:"\uaf3c\uaf3c\ud55c \ud790\ub7ec",desc:"\uacc4\ud68d\uc801\uc774\uba74\uc11c\ub3c4 \uc5ec\uc720\ub97c \uc990\uae30\ub294 \ub2f9\uc2e0!",color:"#4facfe"},"J-Relax-Trendy":{mbti:"\uac10\uc131 \ud50c\ub798\ub108",desc:"\uc644\ubcbd\ud55c \ub3d9\uc120\uc73c\ub85c \uc608\uc05c \uacf3\ub9cc \uace8\ub77c\uac00\uc694.",color:"#a18cd1"},"J-Active-Local":{mbti:"\uc5f4\uc815 \ud0d0\ud5d8\uac00",desc:"\ubd80\uc0b0\uc758 \ucc10 \ubc14\uc774\ube0c\ub97c \ub290\ub07c\uace0 \uc2f6\uc5b4\ud558\ub294 \ub2f9\uc2e0!",color:"#ff9a9e"},"J-Active-Trendy":{mbti:"\ud2b8\ub80c\ub4dc \ub9ac\ub354",desc:"\ubd80\uc0b0\uc5d0\uc11c \uac00\uc7a5 \ud56b\ud55c \uacf3\uc740 \ub2e4 \uac00\ubd10\uc57c \uc9c1\uc131\uc774 \ud480\ub824\uc694.",color:"#fbc2eb"},"P-Relax-Local":{mbti:"\uc790\uc720\ub85c\uc6b4 \uc601\ud63c",desc:"\ubc14\ub2e4 \ub0c4\uc0c8 \ub9e1\uc73c\uba70 \uc18c\uc8fc \ud55c \uc794, \uc774\uac8c \ub0ad\ub9cc\uc774\uc9c0!",color:"#8fd3f4"},"P-Relax-Trendy":{mbti:"\ub0ad\ub9cc \ubc29\ub791\uc790",desc:"\uc608\uc05c \uce74\ud398\uc5d0\uc11c \ud558\ub8e8 \uc885\uc77c \uc788\uc5b4\ub3c4 \uc88b\uc544\uc694.",color:"#cfd9df"},"P-Active-Local":{mbti:"\uc5d0\ub108\uc9c0 \ubd80\uc790",desc:"\uc2dc\uc7a5\ud1b5\uc5d0\uc11c \uc774\ubaa8\ub2d8\uc774\ub791 \uce5c\uad6c \uba39\ub294 \uce5c\ud654\ub825!",color:"#ff758c"},"P-Active-Trendy":{mbti:"\ud799\uc2a4\ud130 \uc5ec\ud589\ub7ec",desc:"\uc9c0\ub3c4 \uc5c6\uc774 \uac77\ub2e4\uac00 \ubc1c\uacac\ud55c \ud799\ud55c \uacf3\uc744 \uc88b\uc544\ud574\uc694.",color:"#a6c0fe"}};function zh(e){let{center:n}=e;const i=c();return(0,t.useEffect)(()=>{n&&i.flyTo(n,14,{duration:1.5})},[n,i]),null}const Fh=function(){const[e,n]=(0,t.useState)(0),[i,r]=(0,t.useState)(""),[o,s]=(0,t.useState)([]),[l,u]=(0,t.useState)(0),[c,h]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[m,y]=(0,t.useState)([]),[v,_]=(0,t.useState)(null),[b,w]=(0,t.useState)([]),[S,E]=(0,t.useState)(""),x=(0,t.useRef)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=hh(bc(Nh,"places"),mh("id","asc"));if((await Ch(e)).empty){console.log("DB\uc5d0 \uc7a5\uc18c \ub370\uc774\ud130\uac00 \uc5c6\uc5b4 \uc5c5\ub85c\ub4dc\ub97c \uc2dc\uc791\ud569\ub2c8\ub2e4...");const e=(kc(t=Cn(t=Nh,Tc)),new Th(t,e=>Ih(t,e)));Mh.forEach(t=>{const n=wc(Nh,"places","place_".concat(t.id));e.set(n,t)}),await e.commit(),console.log("\ucd08\uae30 \ub370\uc774\ud130 \uc5c5\ub85c\ub4dc \uc644\ub8cc!")}}catch(e){console.error("\ub370\uc774\ud130 \ucd08\uae30\ud654 \uc5d0\ub7ec:",e)}var t})();const t=Lh(hh(bc(Nh,"places"),mh("id","asc")),t=>{const e=t.docs.map(t=>a({docId:t.id},t.data()));y(e)});return()=>t()},[]),(0,t.useEffect)(()=>{const t=new URLSearchParams(window.location.search),e=t.get("result"),i=t.get("name");e&&Rh[e]&&(p(e),r(i||"\uc775\uba85"),n(10))},[]),(0,t.useEffect)(()=>{if(!v)return;const t=Lh(hh(bc(Nh,"reviews"),function(t,e,n){const i=e,r=Yc("where",t);return dh._create(r,i,n)}("placeName","==",v.name),mh("createdAt","desc")),t=>{const e=t.docs.map(t=>a({id:t.id},t.data()));w(e)},t=>{console.error("\ub9ac\ubdf0 \ubd88\ub7ec\uc624\uae30 \uc5d0\ub7ec (\uc0c9\uc778 \ubb38\uc81c\uc77c \uc218 \uc788\uc74c):",t)});return()=>t()},[v]);const k=()=>{n(0),s([]),r(""),u(0),p(null),h(null),window.history.pushState({},null,window.location.pathname)},L=()=>{const t=d||I(),e="".concat(window.location.origin).concat(window.location.pathname,"?result=").concat(t,"&name=").concat(i);navigator.clipboard.writeText(e),alert("\ub9c1\ud06c \ubcf5\uc0ac \uc644\ub8cc! \uce5c\uad6c\uc5d0\uac8c \uacf5\uc720\ud558\uc138\uc694 \ud83d\udc8c")},I=()=>{let t=0,e=0,n=0;o.forEach(i=>{i.J&&(t+=i.J),i.P&&(t-=i.P),i.A&&(e+=i.A),i.R&&(e-=i.R),i.T&&(n+=i.T),i.L&&(n-=i.L)});const i=e>=0?"Active":"Relax",r=n>=0?"Trendy":"Local";return"".concat(t>=0?"J":"P","-").concat(i,"-").concat(r)},A=async()=>{var t;if(v&&v.docId)try{const e=wc(Nh,"places",v.docId);await function(t,e,n){t=Cn(t,vc);const i=Cn(t.firestore,Tc),r=Bc(i);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(e=$(e))||e instanceof Lc?Hc(r,"updateDoc",t._key,e,n,a):qc(r,"updateDoc",t._key,e),Ih(i,[o.toMutation(t._key,qo.exists(!0))])}(e,{likes:(t=1,new Uc("increment",t))}),alert("'".concat(v.name,"'\uc5d0 \uc88b\uc544\uc694\ub97c \ubcf4\ub0c8\uc5b4\uc694! \u2764\ufe0f"))}catch(t){console.error("\uc88b\uc544\uc694 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",t),alert("\uc88b\uc544\uc694 \ubc18\uc601\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else console.error("\uc120\ud0dd\ub41c \uc7a5\uc18c \uc815\ubcf4\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},N=async()=>{if(S.trim())try{await Ph(bc(Nh,"reviews"),{placeName:v.name,text:S,userName:i||"\uc775\uba85",createdAt:new Date}),E("")}catch(t){console.error("\ub9ac\ubdf0 \uc800\uc7a5 \uc2e4\ud328:",t),alert("\ub9ac\ubdf0 \uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},D=()=>{_(null),w([])};return(0,t.useEffect)(()=>{if(9===e){let t=0;const e=setInterval(()=>{if(t+=1,t>80&&(t+=.5),u(Math.min(Math.floor(t),100)),t>=100){clearInterval(e);(async()=>{try{const t=I();await Ph(bc(Nh,"test_results"),{name:i,result:t,answers:o,timestamp:new Date})}catch(t){console.error("\uacb0\uacfc \uc800\uc7a5 \uc5d0\ub7ec",t)}})(),n(10)}},25);return()=>clearInterval(e)}},[e]),(0,Dh.jsx)("div",{className:"app-container",children:(0,Dh.jsxs)("div",{className:"phone-frame",children:[(0,Dh.jsx)("div",{className:"notch"}),(0,Dh.jsxs)("div",{className:"screen",children:[(0,Dh.jsxs)("div",{className:"status-bar",children:[(0,Dh.jsx)("span",{children:"12:00"}),(0,Dh.jsx)("span",{children:"\ud83d\udd0b 100%"})]}),(0,Dh.jsxs)("div",{className:"content",ref:x,children:[0===e&&(0,Dh.jsxs)("div",{className:"start-screen",children:[(0,Dh.jsxs)("h1",{children:["\ubd80\uc0b0 \uc5ec\ud589",(0,Dh.jsx)("br",{}),"\uc720\ud615 \ud14c\uc2a4\ud2b8 \ud83d\uddfa\ufe0f"]}),(0,Dh.jsxs)("p",{children:["\ub098\uc5d0\uac8c \ub531 \ub9de\ub294",(0,Dh.jsx)("br",{}),"\ubd80\uc0b0 \uc5ec\ud589 \ucf54\uc2a4\ub294?"]}),(0,Dh.jsx)("div",{className:"emoji-graphic",children:"\ud83d\ude86\ud83c\udfd6\ufe0f\ud83d\udcf8"}),(0,Dh.jsx)("div",{className:"input-group",children:(0,Dh.jsx)("input",{type:"text",placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694",value:i,onChange:t=>r(t.target.value),className:"name-input"})}),(0,Dh.jsx)("button",{className:"btn-primary",onClick:t=>{t&&t.preventDefault(),i.trim()?n(1):alert("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!")},children:"\ud14c\uc2a4\ud2b8 \uc2dc\uc791\ud558\uae30"})]}),e>=1&&e<=8&&(0,Dh.jsxs)("div",{className:"quiz-screen",children:[(0,Dh.jsx)("button",{className:"btn-back-fixed",onClick:()=>{e>=1&&(n(e-1),s(t=>t.slice(0,-1)))},children:"\u2190 \ub4a4\ub85c\uac00\uae30"}),(0,Dh.jsx)("div",{className:"progress-bar",children:(0,Dh.jsx)("div",{className:"fill",style:{width:"".concat((e-1)/8*100,"%")}})}),(0,Dh.jsxs)("div",{className:"question-box",children:[(0,Dh.jsxs)("span",{className:"q-badge",children:["Q",e]}),(0,Dh.jsx)("h2",{children:Oh[e-1].question})]}),(0,Dh.jsx)("div",{className:"options",children:Oh[e-1].options.map((t,i)=>(0,Dh.jsx)("button",{className:"btn-option",onClick:()=>{return i=t.scores,s([...o,i]),void(e<Oh.length?n(e+1):n(9));var i},children:t.text},"".concat(e,"-").concat(i)))})]}),9===e&&(0,Dh.jsx)("div",{className:"loading-screen",children:(0,Dh.jsxs)("div",{className:"loading-content",children:[(0,Dh.jsx)("div",{className:"spinner",children:"\u2708\ufe0f"}),(0,Dh.jsx)("h2",{children:"\ucde8\ud5a5 \ubd84\uc11d \uc911..."}),(0,Dh.jsxs)("div",{className:"percent-text",children:[l,"%"]}),(0,Dh.jsx)("div",{className:"loading-bar",children:(0,Dh.jsx)("div",{className:"loading-fill",style:{width:"".concat(l,"%")}})})]})}),10===e&&(0,Dh.jsx)("div",{className:"result-screen",children:(t=>{const e=(()=>{if(d&&Rh[d])return Rh[d];const t=I();return Rh[t]||Rh["P-Active-Trendy"]})(),n=m.length>0?m:[],r=n.length>0?[n[1].lat,n[1].lng]:[35.115,129.04],o=c||r,s=[...n].sort((t,e)=>e.likes-t.likes).slice(0,3);return(0,Dh.jsxs)(Dh.Fragment,{children:[(0,Dh.jsxs)("div",{className:"result-header",style:{backgroundColor:e.color},children:[(0,Dh.jsxs)("div",{className:"user-badge",children:["\u2728 ",i,"\ub2d8\uc758 \uc5ec\ud589\ucde8\ud5a5 \ubd84\uc11d \uc644\ub8cc"]}),(0,Dh.jsx)("small",{children:"\ub2f9\uc2e0\uc758 \uc5ec\ud589 \uc720\ud615\uc740"}),(0,Dh.jsx)("h2",{children:e.mbti})]}),(0,Dh.jsxs)("div",{className:"result-body",children:[(0,Dh.jsxs)("div",{className:"ranking-section",children:[(0,Dh.jsx)("h3",{children:"\ud83d\udd25 \uc2e4\uc2dc\uac04 \uc778\uae30 \ub7ad\ud0b9 TOP 3"}),(0,Dh.jsx)("div",{className:"ranking-list",children:s.map((t,e)=>(0,Dh.jsxs)("div",{className:"ranking-item",onClick:()=>_(t),children:[(0,Dh.jsxs)("span",{className:"rank-badge rank-".concat(e+1),children:[e+1,"\uc704"]}),(0,Dh.jsx)("span",{className:"rank-name",children:t.name}),(0,Dh.jsxs)("span",{className:"rank-likes",children:["\u2764\ufe0f ",t.likes]})]},e))})]}),(0,Dh.jsx)("div",{className:"map-container-wrapper",children:(0,Dh.jsxs)(g,{center:o,zoom:13,style:{height:"100%",width:"100%"},children:[(0,Dh.jsx)(T,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,Dh.jsx)(zh,{center:o}),n.map((t,e)=>{return(0,Dh.jsx)(C,{position:[t.lat,t.lng],icon:(n=e+1,new(f().DivIcon)({html:'<div class="custom-marker">'.concat(n,"</div>"),className:"custom-marker-container",iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]})),eventHandlers:{click:()=>_(t)},children:(0,Dh.jsxs)(P,{children:[(0,Dh.jsx)("b",{children:t.name}),(0,Dh.jsx)("br",{}),"\ud074\ub9ad\ud574\uc11c \uc790\uc138\ud788 \ubcf4\uae30"]})},t.docId||e);var n})]})}),(0,Dh.jsx)("h3",{children:"\ud83d\udccd \ucd94\ucc9c \ucf54\uc2a4 (\uc9c0\ub3c4 \ubc88\ud638\uc640 \uac19\uc544\uc694!)"}),(0,Dh.jsx)("ul",{className:"course-list-visual",children:n.map((t,e)=>(0,Dh.jsxs)("li",{className:"course-card",onClick:()=>{_(t),h([t.lat,t.lng])},children:[(0,Dh.jsx)("div",{className:"card-image",style:{backgroundImage:"url(".concat(t.img,")")},children:(0,Dh.jsx)("span",{className:"card-num",children:e+1})}),(0,Dh.jsx)("div",{className:"card-info",children:(0,Dh.jsx)("h4",{children:t.name})})]},t.docId||e))}),(0,Dh.jsxs)("div",{className:"action-buttons",children:[(0,Dh.jsx)("button",{className:"btn-share",onClick:L,children:"\uacf5\uc720 \ud558\uae30 \ud83d\udd17"}),(0,Dh.jsx)("button",{className:"btn-retry",onClick:k,children:"\ub2e4\uc2dc \ud558\uae30 \ud83d\udd04"})]})]}),v&&(0,Dh.jsx)("div",{className:"modal-overlay",onClick:D,children:(0,Dh.jsxs)("div",{className:"modal-content",onClick:t=>t.stopPropagation(),children:[(0,Dh.jsx)("button",{className:"btn-close",onClick:D,children:"\u2715"}),(0,Dh.jsxs)("div",{className:"modal-body-scroll",children:[(0,Dh.jsx)("img",{src:v.img,alt:v.name,className:"modal-img"}),(0,Dh.jsx)("h3",{style:{marginBottom:"5px"},children:v.name}),(0,Dh.jsx)("p",{className:"modal-desc",style:{fontSize:"0.95rem",color:"#666"},children:v.desc}),(0,Dh.jsxs)("div",{className:"modal-likes-row",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[(0,Dh.jsxs)("span",{style:{fontWeight:"bold",color:"#ff5e62"},children:["\u2764\ufe0f ",(null===(t=m.find(t=>t.docId===v.docId))||void 0===t?void 0:t.likes)||v.likes,"\uba85"]}),(0,Dh.jsx)("button",{onClick:A,style:{padding:"5px 12px",borderRadius:"20px",border:"1px solid #ff5e62",background:"white",color:"#ff5e62",cursor:"pointer",fontSize:"0.8rem"},children:"\uc88b\uc544\uc694 \ub204\ub974\uae30 \ud83d\udc4d"})]}),(0,Dh.jsx)("hr",{style:{border:"0",borderTop:"1px solid #eee",margin:"20px 0"}}),(0,Dh.jsxs)("div",{className:"review-section",children:[(0,Dh.jsx)("h4",{style:{marginBottom:"10px"},children:"\ud83d\udcac \uc2e4\uc2dc\uac04 \uc5ec\ud589 \ud1a1"}),(0,Dh.jsx)("div",{className:"review-list",style:{maxHeight:"200px"},children:0===b.length?(0,Dh.jsx)("p",{className:"no-review",style:{textAlign:"center",color:"#aaa",padding:"20px"},children:"\uccab \ud6c4\uae30\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694! \ud83d\udcdd"}):b.map(t=>(0,Dh.jsxs)("div",{className:"review-item",children:[(0,Dh.jsx)("span",{style:{fontWeight:"bold",marginRight:"6px"},children:t.userName}),(0,Dh.jsx)("span",{style:{color:"#333"},children:t.text})]},t.id))}),(0,Dh.jsxs)("div",{className:"review-input-box",style:{marginTop:"10px"},children:[(0,Dh.jsx)("input",{type:"text",value:S,onChange:t=>E(t.target.value),placeholder:"\ud6c4\uae30\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694!",onKeyPress:t=>"Enter"===t.key&&N()}),(0,Dh.jsx)("button",{onClick:N,children:"\ub4f1\ub85d"})]})]})]})]})})]})})()})]}),(0,Dh.jsx)("div",{className:"home-indicator"})]})]})})},Bh=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,453)).then(e=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=e;n(t),i(t),r(t),o(t),s(t)})};e.createRoot(document.getElementById("root")).render((0,Dh.jsx)(t.StrictMode,{children:(0,Dh.jsx)(Fh,{})})),Bh()})()})();
//# sourceMappingURL=main.ec315465.js.map